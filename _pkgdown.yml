url: https://peteowen1.github.io/panna/

template:
  bootstrap: 5

navbar:
  structure:
    left: [intro, reference, articles]
    right: [search, github]
  components:
    articles:
      text: Articles
      menu:
      - text: Getting Started
        href: articles/getting-started.html
      - text: Pipeline Walkthrough
        href: articles/pipeline-walkthrough.html
      - text: Player Ratings Methodology
        href: articles/player-ratings.html
      - text: Data Sources Guide
        href: articles/data-sources.html

articles:
- title: Getting Started
  navbar: ~
  contents:
  - getting-started
  - pipeline-walkthrough
  - player-ratings
  - data-sources

reference:
- title: Data Loading - Opta
  desc: Load Opta player statistics (263 columns, 15 leagues)
  contents:
  - load_opta_stats
  - load_opta_shots
  - load_opta_match_events
  - load_opta_lineups
  - load_opta_fixtures
  - load_opta_xmetrics
  - load_opta_shot_events
  - load_opta_events
  - load_opta_big5
  - load_opta_skills
  - load_opta_match_stats

- title: Data Loading - Understat
  desc: Load Understat data (xGChain, xGBuildup)
  contents:
  - load_understat_roster
  - load_understat_shots
  - load_understat_metadata

- title: Data Loading - FBref
  desc: Load FBref match data from pannadata (StatsBomb xG)
  contents:
  - load_summary
  - load_passing
  - load_defense
  - load_possession
  - load_keeper
  - load_shots
  - load_metadata
  - load_events

- title: Player Statistics
  desc: Aggregated player statistics by source
  contents:
  - player_opta_summary
  - player_opta_passing
  - player_opta_defense
  - player_opta_possession
  - player_opta_keeper
  - player_opta_shots
  - player_opta_setpiece
  - player_opta_xg
  - player_opta_xpass
  - player_understat_summary
  - player_fbref_summary
  - player_fbref_passing
  - player_fbref_defense
  - player_fbref_keeper
  - player_profile

- title: RAPM Pipeline
  desc: Regularized Adjusted Plus-Minus model
  contents:
  - create_all_splints
  - create_rapm_design_matrix
  - fit_rapm
  - fit_rapm_with_prior
  - extract_rapm_ratings

- title: SPM Pipeline
  desc: Statistical Plus-Minus model
  contents:
  - aggregate_player_stats
  - fit_spm_model
  - fit_spm_xgb
  - calculate_spm_ratings
  - calculate_spm_ratings_xgb
  - get_spm_feature_importance

- title: SPM Pipeline - Opta
  desc: Opta-specific SPM model with 80+ features
  contents:
  - aggregate_opta_stats
  - compute_match_level_opta_stats
  - fit_spm_opta
  - compare_spm_features

- title: Panna Ratings
  desc: Combined RAPM + SPM ratings
  contents:
  - fit_panna_model
  - calculate_panna_rating
  - get_panna_ratings
  - extract_xrapm_ratings
  - rank_players_panna
  - validate_panna_ratings

- title: Offensive/Defensive Analysis
  desc: Rating decomposition and analysis
  contents:
  - split_od_contributions
  - calculate_od_panna
  - categorize_player_profile
  - get_top_offensive
  - get_top_defensive
  - visualize_od_scatter

- title: EPV (Expected Possession Value)
  desc: Action-level player valuation from Opta event data
  contents:
  - convert_opta_to_spadl
  - create_possession_chains
  - fit_epv_model
  - calculate_action_epv
  - assign_epv_credit
  - aggregate_player_epv
  - save_epv_model
  - load_epv_model
  - pb_download_epv_models
  - validate_epv_model
  - fit_xg_model
  - predict_xg
  - save_xg_model
  - load_xg_model
  - validate_xg_model
  - aggregate_player_xmetrics
  - fit_xpass_model
  - predict_xpass
  - save_xpass_model
  - load_xpass_model
  - split_pass_credit

- title: Estimated Skills
  desc: Bayesian decay-weighted skill estimation with position-specific priors
  contents:
  - estimate_player_skills
  - estimate_player_skills_at_date
  - player_skill_profile
  - inspect_skill
  - aggregate_skills_for_spm
  - backtest_skill_predictions
  - adjust_match_stats_for_context
  - get_default_decay_params
  - compute_position_multipliers
  - optimize_all_priors
  - optimize_stat_prior
  - get_stat_tiers

- title: Match Prediction
  desc: XGBoost Poisson/multinomial match outcome prediction
  contents:
  - aggregate_lineup_ratings
  - aggregate_lineup_skills
  - init_team_elos
  - update_elo
  - compute_match_elos
  - compute_team_rolling_features
  - fit_goals_xgb
  - fit_outcome_xgb
  - predict_match
  - compute_multiclass_logloss
  - calibration_table

- title: Feature Engineering
  desc: Advanced feature creation
  contents:
  - create_player_feature_matrix

- title: Data Distribution
  desc: GitHub Releases upload/download
  contents:
  - pb_download_source
  - pb_download_data
  - pb_download_parquet
  - pb_download_opta
  - pb_download_predictions
  - pb_upload_source
  - pb_upload_data
  - pb_upload_parquet
  - pb_upload_consolidated
  - pb_sync_data
  - pb_list_data
  - pb_list_sources
  - pb_status
  - load_predictions

- title: Scraping - FBref
  desc: FBref data scraping functions
  contents:
  - scrape_fbref_matches
  - scrape_comp_season
  - scrape_fixtures
  - fbref_competitions
  - list_competitions

- title: Scraping - Understat
  desc: Understat data scraping functions
  contents:
  - scrape_understat_season
  - scrape_understat_matches
  - scrape_understat_match
  - scrape_understat_match_range
  - scrape_understat_fixtures
  - bulk_scrape_understat
  - smart_scrape_understat
  - load_understat_manifest
  - save_understat_manifest
  - understat_competitions
  - list_understat_competitions

- title: Cache Management
  desc: Local and remote cache operations
  contents:
  - pannadata_dir
  - opta_data_dir
  - clear_remote_cache

- title: Parquet Operations
  desc: Building and querying parquet files
  contents:
  - build_parquet
  - build_all_parquet
  - build_consolidated_parquet
  - build_consolidated_understat_parquet

- title: Utilities
  desc: Helper functions
  contents:
  - clean_column_names
  - safe_divide
  - per_90
  - validate_seasons
  - validate_dataframe
  - get_big5_leagues

- title: Competition Metadata
  desc: League and competition information
  contents:
  - list_opta_seasons
  - list_opta_leagues
  - get_opta_columns

- title: Validation
  desc: Model and data validation
  contents:
  - validate_predictive_power
  - validate_spm_prediction
  - validate_epv_model
  - validate_xg_model
  - validate_panna_ratings

- title: Analysis & Reporting
  desc: Analysis helpers and reporting
  contents:
  - compare_panna_rapm_spm
  - generate_panna_report
  - report_season_ranges

- title: Constants
  desc: Package-wide constants and thresholds
  contents:
  - BETA_PRIOR_ALPHA
  - CHAIN_TIME_GAP_SECONDS
  - CONFIDENCE_LEVEL
  - HALFTIME_MINUTE
  - MINUTES_PER_MATCH
  - MIN_GAMES_FOR_PADDING
  - MIN_MINUTES_FEATURES
  - MIN_MINUTES_RAPM
  - MIN_MINUTES_SPM
  - MIN_SEQUENCES_PER_MATCH
  - MIN_SHOTS_FOR_FINISHING
  - MIN_WEIGHT_DURATION
  - PENALTY_XG
  - PLAYERS_PER_TEAM
  - SIX_YARD_X_MIN
  - SIX_YARD_Y_MAX
  - SIX_YARD_Y_MIN
  - TOUCHES_PER_SEQUENCE
  - XG_MAX
  - XG_MIN

- title: Deprecated
  desc: Deprecated functions (use alternatives instead)
  contents:
  - fit_epv_scoring_model
  - fit_epv_conceding_model
  - assign_pass_credit
