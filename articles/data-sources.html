<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Data Sources Guide • panna</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Sources Guide">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">panna</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/pipeline-walkthrough.html">Pipeline Walkthrough</a></li>
    <li><a class="dropdown-item" href="../articles/player-ratings.html">Player Ratings Methodology</a></li>
    <li><a class="dropdown-item" href="../articles/data-sources.html">Data Sources Guide</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/peteowen1/panna/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Data Sources Guide</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/peteowen1/panna/blob/main/vignettes/data-sources.Rmd" class="external-link"><code>vignettes/data-sources.Rmd</code></a></small>
      <div class="d-none name"><code>data-sources.Rmd</code></div>
    </div>

    
    
<p>This vignette compares the three data sources available in panna and
helps you choose the right one for your analysis.</p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<table class="table">
<colgroup>
<col width="27%">
<col width="18%">
<col width="33%">
<col width="21%">
</colgroup>
<thead><tr class="header">
<th>Feature</th>
<th>Opta</th>
<th>Understat</th>
<th>FBref</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>xG Model</td>
<td>SPADL + XGBoost</td>
<td>Understat</td>
<td>StatsBomb</td>
</tr>
<tr class="even">
<td>Leagues</td>
<td>15 leagues</td>
<td>Big 5 + Russia</td>
<td>Big 5 + cups + international</td>
</tr>
<tr class="odd">
<td>History</td>
<td>2013+</td>
<td>2014+</td>
<td>2017+</td>
</tr>
<tr class="even">
<td>Columns</td>
<td>263 per match</td>
<td>~30</td>
<td>~70 per table</td>
</tr>
<tr class="odd">
<td>Update Frequency</td>
<td>Varies</td>
<td>Daily</td>
<td>Daily</td>
</tr>
<tr class="even">
<td>Primary Use</td>
<td>Full RAPM/SPM pipeline, EPV, skills, predictions</td>
<td>xGChain analysis</td>
<td>Passing analysis, cup coverage</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="opta-primary-source">Opta (Primary Source)<a class="anchor" aria-label="anchor" href="#opta-primary-source"></a>
</h2>
<p>Opta is the primary data source for the panna rating system, powering
the full RAPM/SPM pipeline, EPV, xMetrics, estimated skills, and match
predictions across 15 leagues.</p>
<div class="section level3">
<h3 id="strengths">Strengths<a class="anchor" aria-label="anchor" href="#strengths"></a>
</h3>
<ul>
<li>
<strong>15 leagues</strong>: Big 5 + NED/POR/TUR/ENG2/SCO +
UCL/UEL/UECL + WC/EURO</li>
<li>
<strong>263 columns</strong>: Most detailed per-match player
statistics</li>
<li>
<strong>Event-level data</strong>: Full match events with x/y
coordinates for EPV and SPADL</li>
<li>
<strong>Own xG model</strong>: SPADL + XGBoost pre-trained model (no
dependency on external xG)</li>
<li>
<strong>Progressive metrics</strong>: Carries, passes, receptions
into penalty area</li>
<li>
<strong>Set pieces</strong>: Detailed breakdown of set piece
involvement</li>
<li>
<strong>xMetrics</strong>: Pre-computed xG/xA/xPass for all
leagues</li>
</ul>
</div>
<div class="section level3">
<h3 id="league-codes">League Codes<a class="anchor" aria-label="anchor" href="#league-codes"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Big 5 leagues</span></span>
<span><span class="st">"EPL"</span>        <span class="co"># Premier League</span></span>
<span><span class="st">"La_Liga"</span>    <span class="co"># La Liga</span></span>
<span><span class="st">"Bundesliga"</span> <span class="co"># Bundesliga</span></span>
<span><span class="st">"Serie_A"</span>    <span class="co"># Serie A</span></span>
<span><span class="st">"Ligue_1"</span>    <span class="co"># Ligue 1</span></span>
<span></span>
<span><span class="co"># Additional domestic leagues</span></span>
<span><span class="st">"NED"</span>   <span class="co"># Eredivisie</span></span>
<span><span class="st">"POR"</span>   <span class="co"># Primeira Liga</span></span>
<span><span class="st">"TUR"</span>   <span class="co"># Super Lig</span></span>
<span><span class="st">"ENG2"</span>  <span class="co"># Championship</span></span>
<span><span class="st">"SCO"</span>   <span class="co"># Scottish Premiership</span></span>
<span></span>
<span><span class="co"># European competitions</span></span>
<span><span class="st">"UCL"</span>   <span class="co"># Champions League</span></span>
<span><span class="st">"UEL"</span>   <span class="co"># Europa League</span></span>
<span><span class="st">"UECL"</span>  <span class="co"># Conference League</span></span>
<span></span>
<span><span class="co"># International tournaments</span></span>
<span><span class="st">"WC"</span>    <span class="co"># World Cup (e.g., "2018 Russia")</span></span>
<span><span class="st">"EURO"</span>  <span class="co"># European Championship (e.g., "2024 Germany")</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="loading-opta-data">Loading Opta Data<a class="anchor" aria-label="anchor" href="#loading-opta-data"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/peteowen1/panna" class="external-link">panna</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download (first time)</span></span>
<span><span class="fu"><a href="../reference/pb_download_source.html">pb_download_source</a></span><span class="op">(</span><span class="st">"opta"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Player match stats (263 columns)</span></span>
<span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_opta_stats.html">load_opta_stats</a></span><span class="op">(</span><span class="st">"EPL"</span>, <span class="st">"2024-2025"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Shot data</span></span>
<span><span class="va">shots</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_opta_shots.html">load_opta_shots</a></span><span class="op">(</span><span class="st">"EPL"</span>, <span class="st">"2024-2025"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># All Big 5 leagues at once</span></span>
<span><span class="va">big5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_opta_big5.html">load_opta_big5</a></span><span class="op">(</span><span class="st">"2024-2025"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Event-level data (for EPV/SPADL)</span></span>
<span><span class="va">match_events</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_opta_match_events.html">load_opta_match_events</a></span><span class="op">(</span><span class="st">"EPL"</span>, <span class="st">"2024-2025"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Lineups and fixtures</span></span>
<span><span class="va">lineups</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_opta_lineups.html">load_opta_lineups</a></span><span class="op">(</span><span class="st">"EPL"</span>, <span class="st">"2024-2025"</span><span class="op">)</span></span>
<span><span class="va">fixtures</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_opta_fixtures.html">load_opta_fixtures</a></span><span class="op">(</span><span class="st">"EPL"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Pre-computed xG/xA/xPass metrics</span></span>
<span><span class="va">xmetrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_opta_xmetrics.html">load_opta_xmetrics</a></span><span class="op">(</span><span class="st">"EPL"</span>, <span class="st">"2024-2025"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Aggregated player stats</span></span>
<span><span class="va">players</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/player_opta_summary.html">player_opta_summary</a></span><span class="op">(</span></span>
<span>  leagues <span class="op">=</span> <span class="st">"EPL"</span>,</span>
<span>  seasons <span class="op">=</span> <span class="st">"2024-2025"</span>,</span>
<span>  min_minutes <span class="op">=</span> <span class="fl">900</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="when-to-use-opta">When to Use Opta<a class="anchor" aria-label="anchor" href="#when-to-use-opta"></a>
</h3>
<ul>
<li>Running the full RAPM/SPM/Panna rating pipeline</li>
<li>EPV (Expected Possession Value) analysis</li>
<li>Estimated skills and match predictions</li>
<li>Research requiring progressive carries or set pieces</li>
<li>Analysis across 15 leagues (beyond Big 5)</li>
<li>Historical analysis (2013+)</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="understat">Understat<a class="anchor" aria-label="anchor" href="#understat"></a>
</h2>
<p>Understat provides unique metrics like xGChain and xGBuildup.</p>
<div class="section level3">
<h3 id="strengths-1">Strengths<a class="anchor" aria-label="anchor" href="#strengths-1"></a>
</h3>
<ul>
<li>
<strong>xGChain</strong>: xG attributed to all players involved in
attacking sequence</li>
<li>
<strong>xGBuildup</strong>: xG for buildup players (excluding
shooter and assister)</li>
<li>
<strong>Free and accessible</strong>: No scraping restrictions</li>
<li>
<strong>Russian Premier League</strong>: Only source covering
Russia</li>
</ul>
</div>
<div class="section level3">
<h3 id="unique-statistics">Unique Statistics<a class="anchor" aria-label="anchor" href="#unique-statistics"></a>
</h3>
<pre><code>xGChain   = Sum of xG for all sequences a player was involved in
xGBuildup = xGChain minus xG and xA (contribution beyond final actions)</code></pre>
<p>These metrics help identify players who contribute to attacks without
always getting the final touch.</p>
</div>
<div class="section level3">
<h3 id="league-codes-1">League Codes<a class="anchor" aria-label="anchor" href="#league-codes-1"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Understat leagues</span></span>
<span><span class="st">"EPL"</span>         <span class="co"># Premier League</span></span>
<span><span class="st">"La_Liga"</span>     <span class="co"># La Liga</span></span>
<span><span class="st">"Bundesliga"</span>  <span class="co"># Bundesliga</span></span>
<span><span class="st">"Serie_A"</span>     <span class="co"># Serie A</span></span>
<span><span class="st">"Ligue_1"</span>     <span class="co"># Ligue 1</span></span>
<span><span class="st">"RFPL"</span>        <span class="co"># Russian Premier League</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="season-format">Season Format<a class="anchor" aria-label="anchor" href="#season-format"></a>
</h3>
<p>Understat uses single-year seasons:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Understat: "2024" means 2024-25 season</span></span>
<span><span class="va">roster</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_understat_roster.html">load_understat_roster</a></span><span class="op">(</span><span class="st">"EPL"</span>, <span class="st">"2024"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># vs Opta/FBref: "2024-2025"</span></span>
<span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_opta_stats.html">load_opta_stats</a></span><span class="op">(</span><span class="st">"EPL"</span>, <span class="st">"2024-2025"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="loading-understat-data">Loading Understat Data<a class="anchor" aria-label="anchor" href="#loading-understat-data"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Download</span></span>
<span><span class="fu"><a href="../reference/pb_download_source.html">pb_download_source</a></span><span class="op">(</span><span class="st">"understat"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load player roster with xGChain, xGBuildup</span></span>
<span><span class="va">roster</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_understat_roster.html">load_understat_roster</a></span><span class="op">(</span><span class="st">"EPL"</span>, <span class="st">"2024"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load shot-level data</span></span>
<span><span class="va">shots</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_understat_shots.html">load_understat_shots</a></span><span class="op">(</span><span class="st">"EPL"</span>, <span class="st">"2024"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Match metadata</span></span>
<span><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_understat_metadata.html">load_understat_metadata</a></span><span class="op">(</span><span class="st">"EPL"</span>, <span class="st">"2024"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Aggregated stats</span></span>
<span><span class="va">players</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/player_understat_summary.html">player_understat_summary</a></span><span class="op">(</span></span>
<span>  leagues <span class="op">=</span> <span class="st">"EPL"</span>,</span>
<span>  seasons <span class="op">=</span> <span class="st">"2024"</span>,</span>
<span>  min_minutes <span class="op">=</span> <span class="fl">900</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="when-to-use-understat">When to Use Understat<a class="anchor" aria-label="anchor" href="#when-to-use-understat"></a>
</h3>
<ul>
<li>Analyzing buildup contribution (xGChain, xGBuildup)</li>
<li>Russian Premier League coverage</li>
<li>When StatsBomb xG isn’t required</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="fbref">FBref<a class="anchor" aria-label="anchor" href="#fbref"></a>
</h2>
<p>FBref provides comprehensive passing statistics with StatsBomb xG
values.</p>
<div class="section level3">
<h3 id="strengths-2">Strengths<a class="anchor" aria-label="anchor" href="#strengths-2"></a>
</h3>
<ul>
<li>
<strong>StatsBomb xG</strong>: Industry-leading expected goals
model</li>
<li>
<strong>Comprehensive passing</strong>: Short/medium/long
breakdowns, progressive distance</li>
<li>
<strong>Multiple tables</strong>: Summary, passing, defense,
possession, keeper, misc, shots</li>
<li>
<strong>Competition coverage</strong>: Big 5 leagues, European cups,
domestic cups, international</li>
</ul>
</div>
<div class="section level3">
<h3 id="league-codes-2">League Codes<a class="anchor" aria-label="anchor" href="#league-codes-2"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Big 5 leagues</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="st">"ENG"</span>  <span class="co"># Premier League</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="st">"ESP"</span>  <span class="co"># La Liga</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="st">"GER"</span>  <span class="co"># Bundesliga</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="st">"ITA"</span>  <span class="co"># Serie A</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="st">"FRA"</span>  <span class="co"># Ligue 1</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="co"># European competitions</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="st">"UCL"</span>  <span class="co"># Champions League</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="st">"UEL"</span>  <span class="co"># Europa League</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="co"># Domestic cups</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="st">"FA_CUP"</span>, <span class="st">"EFL_CUP"</span>      <span class="co"># England</span></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="st">"COPA_DEL_REY"</span>           <span class="co"># Spain</span></span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a><span class="st">"DFB_POKAL"</span>              <span class="co"># Germany</span></span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a><span class="st">"COPPA_ITALIA"</span>           <span class="co"># Italy</span></span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a><span class="st">"COUPE_DE_FRANCE"</span>        <span class="co"># France</span></span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a><span class="co"># International</span></span>
<span id="cb7-20"><a href="#cb7-20" tabindex="-1"></a><span class="st">"WC"</span>, <span class="st">"EURO"</span>, <span class="st">"COPA_AMERICA"</span>, <span class="st">"AFCON"</span>, <span class="st">"NATIONS_LEAGUE"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="loading-fbref-data">Loading FBref Data<a class="anchor" aria-label="anchor" href="#loading-fbref-data"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/peteowen1/panna" class="external-link">panna</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download (first time)</span></span>
<span><span class="fu"><a href="../reference/pb_download_source.html">pb_download_source</a></span><span class="op">(</span><span class="st">"fbref"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load by table type</span></span>
<span><span class="va">summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_summary.html">load_summary</a></span><span class="op">(</span><span class="st">"ENG"</span>, <span class="st">"2024-2025"</span><span class="op">)</span></span>
<span><span class="va">passing</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_passing.html">load_passing</a></span><span class="op">(</span><span class="st">"ENG"</span>, <span class="st">"2024-2025"</span><span class="op">)</span></span>
<span><span class="va">defense</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_defense.html">load_defense</a></span><span class="op">(</span><span class="st">"ENG"</span>, <span class="st">"2024-2025"</span><span class="op">)</span></span>
<span><span class="va">possession</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_possession.html">load_possession</a></span><span class="op">(</span><span class="st">"ENG"</span>, <span class="st">"2024-2025"</span><span class="op">)</span></span>
<span><span class="va">keeper</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_keeper.html">load_keeper</a></span><span class="op">(</span><span class="st">"ENG"</span>, <span class="st">"2024-2025"</span><span class="op">)</span></span>
<span><span class="va">shots</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_shots.html">load_shots</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># All leagues/seasons</span></span>
<span></span>
<span><span class="co"># Aggregated player stats</span></span>
<span><span class="va">players</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/player_fbref_summary.html">player_fbref_summary</a></span><span class="op">(</span></span>
<span>  leagues <span class="op">=</span> <span class="st">"ENG"</span>,</span>
<span>  seasons <span class="op">=</span> <span class="st">"2024-2025"</span>,</span>
<span>  min_minutes <span class="op">=</span> <span class="fl">900</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="when-to-use-fbref">When to Use FBref<a class="anchor" aria-label="anchor" href="#when-to-use-fbref"></a>
</h3>
<ul>
<li>Analyzing passing patterns (short/medium/long breakdowns)</li>
<li>Comparing across competitions (league + cup)</li>
<li>Working with StatsBomb xG specifically</li>
<li>Cup and international match analysis</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="comparison-table">Comparison Table<a class="anchor" aria-label="anchor" href="#comparison-table"></a>
</h2>
<div class="section level3">
<h3 id="available-statistics">Available Statistics<a class="anchor" aria-label="anchor" href="#available-statistics"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th>Statistic</th>
<th align="center">Opta</th>
<th align="center">Understat</th>
<th align="center">FBref</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Goals, Assists</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">Y</td>
</tr>
<tr class="even">
<td>xG, xA</td>
<td align="center">Y (SPADL + XGBoost)</td>
<td align="center">Y (Understat)</td>
<td align="center">Y (StatsBomb)</td>
</tr>
<tr class="odd">
<td>npxG</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">Y</td>
</tr>
<tr class="even">
<td>xGChain</td>
<td align="center">N</td>
<td align="center">Y</td>
<td align="center">N</td>
</tr>
<tr class="odd">
<td>xGBuildup</td>
<td align="center">N</td>
<td align="center">Y</td>
<td align="center">N</td>
</tr>
<tr class="even">
<td>Shots</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">Y</td>
</tr>
<tr class="odd">
<td>Passing (basic)</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr class="even">
<td>Passing (distance)</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr class="odd">
<td>Progressive passes</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr class="even">
<td>Progressive carries</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr class="odd">
<td>Tackles</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr class="even">
<td>Interceptions</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr class="odd">
<td>Blocks</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr class="even">
<td>Aerial duels</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr class="odd">
<td>Goalkeeper stats</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr class="even">
<td>Set piece detail</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">Limited</td>
</tr>
<tr class="odd">
<td>Event-level data</td>
<td align="center">Y (x/y coords)</td>
<td align="center">N</td>
<td align="center">N</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="coverage">Coverage<a class="anchor" aria-label="anchor" href="#coverage"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th>League</th>
<th align="center">Opta</th>
<th align="center">Understat</th>
<th align="center">FBref</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Premier League</td>
<td align="center">2013+</td>
<td align="center">2014+</td>
<td align="center">2017+</td>
</tr>
<tr class="even">
<td>La Liga</td>
<td align="center">2013+</td>
<td align="center">2014+</td>
<td align="center">2017+</td>
</tr>
<tr class="odd">
<td>Bundesliga</td>
<td align="center">2013+</td>
<td align="center">2014+</td>
<td align="center">2017+</td>
</tr>
<tr class="even">
<td>Serie A</td>
<td align="center">2013+</td>
<td align="center">2014+</td>
<td align="center">2017+</td>
</tr>
<tr class="odd">
<td>Ligue 1</td>
<td align="center">2013+</td>
<td align="center">2014+</td>
<td align="center">2017+</td>
</tr>
<tr class="even">
<td>Eredivisie (NED)</td>
<td align="center">2013+</td>
<td align="center">N</td>
<td align="center">N</td>
</tr>
<tr class="odd">
<td>Primeira Liga (POR)</td>
<td align="center">2013+</td>
<td align="center">N</td>
<td align="center">N</td>
</tr>
<tr class="even">
<td>Super Lig (TUR)</td>
<td align="center">2013+</td>
<td align="center">N</td>
<td align="center">N</td>
</tr>
<tr class="odd">
<td>Championship (ENG2)</td>
<td align="center">2013+</td>
<td align="center">N</td>
<td align="center">N</td>
</tr>
<tr class="even">
<td>Scottish Premiership (SCO)</td>
<td align="center">2019+</td>
<td align="center">N</td>
<td align="center">N</td>
</tr>
<tr class="odd">
<td>Champions League</td>
<td align="center">2013+</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr class="even">
<td>Europa League</td>
<td align="center">2013+</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr class="odd">
<td>Conference League</td>
<td align="center">2021+</td>
<td align="center">N</td>
<td align="center">N</td>
</tr>
<tr class="even">
<td>World Cup</td>
<td align="center">2014+</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr class="odd">
<td>Euros</td>
<td align="center">2016+</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr class="even">
<td>Russian PL</td>
<td align="center">N</td>
<td align="center">2014+</td>
<td align="center">N</td>
</tr>
<tr class="odd">
<td>Domestic Cups</td>
<td align="center">N</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="choosing-a-data-source">Choosing a Data Source<a class="anchor" aria-label="anchor" href="#choosing-a-data-source"></a>
</h2>
<div class="section level3">
<h3 id="use-opta-when">Use Opta when:<a class="anchor" aria-label="anchor" href="#use-opta-when"></a>
</h3>
<ul>
<li>Running the RAPM/SPM/Panna rating pipeline (recommended)</li>
<li>Using EPV, xMetrics, estimated skills, or match predictions</li>
<li>You need 263 columns of granularity</li>
<li>Analysis across 15 leagues (beyond Big 5)</li>
<li>Progressive carry or set piece analysis</li>
<li>Historical analysis (2013+)</li>
</ul>
</div>
<div class="section level3">
<h3 id="use-understat-when">Use Understat when:<a class="anchor" aria-label="anchor" href="#use-understat-when"></a>
</h3>
<ul>
<li>Analyzing buildup contribution (xGChain, xGBuildup)</li>
<li>Covering the Russian Premier League</li>
<li>Quick analysis without specific xG model preference</li>
</ul>
</div>
<div class="section level3">
<h3 id="use-fbref-when">Use FBref when:<a class="anchor" aria-label="anchor" href="#use-fbref-when"></a>
</h3>
<ul>
<li>Detailed passing analysis (short/medium/long breakdowns)</li>
<li>Cup or international match analysis</li>
<li>You specifically need StatsBomb xG</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="combining-sources">Combining Sources<a class="anchor" aria-label="anchor" href="#combining-sources"></a>
</h2>
<p>You can use multiple sources in the same analysis:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get Opta stats for RAPM</span></span>
<span><span class="va">opta_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/player_opta_summary.html">player_opta_summary</a></span><span class="op">(</span><span class="st">"EPL"</span>, <span class="st">"2024-2025"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get Understat for xGChain</span></span>
<span><span class="va">understat_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/player_understat_summary.html">player_understat_summary</a></span><span class="op">(</span><span class="st">"EPL"</span>, <span class="st">"2024"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Merge by player name (careful with name matching)</span></span>
<span><span class="va">combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span></span>
<span>  <span class="va">opta_summary</span>,</span>
<span>  <span class="va">understat_summary</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"player_name"</span>, <span class="st">"xg_chain"</span>, <span class="st">"xg_buildup"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"player_name"</span>,</span>
<span>  all.x <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Note: Player name matching across sources requires care due to
different naming conventions.</p>
</div>
<div class="section level2">
<h2 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h2>
<ul>
<li>
<a href="getting-started.html">Getting Started</a> - Installation
and basic usage</li>
<li>
<a href="player-ratings.html">Player Ratings</a> - RAPM and SPM
methodology</li>
<li>
<a href="../DATA_DICTIONARY.html">Data Dictionary</a> - Complete
column definitions</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pete Owen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
