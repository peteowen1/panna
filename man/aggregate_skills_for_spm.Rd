% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/estimated_skills.R
\name{aggregate_skills_for_spm}
\alias{aggregate_skills_for_spm}
\title{Aggregate skills for SPM input (one row per player per season)}
\usage{
aggregate_skills_for_spm(
  match_stats,
  decay_params = NULL,
  season_end_dates = NULL,
  min_minutes = 450,
  min_weighted_90s = 5
)
}
\arguments{
\item{match_stats}{A data.table from \code{compute_match_level_opta_stats()}.}

\item{decay_params}{Decay parameters (from \code{get_default_decay_params()}
or optimized).}

\item{season_end_dates}{Named list mapping season_end_year (integer) to
a Date. Skills are estimated as of this date for each season. If NULL,
uses June 30 of each year.}

\item{min_minutes}{Minimum total minutes in the season for inclusion.}

\item{min_weighted_90s}{Minimum weighted 90s for regression threshold.}
}
\value{
A data.table with one row per player per season_end_year, containing
skill estimates for all stats plus identity/context columns. Compatible
with \code{fit_spm_opta()}.
}
\description{
Produces a data frame in the same format as \code{aggregate_opta_stats()},
where each row is one player's estimated skill profile at the end of a season.
This is a drop-in replacement for SPM input.
}
