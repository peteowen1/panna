% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/estimated_skills.R
\name{estimate_player_skills}
\alias{estimate_player_skills}
\title{Estimate player skills using Bayesian conjugate priors with decay weighting}
\usage{
estimate_player_skills(
  match_stats,
  decay_params = NULL,
  target_date = NULL,
  min_weighted_90s = 5,
  stat_cols = NULL
)
}
\arguments{
\item{match_stats}{A data.table from \code{compute_match_level_opta_stats()}.
Must contain: match_date, player_id, player_name, total_minutes, position,
and the stat columns to estimate.}

\item{decay_params}{Named list of decay rates and prior strengths. Output of
\code{get_default_decay_params()} or custom. Supports per-stat lambda
overrides (named by stat column). Prior strength via \code{prior_90s}
(Gamma, default 2) and \code{prior_attempts} (Beta, default 50).}

\item{target_date}{Date object. Only matches before this date are used.
If NULL, uses all available data.}

\item{min_weighted_90s}{Not used for shrinkage (handled by Bayesian prior).
Retained for backward compatibility.}

\item{stat_cols}{Character vector of stat columns to estimate. If NULL,
auto-detects all _p90 columns plus efficiency columns.}
}
\value{
A data.table with one row per player containing estimated skill
values for each stat, plus player_id, player_name, primary_position, and
weighted_90s (effective sample size in decay-weighted 90-minute units).
}
\description{
For each player, estimates "true skill" at a point in time using all matches
before \code{target_date}. Uses conjugate Bayesian updating with
exponential time decay:
}
\details{
\strong{Rate stats (per-90):} Gamma-Poisson model. Raw event counts are
back-calculated from \code{stat_p90 * (minutes/90)}, then decay-weighted.
The Gamma prior is centered on the position mean with strength controlled
by \code{prior_90s}. Posterior mean is in per-90 units.

\strong{Efficiency stats (proportions):} Beta-Binomial model. Successes are
back-calculated from \code{proportion * attempts}, then decay-weighted.
The Beta prior is centered on the position mean with strength controlled
by \code{prior_attempts}.

Shrinkage toward position means happens naturally through the prior â€”
players with little data stay close to the prior, while players with
abundant data are driven by their observations.
}
