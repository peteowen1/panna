% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/opta_loaders.R
\name{load_opta_match_events}
\alias{load_opta_match_events}
\title{Load Opta All Match Events (All Events with X/Y Coordinates)}
\usage{
load_opta_match_events(
  league,
  season = NULL,
  columns = NULL,
  source = c("remote", "local")
)
}
\arguments{
\item{league}{League code. Accepts panna format (ENG, ESP, GER, ITA, FRA)
or Opta format (EPL, La_Liga, Bundesliga, Serie_A, Ligue_1).}

\item{season}{Optional season filter (e.g., "2021-2022"). If NULL, loads all seasons.}

\item{columns}{Optional character vector of columns to select. If NULL, selects all.}

\item{source}{Data source: "remote" (default) downloads from GitHub releases,
"local" loads from local files (requires prior \code{pb_download_opta()}).}
}
\value{
Data frame of all match events with columns:
\itemize{
\item match_id: Match identifier
\item event_id: Unique event identifier
\item type_id: Opta event type (1=pass, 3=dribble, 7=tackle, 13-16=shots, 44=aerial, etc.)
\item player_id, player_name: Player involved
\item team_id: Team that performed the action
\item minute, second: Time of event
\item x, y: Start coordinates (0-100 scale)
\item end_x, end_y: End coordinates for passes/carries (0-100 scale)
\item outcome: 1=successful, 0=unsuccessful
\item period_id: 1=first half, 2=second half
\item qualifier_json: Full qualifiers as JSON string for advanced analysis
}
}
\description{
Loads ALL match events with x/y coordinates from Opta/TheAnalyst data.
Each match typically has ~2000 events including passes, tackles, aerials,
dribbles, shots, and more. This is the most comprehensive event data available.
}
\examples{
\dontrun{
# Load all EPL match events
epl_events <- load_opta_match_events("ENG", season = "2024-2025")

# Filter to just passes (type_id = 1)
passes <- epl_events |>
  dplyr::filter(type_id == 1)

# Build passing networks
pass_counts <- passes |>
  dplyr::filter(outcome == 1) |>
  dplyr::count(match_id, player_id)

# Filter to tackles (type_id = 7)
tackles <- epl_events |>
  dplyr::filter(type_id == 7)
}
}
