% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/opta_loaders.R
\name{load_opta_lineups}
\alias{load_opta_lineups}
\title{Load Opta Lineup Data}
\usage{
load_opta_lineups(
  league,
  season = NULL,
  columns = NULL,
  source = c("remote", "local")
)
}
\arguments{
\item{league}{League code. Accepts panna format (ENG, ESP, GER, ITA, FRA)
or Opta format (EPL, La_Liga, Bundesliga, Serie_A, Ligue_1).}

\item{season}{Optional season filter (e.g., "2021-2022"). If NULL, loads all seasons.}

\item{columns}{Optional character vector of columns to select. If NULL, selects all.}

\item{source}{Data source: "remote" (default) downloads from GitHub releases,
"local" loads from local files (requires prior \code{pb_download_opta()}).}
}
\value{
Data frame of lineup data with columns:
\itemize{
\item match_id, match_date: Match identifiers
\item player_id, player_name: Player info
\item team_id, team_name: Team info
\item team_position: home or away
\item position: Goalkeeper, Defender, Midfielder, etc.
\item position_side: Left, Right, Centre
\item formation_place: 1-11 for starters
\item shirt_number: Jersey number
\item is_starter: TRUE if player started
\item minutes_played: Total minutes played
\item sub_on_minute: Minute substituted on (0 if started)
\item sub_off_minute: Minute substituted off (0 if played full match)
}
}
\description{
Loads lineup information including starting XI, positions, and minutes played.
Useful for assigning players to time periods in RAPM calculations.
}
\examples{
\dontrun{
# Load EPL lineups
epl_lineups <- load_opta_lineups("ENG", season = "2024-2025")

# Find starters with most minutes
starters <- epl_lineups |>
  dplyr::filter(is_starter) |>
  dplyr::group_by(player_name, team_name) |>
  dplyr::summarise(total_mins = sum(minutes_played))
}
}
