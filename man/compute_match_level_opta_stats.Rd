% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spm_opta.R
\name{compute_match_level_opta_stats}
\alias{compute_match_level_opta_stats}
\title{Compute match-level Opta statistics with per-90 rates}
\usage{
compute_match_level_opta_stats(opta_stats, min_minutes = 10)
}
\arguments{
\item{opta_stats}{Data frame from \code{load_opta_stats()}, one row per
player-match. Must contain \code{match_id}, \code{match_date},
\code{player_name}, \code{team_name}, \code{team_position}, and
\code{minsPlayed}.}

\item{min_minutes}{Minimum minutes in a single match for inclusion (default 10).
Filters out very short cameos where per-90 rates are unreliable.}
}
\value{
A data.table with one row per player-match containing:
\itemize{
\item Identity columns: match_id, match_date, player_id, player_name,
team_name, position, competition, season
\item Context columns: opponent_team, is_home
\item Minutes: total_minutes
\item Per-90 rate columns (same names as aggregate_opta_stats output)
\item Derived efficiency columns (same names as aggregate_opta_stats output)
}
}
\description{
Like \code{aggregate_opta_stats()} but preserves individual player-match rows
instead of aggregating across matches. Each row gets per-90 rates and derived
features computed from that single match's data. Used as input for the
estimated skills pipeline where decay-weighted averaging replaces aggregation.
}
\examples{
\dontrun{
opta_stats <- load_opta_stats("ENG", "2024-2025")
match_stats <- compute_match_level_opta_stats(opta_stats)
}
}
