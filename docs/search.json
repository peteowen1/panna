[{"path":[]},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"fbref-primary-source","dir":"Articles","previous_headings":"","what":"FBref (Primary Source)","title":"Data Sources Guide","text":"FBref primary data source panna rating system.","code":""},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"strengths","dir":"Articles","previous_headings":"FBref (Primary Source)","what":"Strengths","title":"Data Sources Guide","text":"StatsBomb xG: Industry-leading expected goals model Comprehensive passing: Short/medium/long breakdowns, progressive distance Multiple tables: Summary, passing, defense, possession, keeper, misc, shots Competition coverage: Big 5 leagues, European cups, domestic cups, international","code":""},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"league-codes","dir":"Articles","previous_headings":"FBref (Primary Source)","what":"League Codes","title":"Data Sources Guide","text":"","code":"# Big 5 leagues \"ENG\"  # Premier League \"ESP\"  # La Liga \"GER\"  # Bundesliga \"ITA\"  # Serie A \"FRA\"  # Ligue 1  # European competitions \"UCL\"  # Champions League \"UEL\"  # Europa League  # Domestic cups \"FA_CUP\", \"EFL_CUP\"      # England \"COPA_DEL_REY\"           # Spain \"DFB_POKAL\"              # Germany \"COPPA_ITALIA\"           # Italy \"COUPE_DE_FRANCE\"        # France  # International \"WC\", \"EURO\", \"COPA_AMERICA\", \"AFCON\", \"NATIONS_LEAGUE\""},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"loading-fbref-data","dir":"Articles","previous_headings":"FBref (Primary Source)","what":"Loading FBref Data","title":"Data Sources Guide","text":"","code":"library(panna)  # Download (first time) pb_download_source(\"fbref\")  # Load by table type summary <- load_summary(\"ENG\", \"2024-2025\") passing <- load_passing(\"ENG\", \"2024-2025\") defense <- load_defense(\"ENG\", \"2024-2025\") possession <- load_possession(\"ENG\", \"2024-2025\") keeper <- load_keeper(\"ENG\", \"2024-2025\") misc <- load_misc(\"ENG\", \"2024-2025\") shots <- load_shots()  # All leagues/seasons  # Aggregated player stats players <- player_fbref_summary(   leagues = \"ENG\",   seasons = \"2024-2025\",   min_minutes = 900 )"},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"when-to-use-fbref","dir":"Articles","previous_headings":"FBref (Primary Source)","what":"When to Use FBref","title":"Data Sources Guide","text":"Building RAPM/Panna ratings (primary pipeline) Analyzing passing patterns Comparing across competitions (league + cup) Working StatsBomb xG","code":""},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"opta","dir":"Articles","previous_headings":"","what":"Opta","title":"Data Sources Guide","text":"Opta provides richest per-match statistics 271 columns per player.","code":""},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"strengths-1","dir":"Articles","previous_headings":"Opta","what":"Strengths","title":"Data Sources Guide","text":"Deep history: Data back 2010 271 columns: detailed per-match stats Progressive metrics: Carries, passes, receptions Set pieces: Detailed breakdown set piece involvement","code":""},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"unique-statistics","dir":"Articles","previous_headings":"Opta","what":"Unique Statistics","title":"Data Sources Guide","text":"Opta includes metrics available FBref: Progressive carries penalty area Set piece pass breakdowns Detailed aerial duel locations granular defensive actions","code":""},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"league-codes-1","dir":"Articles","previous_headings":"Opta","what":"League Codes","title":"Data Sources Guide","text":"","code":"# Opta uses different codes \"EPL\"        # Premier League \"La_Liga\"    # La Liga \"Bundesliga\" # Bundesliga \"Serie_A\"    # Serie A \"Ligue_1\"    # Ligue 1"},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"loading-opta-data","dir":"Articles","previous_headings":"Opta","what":"Loading Opta Data","title":"Data Sources Guide","text":"","code":"# Download pb_download_source(\"opta\")  # Load player stats stats <- load_opta_stats(\"EPL\", \"2024-2025\")  # Load shots shots <- load_opta_shots(\"EPL\", \"2024-2025\")  # Load all Big 5 at once big5 <- load_opta_big5(\"2024-2025\")  # Aggregated stats players <- player_opta_summary(   leagues = \"EPL\",   seasons = \"2024-2025\",   min_minutes = 900 )"},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"when-to-use-opta","dir":"Articles","previous_headings":"Opta","what":"When to Use Opta","title":"Data Sources Guide","text":"Historical analysis (pre-2017) Research requiring progressive carries Set piece analysis need 271 columns granularity","code":""},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"understat","dir":"Articles","previous_headings":"","what":"Understat","title":"Data Sources Guide","text":"Understat provides unique metrics like xGChain xGBuildup.","code":""},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"strengths-2","dir":"Articles","previous_headings":"Understat","what":"Strengths","title":"Data Sources Guide","text":"xGChain: xG attributed players involved attacking sequence xGBuildup: xG buildup players (excluding shooter assister) Free accessible: scraping restrictions Russian Premier League: source covering Russia","code":""},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"unique-statistics-1","dir":"Articles","previous_headings":"Understat","what":"Unique Statistics","title":"Data Sources Guide","text":"metrics help identify players contribute attacks without always getting final touch.","code":"xGChain   = Sum of xG for all sequences a player was involved in xGBuildup = xGChain minus xG and xA (contribution beyond final actions)"},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"league-codes-2","dir":"Articles","previous_headings":"Understat","what":"League Codes","title":"Data Sources Guide","text":"","code":"# Understat leagues \"EPL\"         # Premier League \"La_Liga\"     # La Liga \"Bundesliga\"  # Bundesliga \"Serie_A\"     # Serie A \"Ligue_1\"     # Ligue 1 \"RFPL\"        # Russian Premier League"},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"season-format","dir":"Articles","previous_headings":"Understat","what":"Season Format","title":"Data Sources Guide","text":"Understat uses single-year seasons:","code":"# Understat: \"2024\" means 2024-25 season roster <- load_understat_roster(\"EPL\", \"2024\")  # vs FBref/Opta: \"2024-2025\" summary <- load_summary(\"ENG\", \"2024-2025\")"},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"loading-understat-data","dir":"Articles","previous_headings":"Understat","what":"Loading Understat Data","title":"Data Sources Guide","text":"","code":"# Download pb_download_source(\"understat\")  # Load player roster with xGChain, xGBuildup roster <- load_understat_roster(\"EPL\", \"2024\")  # Load shot-level data shots <- load_understat_shots(\"EPL\", \"2024\")  # Match metadata metadata <- load_understat_metadata(\"EPL\", \"2024\")  # Aggregated stats players <- player_understat_summary(   leagues = \"EPL\",   seasons = \"2024\",   min_minutes = 900 )"},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"when-to-use-understat","dir":"Articles","previous_headings":"Understat","what":"When to Use Understat","title":"Data Sources Guide","text":"Analyzing buildup contribution (xGChain, xGBuildup) Russian Premier League coverage StatsBomb xG isn’t required","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"use-fbref-when","dir":"Articles","previous_headings":"Choosing a Data Source","what":"Use FBref when:","title":"Data Sources Guide","text":"Running RAPM/Panna pipeline need StatsBomb xG Analyzing cup international matches Comprehensive passing analysis","code":""},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"use-opta-when","dir":"Articles","previous_headings":"Choosing a Data Source","what":"Use Opta when:","title":"Data Sources Guide","text":"Historical analysis (2010-2016) need 271 columns detail Progressive carry analysis Set piece research","code":""},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"use-understat-when","dir":"Articles","previous_headings":"Choosing a Data Source","what":"Use Understat when:","title":"Data Sources Guide","text":"Analyzing buildup contribution want xGChain/xGBuildup Covering Russian league Quick analysis without xG model preference","code":""},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"combining-sources","dir":"Articles","previous_headings":"","what":"Combining Sources","title":"Data Sources Guide","text":"can use multiple sources analysis: Note: Player name matching across sources requires care due different naming conventions.","code":"# Get FBref for RAPM fbref_summary <- player_fbref_summary(\"ENG\", \"2024-2025\")  # Get Understat for xGChain understat_summary <- player_understat_summary(\"EPL\", \"2024\")  # Merge by player name (careful with name matching) combined <- merge(   fbref_summary,   understat_summary[, c(\"player_name\", \"xg_chain\", \"xg_buildup\")],   by.x = \"player\",   by.y = \"player_name\",   all.x = TRUE )"},{"path":"https://peteowen1.github.io/panna/articles/data-sources.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Data Sources Guide","text":"Getting Started - Installation basic usage Player Ratings - RAPM SPM methodology Data Dictionary - Complete column definitions","code":""},{"path":"https://peteowen1.github.io/panna/articles/getting-started.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with panna","text":"Install panna GitHub:","code":"# Install devtools if needed install.packages(\"devtools\")  # Install panna devtools::install_github(\"peteowen1/panna\")"},{"path":"https://peteowen1.github.io/panna/articles/getting-started.html","id":"downloading-data","dir":"Articles","previous_headings":"","what":"Downloading Data","title":"Getting Started with panna","text":"Data stored GitHub Releases must downloaded use. package supports three data sources: Data cached locally download, need (updating get new matches).","code":"library(panna)  # Download FBref data (primary source, recommended) pb_download_source(\"fbref\")  # Download Understat data pb_download_source(\"understat\")  # Download Opta data pb_download_source(\"opta\")  # Or download everything pb_download_source(\"all\")"},{"path":[]},{"path":"https://peteowen1.github.io/panna/articles/getting-started.html","id":"fbref-data","dir":"Articles","previous_headings":"Loading Data","what":"FBref Data","title":"Getting Started with panna","text":"FBref provides comprehensive statistics StatsBomb xG values.","code":"# Load summary stats for a league/season summary <- load_summary(\"ENG\", \"2024-2025\")  # Other table types passing <- load_passing(\"ENG\", \"2024-2025\") defense <- load_defense(\"ENG\", \"2024-2025\") possession <- load_possession(\"ENG\", \"2024-2025\") shots <- load_shots()  # All leagues/seasons metadata <- load_metadata(\"ENG\", \"2024-2025\")"},{"path":"https://peteowen1.github.io/panna/articles/getting-started.html","id":"opta-data","dir":"Articles","previous_headings":"Loading Data","what":"Opta Data","title":"Getting Started with panna","text":"Opta provides 271 columns per player including progressive carries set piece statistics. Note: Opta uses different league codes (EPL, La_Liga, Bundesliga, Serie_A, Ligue_1).","code":"# Load Opta player stats opta_stats <- load_opta_stats(\"EPL\", \"2024-2025\")  # Load Opta shots opta_shots <- load_opta_shots(\"EPL\", \"2024-2025\")  # Load all Big 5 leagues at once big5 <- load_opta_big5(\"2024-2025\")"},{"path":"https://peteowen1.github.io/panna/articles/getting-started.html","id":"understat-data","dir":"Articles","previous_headings":"Loading Data","what":"Understat Data","title":"Getting Started with panna","text":"Understat includes xGChain xGBuildup metrics available elsewhere. Note: Understat uses single-year seasons (e.g., “2024” 2024-25).","code":"# Load player roster with xGChain, xGBuildup roster <- load_understat_roster(\"EPL\", \"2024\")  # Load shot-level data shots <- load_understat_shots(\"EPL\", \"2024\")"},{"path":[]},{"path":[]},{"path":[]},{"path":"https://peteowen1.github.io/panna/articles/getting-started.html","id":"aggregated-player-statistics","dir":"Articles","previous_headings":"","what":"Aggregated Player Statistics","title":"Getting Started with panna","text":"package provides convenience functions aggregated player statistics:","code":"# FBref aggregated stats players_summary <- player_fbref_summary(   leagues = \"ENG\",   seasons = \"2024-2025\",   min_minutes = 900  # Filter for players with 900+ minutes )  players_passing <- player_fbref_passing(   leagues = c(\"ENG\", \"ESP\"),  # Multiple leagues seasons = c(\"2023-2024\", \"2024-2025\"),  # Multiple seasons   min_minutes = 1800 )  # Opta aggregated stats opta_players <- player_opta_summary(   leagues = \"EPL\",   seasons = \"2024-2025\",   min_minutes = 900 )  # Understat aggregated stats understat_players <- player_understat_summary(   leagues = \"EPL\",   seasons = \"2024\",   min_minutes = 900 )"},{"path":"https://peteowen1.github.io/panna/articles/getting-started.html","id":"working-with-multiple-leagues","dir":"Articles","previous_headings":"","what":"Working with Multiple Leagues","title":"Getting Started with panna","text":"Many functions accept vectors leagues seasons:","code":"# Load Big 5 leagues big5_summary <- load_summary(   leagues = c(\"ENG\", \"ESP\", \"GER\", \"ITA\", \"FRA\"),   seasons = \"2024-2025\" )  # Aggregate player stats across leagues big5_players <- player_fbref_summary(   leagues = c(\"ENG\", \"ESP\", \"GER\", \"ITA\", \"FRA\"),   seasons = \"2024-2025\",   min_minutes = 900 )"},{"path":"https://peteowen1.github.io/panna/articles/getting-started.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with panna","text":"Player Ratings - Learn RAPM SPM methodology Data Sources - Detailed comparison FBref, Opta, Understat Data Dictionary - Column definitions","code":""},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Player Ratings Methodology","text":"Panna ratings measure player impact team performance using three-stage approach: RAPM (Regularized Adjusted Plus-Minus) - Lineup-based impact measurement SPM (Statistical Plus-Minus) - Box score prediction RAPM Panna - RAPM SPM Bayesian prior ratings expressed xG per 90 minutes /average.","code":""},{"path":[]},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"what-is-rapm","dir":"Articles","previous_headings":"Stage 1: RAPM (Regularized Adjusted Plus-Minus)","what":"What is RAPM?","title":"Player Ratings Methodology","text":"RAPM isolates individual player contributions analyzing lineup combinations. answers: “much Player X field change team’s expected goal differential?”","code":""},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"splints","dir":"Articles","previous_headings":"Stage 1: RAPM (Regularized Adjusted Plus-Minus)","what":"Splints","title":"Player Ratings Methodology","text":"RAPM uses “splints” - time segments lineup constant. Splint boundaries created : Goals scored Substitutions Red cards Halftime splint approximately 22 players (11 per team) records non-penalty xG differential (npxGD) segment.","code":"library(panna)  # After loading processed data... splints <- create_all_splints(processed_data)"},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"design-matrix","dir":"Articles","previous_headings":"Stage 1: RAPM (Regularized Adjusted Plus-Minus)","what":"Design Matrix","title":"Player Ratings Methodology","text":"RAPM model uses sparse design matrix : Rows: 2 per splint (one team’s attacking perspective) Player columns: playerX_off (offensive) playerX_def (defensive) indicators Covariates: Goal difference, average minute, home/away, player counts Target: xG per 90 minutes (xgf90)","code":"# Build the design matrix rapm_data <- create_rapm_design_matrix(splints)  # Components: # - X_players: Sparse player indicator matrix # - X_full: Player indicators + covariates # - y: Target variable (xgf90) # - weights: Splint duration / 90"},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"ridge-regression","dir":"Articles","previous_headings":"Stage 1: RAPM (Regularized Adjusted Plus-Minus)","what":"Ridge Regression","title":"Player Ratings Methodology","text":"RAPM uses ridge regression (L2 penalty) cross-validated lambda prevent overfitting:","code":"# Fit the model rapm_results <- fit_rapm(rapm_data)  # Extract player ratings ratings <- extract_panna_ratings(rapm_results)"},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"offensive-vs-defensive-ratings","dir":"Articles","previous_headings":"Stage 1: RAPM (Regularized Adjusted Plus-Minus)","what":"Offensive vs Defensive Ratings","title":"Player Ratings Methodology","text":"player gets two coefficients: Positive = helps create xG (good) Negative = hurts attack (bad) Positive = allows xG (bad) Negative = prevents xG (good)","code":""},{"path":[]},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"what-is-spm","dir":"Articles","previous_headings":"Stage 2: SPM (Statistical Plus-Minus)","what":"What is SPM?","title":"Player Ratings Methodology","text":"SPM predicts RAPM ratings box score statistics. answers: “RAPM expect given player’s traditional stats?” serves two purposes: Provides ratings players insufficient RAPM sample size Acts prior stabilize RAPM estimates","code":""},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"model","dir":"Articles","previous_headings":"Stage 2: SPM (Statistical Plus-Minus)","what":"Model","title":"Player Ratings Methodology","text":"SPM uses elastic net regression predict RAPM aggregated per-90 statistics:","code":"# Aggregate box score stats to per-90 rates player_stats <- aggregate_player_stats(processed_data)  # Fit SPM model spm_results <- fit_spm_model(player_stats, rapm_ratings)  # Get SPM ratings for all players spm_ratings <- calculate_spm_ratings(spm_results, player_stats)"},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"features-used","dir":"Articles","previous_headings":"Stage 2: SPM (Statistical Plus-Minus)","what":"Features Used","title":"Player Ratings Methodology","text":"SPM uses statistics like: Goals, assists, xG, xA per 90 Pass completion rates Tackles, interceptions, blocks per 90 Progressive passes carries per 90 Aerial duel win rates","code":""},{"path":[]},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"combining-rapm-and-spm","dir":"Articles","previous_headings":"Stage 3: Panna Rating","what":"Combining RAPM and SPM","title":"Player Ratings Methodology","text":"final Panna rating uses SPM Bayesian prior RAPM: approach: Shrinks noisy RAPM estimates toward SPM predictions Gives weight RAPM players minutes Provides stable ratings even players limited data","code":"# Fit RAPM with SPM prior (xRAPM) xrapm_results <- fit_rapm_with_prior(rapm_data, spm_ratings)  # Final ratings panna_ratings <- extract_panna_ratings(xrapm_results)"},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"final-rating-calculation","dir":"Articles","previous_headings":"Stage 3: Panna Rating","what":"Final Rating Calculation","title":"Player Ratings Methodology","text":": - Higher offense = better (creates xG) - Lower (negative) defense = better (prevents xG) - Higher overall panna = better player","code":"panna = offense - defense"},{"path":[]},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"example-elite-forward","dir":"Articles","previous_headings":"Interpreting Ratings","what":"Example: Elite Forward","title":"Player Ratings Methodology","text":"Interpretation: - Creates +0.15 xG/90 average attacking - Allows +0.02 xG/90 defending (slightly average) - Overall impact: +0.13 xG/90","code":"Player: Erling Haaland Offense: +0.15 Defense: +0.02 Panna: +0.13"},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"example-elite-defender","dir":"Articles","previous_headings":"Interpreting Ratings","what":"Example: Elite Defender","title":"Player Ratings Methodology","text":"Interpretation: - Creates -0.02 xG/90 offense (average) - Prevents 0.10 xG/90 defense (excellent) - Overall impact: +0.08 xG/90","code":"Player: Virgil van Dijk Offense: -0.02 Defense: -0.10 Panna: +0.08"},{"path":[]},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"running-the-full-pipeline","dir":"Articles","previous_headings":"","what":"Running the Full Pipeline","title":"Player Ratings Methodology","text":"complete rating pipeline:","code":"library(panna)  # 1. Load raw data raw_data <- load_all_data(leagues = \"ENG\", seasons = \"2024-2025\")  # 2. Process data processed_data <- process_raw_data(raw_data)  # 3. Create splints splints <- create_all_splints(processed_data)  # 4. Build RAPM matrix rapm_data <- create_rapm_design_matrix(splints)  # 5. Fit base RAPM rapm_results <- fit_rapm(rapm_data)  # 6. Fit SPM spm_results <- fit_spm_model(processed_data, rapm_results)  # 7. Fit xRAPM (RAPM with SPM prior) xrapm_results <- fit_rapm_with_prior(rapm_data, spm_results)  # 8. Extract final ratings panna_ratings <- extract_panna_ratings(xrapm_results)"},{"path":[]},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"sample-size","dir":"Articles","previous_headings":"Limitations","what":"Sample Size","title":"Player Ratings Methodology","text":"RAPM requires substantial playing time reliable estimates. Recommended minimums: Exploratory analysis: 450+ minutes Reliable estimates: 900+ minutes Stable comparisons: 1800+ minutes","code":""},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"context-dependence","dir":"Articles","previous_headings":"Limitations","what":"Context Dependence","title":"Player Ratings Methodology","text":"Ratings relative : - players shared field - opponents faced - leagues/seasons included model","code":""},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"position-blindness","dir":"Articles","previous_headings":"Limitations","what":"Position Blindness","title":"Player Ratings Methodology","text":"RAPM doesn’t know player positions. midfielder striker identical lineups identical ratings, even roles differ.","code":""},{"path":"https://peteowen1.github.io/panna/articles/player-ratings.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Player Ratings Methodology","text":"Getting Started - Installation data loading Data Sources - FBref vs Opta vs Understat Data Dictionary - Column definitions pipeline stage","code":""},{"path":"https://peteowen1.github.io/panna/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Pete Owen. Author, maintainer.","code":""},{"path":"https://peteowen1.github.io/panna/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Owen P (2026). panna: Player Rating System Football Using RAPM SPM Methods. R package version 0.1.0, https://github.com/peteowen1/panna.","code":"@Manual{,   title = {panna: Player Rating System for Football Using RAPM and SPM Methods},   author = {Pete Owen},   year = {2026},   note = {R package version 0.1.0},   url = {https://github.com/peteowen1/panna}, }"},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md","title":"CLAUDE.md","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"package-overview","dir":"","previous_headings":"","what":"Package Overview","title":"CLAUDE.md","text":"panna R package implementing player ratings football (soccer) using RAPM+SPM methodology. calculates player impact team performance using: - RAPM (Regularized Adjusted Plus-Minus) - lineup-based impact splint-level data - SPM (Statistical Plus-Minus) - box score prediction RAPM - Panna Rating - combines RAPM SPM Bayesian prior stability package works data three sources via pannadata repository supports Big 5 European leagues.","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"development-commands","dir":"","previous_headings":"","what":"Development Commands","title":"CLAUDE.md","text":"","code":"devtools::load_all()    # Load package for development devtools::document()    # Generate documentation from roxygen2 devtools::test()        # Run all tests testthat::test_file(\"tests/testthat/test-utils.R\")  # Run single test file devtools::check()       # Full package check"},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"data-sources","dir":"","previous_headings":"","what":"Data Sources","title":"CLAUDE.md","text":"package supports three football data sources different strengths:","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"league-codes","dir":"","previous_headings":"Data Sources","what":"League Codes","title":"CLAUDE.md","text":"Panna codes: ENG, ESP, GER, ITA, FRA Opta codes: EPL, La_Liga, Bundesliga, Serie_A, Ligue_1 Season format: FBref uses “2024-2025”, Understat uses “2024”","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"debugging","dir":"","previous_headings":"","what":"Debugging","title":"CLAUDE.md","text":"debugging R code, write script debug/ folder run rather using inline Rscript commands. avoids issues escaping segfaults complex inline commands. debug/ folder gitignored.","code":"# Write debug script to debug/test.R then run: Rscript debug/test.R"},{"path":[]},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"column-naming","dir":"","previous_headings":"Coding Standards","what":"Column Naming","title":"CLAUDE.md","text":"column names must snake_case Use janitor::clean_names() via clean_column_names() helper Apply data frames saving returning","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"data-pipeline","dir":"","previous_headings":"Coding Standards","what":"Data Pipeline","title":"CLAUDE.md","text":"Package functions R/ - reusable, documented roxygen2 Analysis scripts data-raw/ - sequential workflow (01_, 02_, etc.) Cache expensive data data-raw/cache/ Analysis scripts run RStudio - avoid excessive cat() calls, keep simple","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"pannadata-integration","dir":"","previous_headings":"Coding Standards","what":"pannadata Integration","title":"CLAUDE.md","text":"Use panna::load_summary(), load_passing(), etc. load cached match data Data stored pannadata/data/{table_type}/{league}/{season}/{match_id}.rds Column names snake_case (via janitor::clean_names()) See pannadata/DATA_DICTIONARY.md column definitions use worldfootballR - pannadata FBref scraping system","code":""},{"path":[]},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"core-data-flow","dir":"","previous_headings":"Architecture","what":"Core Data Flow","title":"CLAUDE.md","text":"","code":"pannadata (cached match data from FBref/Opta/Understat)        ↓ 01_load_pannadata.R (loads summary, passing, defense, possession, shots, metadata)        ↓ 02_data_processing.R → processed_data.rds (cleaned, standardized)        ↓ 03_splint_creation.R → splints.rds (time segments with constant lineups)        ↓ 04_rapm.R → rapm.rds (base RAPM) ──→ 05_spm.R → spm.rds (SPM model)        ↓                                    ↓ 06_xrapm.R → xrapm.rds (RAPM with SPM prior) ←┘        ↓ 07_seasonal_ratings.R → seasonal ratings        ↓ 08_panna_ratings.R → panna_ratings.csv (final ratings)"},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"key-concepts","dir":"","previous_headings":"Architecture","what":"Key Concepts","title":"CLAUDE.md","text":"Splints: Time segments lineup constant. Boundaries created goals, substitutions, red cards, halftime. splint ~22 players (11 per team) calculates npxGD (non-penalty xG differential). RAPM Design Matrix: - 2 rows per splint (home attacking perspective, away attacking perspective) - Player columns: playerX_off (offensive), playerX_def (defensive) - Covariates: goal_diff, goals_for/, avg_minute, home/away, player counts - Target: xgf90 (xG per 90 minutes) - Uses ridge regression cross-validated lambda Rating Interpretation: - Offense coefficient: positive = helps create xG (good) - Defense coefficient: positive = allows xG (bad), negative = prevents xG (good) - Final: panna = offense - defense (higher = better)","code":""},{"path":[]},{"path":[]},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"data-loading-fbref-via-pannadata","dir":"","previous_headings":"Key Functions","what":"Data Loading (FBref via pannadata)","title":"CLAUDE.md","text":"load_summary(), load_passing(), load_defense(), load_possession(), load_shots(), load_metadata() Use source = \"remote\" (default) source = \"local\"","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"data-loading-opta","dir":"","previous_headings":"Key Functions","what":"Data Loading (Opta)","title":"CLAUDE.md","text":"load_opta_stats() - Player match stats (271 columns) load_opta_shots() - Shot data load_opta_big5() - Big 5 leagues pb_download_opta() - Download Opta data GitHub releases","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"data-loading-understat","dir":"","previous_headings":"Key Functions","what":"Data Loading (Understat)","title":"CLAUDE.md","text":"load_understat_roster() - Player stats xGChain, xGBuildup load_understat_shots() - Shot-level data xG load_understat_metadata() - Match metadata","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"player-statistics-user-facing-aggregations","dir":"","previous_headings":"Key Functions","what":"Player Statistics (User-Facing Aggregations)","title":"CLAUDE.md","text":"player_fbref_summary(), player_fbref_passing(), player_fbref_defense(), player_fbref_keeper() player_opta_summary(), player_opta_passing(), player_opta_defense(), player_opta_possession(), player_opta_keeper(), player_opta_shots(), player_opta_setpiece() player_understat_summary()","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"splint-creation","dir":"","previous_headings":"Key Functions","what":"Splint Creation","title":"CLAUDE.md","text":"create_all_splints() - Master function matches create_splint_boundaries() - Define splint boundaries events","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"rapm","dir":"","previous_headings":"Key Functions","what":"RAPM","title":"CLAUDE.md","text":"create_rapm_design_matrix() - Build X matrix player/covariate columns fit_rapm() - Fit cross-validated ridge regression extract_panna_ratings() - Extract player coefficients","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"spm","dir":"","previous_headings":"Key Functions","what":"SPM","title":"CLAUDE.md","text":"aggregate_player_stats() - Convert match stats per-90 rates fit_spm_model() - Elastic net predicting RAPM box scores calculate_spm_ratings() - Generate SPM players","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"panna","dir":"","previous_headings":"Key Functions","what":"Panna","title":"CLAUDE.md","text":"fit_panna_model() - End--end pipeline combining RAPM + SPM fit_rapm_with_prior() - RAPM shrinking toward SPM (xRAPM)","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"data-distribution-github-releases","dir":"","previous_headings":"","what":"Data Distribution (GitHub Releases)","title":"CLAUDE.md","text":"Data stored GitHub Releases using tar.gz archives, organized source:","code":""},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"download-functions","dir":"","previous_headings":"Data Distribution (GitHub Releases)","what":"Download Functions","title":"CLAUDE.md","text":"","code":"pb_download_source(\"fbref\")     # Download FBref data pb_download_source(\"understat\") # Download Understat data pb_download_opta()              # Download Opta data (consolidated files)"},{"path":"https://peteowen1.github.io/panna/CLAUDE.html","id":"data-documentation","dir":"","previous_headings":"","what":"Data Documentation","title":"CLAUDE.md","text":"See pannadata/DATA_DICTIONARY.md complete column definitions raw data. See panna/DATA_DICTIONARY.md processed data column definitions pipeline stage.","code":""},{"path":"https://peteowen1.github.io/panna/DATA_DICTIONARY.html","id":null,"dir":"","previous_headings":"","what":"Panna Data Dictionary","title":"Panna Data Dictionary","text":"document describes data structures used panna pipeline.","code":""},{"path":"https://peteowen1.github.io/panna/DATA_DICTIONARY.html","id":"pipeline-overview","dir":"","previous_headings":"","what":"Pipeline Overview","title":"Panna Data Dictionary","text":"","code":"01_data_collection.R  ->  01_raw_data.rds 02_data_processing.R  ->  02_processed_data.rds 03_splint_creation.R  ->  03_splints.rds 04_rapm.R             ->  04_rapm.rds 05_spm.R              ->  05_spm.rds 06_xrapm.R            ->  06_xrapm.rds 07_panna_ratings.R    ->  07_panna.rds"},{"path":"https://peteowen1.github.io/panna/DATA_DICTIONARY.html","id":"id_01_raw_datards","dir":"","previous_headings":"","what":"01_raw_data.rds","title":"Panna Data Dictionary","text":"Raw data pannadata repository. columns snake_case clean_column_names().","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://peteowen1.github.io/panna/DATA_DICTIONARY.html","id":"stats_summary-stats_passing-stats_defense-stats_possession","dir":"","previous_headings":"01_raw_data.rds","what":"stats_summary, stats_passing, stats_defense, stats_possession","title":"Panna Data Dictionary","text":"Advanced player stats per match. See pannadata/DATA_DICTIONARY.md full column definitions.","code":""},{"path":"https://peteowen1.github.io/panna/DATA_DICTIONARY.html","id":"id_02_processed_datards","dir":"","previous_headings":"","what":"02_processed_data.rds","title":"Panna Data Dictionary","text":"Cleaned standardized data.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://peteowen1.github.io/panna/DATA_DICTIONARY.html","id":"id_03_splintsrds","dir":"","previous_headings":"","what":"03_splints.rds","title":"Panna Data Dictionary","text":"Time segments RAPM analysis.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://peteowen1.github.io/panna/DATA_DICTIONARY.html","id":"id_05_spmrds","dir":"","previous_headings":"","what":"05_spm.rds","title":"Panna Data Dictionary","text":"Statistical Plus-Minus model predicting RAPM box scores.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://peteowen1.github.io/panna/DATA_DICTIONARY.html","id":"id_06_xrapmrds","dir":"","previous_headings":"","what":"06_xrapm.rds","title":"Panna Data Dictionary","text":"RAPM SPM prior (xRAPM).","code":""},{"path":[]},{"path":"https://peteowen1.github.io/panna/DATA_DICTIONARY.html","id":"id_07_pannards","dir":"","previous_headings":"","what":"07_panna.rds","title":"Panna Data Dictionary","text":"Final unified ratings.","code":""},{"path":[]},{"path":[]},{"path":"https://peteowen1.github.io/panna/DATA_DICTIONARY.html","id":"offense-coefficient","dir":"","previous_headings":"Rating Interpretation","what":"Offense Coefficient","title":"Panna Data Dictionary","text":"Positive = Player helps team create xG attacking (GOOD) Units: xG per 90 minutes average","code":""},{"path":"https://peteowen1.github.io/panna/DATA_DICTIONARY.html","id":"defense-coefficient","dir":"","previous_headings":"Rating Interpretation","what":"Defense Coefficient","title":"Panna Data Dictionary","text":"Positive = Player allows xG defending (BAD) Negative = Player allows LESS xG defending (GOOD) Units: xG per 90 minutes relative average","code":""},{"path":"https://peteowen1.github.io/panna/DATA_DICTIONARY.html","id":"final-rating","dir":"","previous_headings":"Rating Interpretation","what":"Final Rating","title":"Panna Data Dictionary","text":"Higher = better overall impact","code":"panna = offense - defense"},{"path":"https://peteowen1.github.io/panna/DATA_DICTIONARY.html","id":"example","dir":"","previous_headings":"Rating Interpretation","what":"Example","title":"Panna Data Dictionary","text":"Helps team create +0.15 xG/90 offense Allows +0.02 xG/90 defense (slightly average defender) panna = 0.15 - 0.02 = +0.13 Creates -0.02 xG/90 offense (average) Allows -0.10 xG/90 defense (excellent defender) panna = -0.02 - (-0.10) = +0.08","code":""},{"path":"https://peteowen1.github.io/panna/DATA_ISSUES.html","id":null,"dir":"","previous_headings":"","what":"Panna Data Issues","title":"Panna Data Issues","text":"Tracking known data quality issues status.","code":""},{"path":[]},{"path":"https://peteowen1.github.io/panna/DATA_ISSUES.html","id":"id_1-2025-2026-season---incomplete-data","dir":"","previous_headings":"Active Issues","what":"1. 2025-2026 Season - Incomplete Data","title":"Panna Data Issues","text":"Status: EXPECTED Severity: Low Updated: 2026-01-03 Problem: 2025-2026 season currently progress. Partial data available: Impact: - Partial season data may skew player ratings included - Current season players fewer observations Recommendation: Exclude season == \"2025-2026\" RAPM analysis season completes.","code":""},{"path":"https://peteowen1.github.io/panna/DATA_ISSUES.html","id":"id_2-ligue-1-2020---covid-season-gap","dir":"","previous_headings":"Active Issues","what":"2. Ligue 1 2020 - COVID Season Gap","title":"Panna Data Issues","text":"Status: Minor Severity: Low Discovered: 2024-12-30 Problem: Ligue 1 2019-20 season 279 matches (vs 380 expected). COVID-shortened season league cancelled matchday 28. Impact: - ~100 fewer matches normal season - May slightly underweight Ligue 1 2020 players Recommendation: Keep -. Ridge regression handles reduced sample size appropriately.","code":""},{"path":[]},{"path":"https://peteowen1.github.io/panna/DATA_ISSUES.html","id":"la-liga---no-xgshooting-data","dir":"","previous_headings":"Resolved Issues","what":"La Liga - No xG/Shooting Data","title":"Panna Data Issues","text":"Status: RESOLVED Resolved: 2026-01-03 Original Issue: La Liga 0% shooting/xG data across seasons. Resolution: pannadata now contains complete La Liga shooting data 2017-2018 onwards. seasons 2017-2025 full match coverage (380 matches per season).","code":""},{"path":"https://peteowen1.github.io/panna/DATA_ISSUES.html","id":"id_2024-2025-season---incomplete-data","dir":"","previous_headings":"Resolved Issues","what":"2024-2025 Season - Incomplete Data","title":"Panna Data Issues","text":"Status: RESOLVED Resolved: 2026-01-03 Original Issue: Season incomplete 25-42% missing xG data. Resolution: 2024-2025 season now complete full data leagues: - Premier League: 380 matches - La Liga: 380 matches - Serie : 380 matches - Bundesliga: 306 matches - Ligue 1: 306 matches","code":""},{"path":[]},{"path":"https://peteowen1.github.io/panna/DATA_ISSUES.html","id":"recommended-data-filter","dir":"","previous_headings":"","what":"Recommended Data Filter","title":"Panna Data Issues","text":"RAPM analysis, exclude: - season == \"2025-2026\" (incomplete current season) leaves 5 leagues x 8 seasons = 40 league-seasons clean data (minor Ligue 1 2020 caveat).","code":""},{"path":"https://peteowen1.github.io/panna/index.html","id":"panna","dir":"","previous_headings":"","what":"Player Rating System for Football Using RAPM and SPM Methods","title":"Player Rating System for Football Using RAPM and SPM Methods","text":"Player ratings football (soccer) using RAPM+SPM methodology. Calculates player impact team performance combining lineup-based analysis box score predictions.","code":""},{"path":"https://peteowen1.github.io/panna/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Player Rating System for Football Using RAPM and SPM Methods","text":"panna implements three-stage rating system: RAPM (Regularized Adjusted Plus-Minus) - Measures player impact lineup data using ridge regression “splints” (time segments constant lineups) SPM (Statistical Plus-Minus) - Predicts RAPM box score statistics using elastic net Panna Rating - Combines RAPM SPM Bayesian prior stable ratings Ratings split offensive defensive components: - Offense: Positive = helps create xG (good) - Defense: Negative = prevents xG (good) - Overall: panna = offense - defense","code":""},{"path":"https://peteowen1.github.io/panna/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Player Rating System for Football Using RAPM and SPM Methods","text":"","code":"# Install from GitHub devtools::install_github(\"peteowen1/panna\")"},{"path":"https://peteowen1.github.io/panna/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Player Rating System for Football Using RAPM and SPM Methods","text":"","code":"library(panna)  # Download data from GitHub releases (first time only) pb_download_source(\"fbref\")  # Load player statistics for a league/season summary_data <- load_summary(\"ENG\", \"2024-2025\")  # Get aggregated player stats player_stats <- player_fbref_summary(  leagues = \"ENG\",  seasons = \"2024-2025\",  min_minutes = 900 )"},{"path":"https://peteowen1.github.io/panna/index.html","id":"data-sources","dir":"","previous_headings":"","what":"Data Sources","title":"Player Rating System for Football Using RAPM and SPM Methods","text":"package supports three football data providers:","code":""},{"path":[]},{"path":[]},{"path":"https://peteowen1.github.io/panna/index.html","id":"data-loading","dir":"","previous_headings":"Key Functions","what":"Data Loading","title":"Player Rating System for Football Using RAPM and SPM Methods","text":"","code":"# FBref data (via pannadata) load_summary(league, season) load_passing(league, season) load_defense(league, season) load_shots()  # Opta data load_opta_stats(league, season) load_opta_shots(league, season)  # Understat data load_understat_roster(league, season) load_understat_shots(league, season)"},{"path":"https://peteowen1.github.io/panna/index.html","id":"player-statistics","dir":"","previous_headings":"Key Functions","what":"Player Statistics","title":"Player Rating System for Football Using RAPM and SPM Methods","text":"","code":"# Aggregated stats with filters player_fbref_summary(leagues, seasons, min_minutes) player_fbref_passing(leagues, seasons, min_minutes) player_opta_summary(leagues, seasons, min_minutes) player_understat_summary(leagues, seasons, min_minutes)"},{"path":"https://peteowen1.github.io/panna/index.html","id":"rating-pipeline","dir":"","previous_headings":"Key Functions","what":"Rating Pipeline","title":"Player Rating System for Football Using RAPM and SPM Methods","text":"","code":"# Create splints from match data splints <- create_all_splints(processed_data)  # Build RAPM design matrix rapm_data <- create_rapm_design_matrix(splints)  # Fit RAPM model rapm_results <- fit_rapm(rapm_data)  # Extract ratings ratings <- extract_panna_ratings(rapm_results)"},{"path":"https://peteowen1.github.io/panna/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Player Rating System for Football Using RAPM and SPM Methods","text":"Getting Started - Installation basic usage Player Ratings - RAPM SPM methodology Data Sources - Choosing right data source Data Dictionary - Column definitions pipeline stages","code":""},{"path":"https://peteowen1.github.io/panna/index.html","id":"related-packages","dir":"","previous_headings":"","what":"Related Packages","title":"Player Rating System for Football Using RAPM and SPM Methods","text":"package part pannaverse ecosystem: pannaverse - Monorepo container pannadata - Cached match data","code":""},{"path":"https://peteowen1.github.io/panna/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Player Rating System for Football Using RAPM and SPM Methods","text":"MIT","code":""},{"path":"https://peteowen1.github.io/panna/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 Pete Owen Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://peteowen1.github.io/panna/reference/add_delay_jitter.html","id":null,"dir":"Reference","previous_headings":"","what":"Add random jitter to delay — add_delay_jitter","title":"Add random jitter to delay — add_delay_jitter","text":"Returns base delay plus random jitter appear human.","code":""},{"path":"https://peteowen1.github.io/panna/reference/add_delay_jitter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add random jitter to delay — add_delay_jitter","text":"","code":"add_delay_jitter(base_delay, jitter_pct = 0.3)"},{"path":"https://peteowen1.github.io/panna/reference/add_delay_jitter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add random jitter to delay — add_delay_jitter","text":"base_delay Base delay seconds jitter_pct Percentage jitter (default 0.3 = +/- 30%)","code":""},{"path":"https://peteowen1.github.io/panna/reference/add_delay_jitter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add random jitter to delay — add_delay_jitter","text":"Delay seconds jitter applied","code":""},{"path":"https://peteowen1.github.io/panna/reference/add_season_column.html","id":null,"dir":"Reference","previous_headings":"","what":"Add season_end_year column to a data frame based on match_url lookup — add_season_column","title":"Add season_end_year column to a data frame based on match_url lookup — add_season_column","text":"Joins season information match results data frame match_url.","code":""},{"path":"https://peteowen1.github.io/panna/reference/add_season_column.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add season_end_year column to a data frame based on match_url lookup — add_season_column","text":"","code":"add_season_column(data, match_season_lookup)"},{"path":"https://peteowen1.github.io/panna/reference/add_season_column.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add season_end_year column to a data frame based on match_url lookup — add_season_column","text":"data Data frame add season match_season_lookup Named vector mapping match_url season_end_year","code":""},{"path":"https://peteowen1.github.io/panna/reference/add_season_column.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add season_end_year column to a data frame based on match_url lookup — add_season_column","text":"Data frame season_end_year column added","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_cached_matches.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate cached match data — aggregate_cached_matches","title":"Aggregate cached match data — aggregate_cached_matches","text":"Combines cached data table type single data frame. Uses parquet files available (fast), falls back RDS files (slower).","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_cached_matches.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate cached match data — aggregate_cached_matches","text":"","code":"aggregate_cached_matches(   table_type,   league = NULL,   season = NULL,   prefer_parquet = TRUE,   source = c(\"local\", \"remote\") )"},{"path":"https://peteowen1.github.io/panna/reference/aggregate_cached_matches.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate cached match data — aggregate_cached_matches","text":"table_type Type table aggregate (e.g., \"summary\", \"shots\") league Optional league filter (e.g., \"ENG\") season Optional season filter (e.g., \"2024-2025\") prefer_parquet TRUE (default), use parquet available source \"local\" (default) \"remote\" download GitHub releases","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_cached_matches.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate cached match data — aggregate_cached_matches","text":"Combined data frame, NULL cached data","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_cached_matches.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Aggregate cached match data — aggregate_cached_matches","text":"","code":"if (FALSE) { # \\dontrun{ # Load all cached summary stats (uses parquet if available) all_summary <- aggregate_cached_matches(\"summary\")  # Load only Premier League 2024-2025 pl_summary <- aggregate_cached_matches(\"summary\", league = \"ENG\",                                         season = \"2024-2025\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/aggregate_player_season_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate player season stats — aggregate_player_season_stats","title":"Aggregate player season stats — aggregate_player_season_stats","text":"Combines match-level stats season aggregates.","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_player_season_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate player season stats — aggregate_player_season_stats","text":"","code":"aggregate_player_season_stats(match_stats, rate_cols = NULL, count_cols = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/aggregate_player_season_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate player season stats — aggregate_player_season_stats","text":"match_stats Data frame match-level player stats rate_cols Columns rate statistics count_cols Columns counting statistics","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_player_season_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate player season stats — aggregate_player_season_stats","text":"Data frame season-level player stats","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_player_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate player statistics to per-90 rates — aggregate_player_stats","title":"Aggregate player statistics to per-90 rates — aggregate_player_stats","text":"Combines match-level statistics per-90-minute rates player. Extracts comprehensive features available stat tables SPM modeling. Includes derived features like success rates ratios.","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_player_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate player statistics to per-90 rates — aggregate_player_stats","text":"","code":"aggregate_player_stats(   stats_summary,   stats_passing = NULL,   stats_defense = NULL,   stats_possession = NULL,   stats_misc = NULL,   stats_passing_types = NULL,   stats_keeper = NULL,   min_minutes = 450 )"},{"path":"https://peteowen1.github.io/panna/reference/aggregate_player_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate player statistics to per-90 rates — aggregate_player_stats","text":"stats_summary Summary stats data frame process_all_data stats_passing Passing stats data frame (optional) stats_defense Defense stats data frame (optional) stats_possession Possession stats data frame (optional) stats_misc Miscellaneous stats data frame (optional) - fouls, aerials, recoveries stats_passing_types Passing types data frame (optional) - balls, switches stats_keeper Goalkeeper stats data frame (optional) - saves, post-shot xG min_minutes Minimum total minutes inclusion","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_player_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate player statistics to per-90 rates — aggregate_player_stats","text":"Data frame per-90 rates player","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_rapm_by_team.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate RAPM by team — aggregate_rapm_by_team","title":"Aggregate RAPM by team — aggregate_rapm_by_team","text":"Summarizes player ratings team level.","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_rapm_by_team.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate RAPM by team — aggregate_rapm_by_team","text":"","code":"aggregate_rapm_by_team(ratings, player_data)"},{"path":"https://peteowen1.github.io/panna/reference/aggregate_rapm_by_team.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate RAPM by team — aggregate_rapm_by_team","text":"ratings Data frame player ratings player_data Data frame linking players teams","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_rapm_by_team.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate RAPM by team — aggregate_rapm_by_team","text":"Data frame team-level summaries","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_understat_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate cached Understat data — aggregate_understat_data","title":"Aggregate cached Understat data — aggregate_understat_data","text":"Loads combines cached parquet files table type.","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_understat_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate cached Understat data — aggregate_understat_data","text":"","code":"aggregate_understat_data(table_type, league = NULL, season = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/aggregate_understat_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate cached Understat data — aggregate_understat_data","text":"table_type Table type (metadata, roster, shots) league Optional league filter season Optional season filter","code":""},{"path":"https://peteowen1.github.io/panna/reference/aggregate_understat_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate cached Understat data — aggregate_understat_data","text":"Combined data frame","code":""},{"path":"https://peteowen1.github.io/panna/reference/apply_bayesian_padding.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply Bayesian padding to statistics — apply_bayesian_padding","title":"Apply Bayesian padding to statistics — apply_bayesian_padding","text":"Regresses statistics toward population mean players games. prevents extreme ratings small sample sizes.","code":""},{"path":"https://peteowen1.github.io/panna/reference/apply_bayesian_padding.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply Bayesian padding to statistics — apply_bayesian_padding","text":"","code":"apply_bayesian_padding(   player_stats,   stat_cols,   min_games = 10,   weight_col = \"n_games\" )"},{"path":"https://peteowen1.github.io/panna/reference/apply_bayesian_padding.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply Bayesian padding to statistics — apply_bayesian_padding","text":"player_stats Data frame player statistics stat_cols Character vector columns pad min_games Games required full weight (default 10) weight_col Column containing games/minutes played","code":""},{"path":"https://peteowen1.github.io/panna/reference/apply_bayesian_padding.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply Bayesian padding to statistics — apply_bayesian_padding","text":"Data frame Bayesian-padded statistics","code":""},{"path":"https://peteowen1.github.io/panna/reference/assign_players_to_splints.html","id":null,"dir":"Reference","previous_headings":"","what":"Assign players to splints — assign_players_to_splints","title":"Assign players to splints — assign_players_to_splints","text":"Determines players pitch splint. Uses lineup minutes substitution events track players actually pitch.","code":""},{"path":"https://peteowen1.github.io/panna/reference/assign_players_to_splints.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assign players to splints — assign_players_to_splints","text":"","code":"assign_players_to_splints(boundaries, lineups, events, match_id)"},{"path":"https://peteowen1.github.io/panna/reference/assign_players_to_splints.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assign players to splints — assign_players_to_splints","text":"boundaries Data frame splint boundaries lineups Data frame match lineups events Data frame match events (substitutions) match_id Match identifier","code":""},{"path":"https://peteowen1.github.io/panna/reference/assign_players_to_splints.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assign players to splints — assign_players_to_splints","text":"Data frame player assignments per splint","code":""},{"path":"https://peteowen1.github.io/panna/reference/assign_players_to_splints_fast.html","id":null,"dir":"Reference","previous_headings":"","what":"Assign players to splints (fast version) — assign_players_to_splints_fast","title":"Assign players to splints (fast version) — assign_players_to_splints_fast","text":"Assign players splints (fast version)","code":""},{"path":"https://peteowen1.github.io/panna/reference/assign_players_to_splints_fast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assign players to splints (fast version) — assign_players_to_splints_fast","text":"","code":"assign_players_to_splints_fast(boundaries, lineups, match_id)"},{"path":"https://peteowen1.github.io/panna/reference/build_all_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Build all parquet files — build_all_parquet","title":"Build all parquet files — build_all_parquet","text":"Iterates table_type/league/season combinations creates parquet files. Discovers combinations existing RDS files existing parquet files (incremental updates CI).","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_all_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build all parquet files — build_all_parquet","text":"","code":"build_all_parquet(   table_types = NULL,   leagues = NULL,   seasons = NULL,   verbose = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/build_all_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build all parquet files — build_all_parquet","text":"table_types Character vector table types process. Default: standard table types. leagues Optional character vector leagues process. NULL, processes leagues found. seasons Optional character vector seasons process. NULL, processes seasons found. verbose Print progress messages","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_all_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build all parquet files — build_all_parquet","text":"Data frame table_type, league, season, n_matches, size_mb columns","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_consolidated_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Consolidated Parquet Files for Remote Queries — build_consolidated_parquet","title":"Build Consolidated Parquet Files for Remote Queries — build_consolidated_parquet","text":"Creates single parquet file per table type containing leagues seasons. consolidated files uploaded GitHub releases fast remote querying (like bouncer's approach). Users can filter league/season SQL.","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_consolidated_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Consolidated Parquet Files for Remote Queries — build_consolidated_parquet","text":"","code":"build_consolidated_parquet(   table_types = NULL,   output_dir = NULL,   verbose = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/build_consolidated_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Consolidated Parquet Files for Remote Queries — build_consolidated_parquet","text":"table_types Character vector table types consolidate. Defaults FBref table types. output_dir Directory write consolidated parquet files. Defaults pannadata_dir()/consolidated. verbose Print progress messages.","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_consolidated_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Consolidated Parquet Files for Remote Queries — build_consolidated_parquet","text":"Data frame table_type, n_rows, size_mb columns.","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_consolidated_parquet.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Build Consolidated Parquet Files for Remote Queries — build_consolidated_parquet","text":"function reads individual league/season parquet files table type combines single file. resulting files can uploaded directly GitHub releases individual assets, enabling fast remote queries via query_remote_parquet(). Output files named {table_type}.parquet (e.g., summary.parquet).","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_consolidated_parquet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build Consolidated Parquet Files for Remote Queries — build_consolidated_parquet","text":"","code":"if (FALSE) { # \\dontrun{ # Build all consolidated parquets build_consolidated_parquet()  # Build only summary and events build_consolidated_parquet(table_types = c(\"summary\", \"events\")) } # }"},{"path":"https://peteowen1.github.io/panna/reference/build_consolidated_understat_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Consolidated Understat Parquet Files — build_consolidated_understat_parquet","title":"Build Consolidated Understat Parquet Files — build_consolidated_understat_parquet","text":"Creates single parquet file per table type containing leagues seasons. consolidated files uploaded GitHub releases fast remote querying.","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_consolidated_understat_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Consolidated Understat Parquet Files — build_consolidated_understat_parquet","text":"","code":"build_consolidated_understat_parquet(   table_types = NULL,   output_dir = NULL,   verbose = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/build_consolidated_understat_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Consolidated Understat Parquet Files — build_consolidated_understat_parquet","text":"table_types Character vector table types consolidate. Defaults c(\"roster\", \"shots\", \"metadata\"). output_dir Directory write consolidated parquet files. Defaults pannadata_dir()/consolidated. verbose Print progress messages.","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_consolidated_understat_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Consolidated Understat Parquet Files — build_consolidated_understat_parquet","text":"Data frame table_type, n_rows, size_mb columns.","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_consolidated_understat_parquet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build Consolidated Understat Parquet Files — build_consolidated_understat_parquet","text":"","code":"if (FALSE) { # \\dontrun{ # Build all consolidated Understat parquets build_consolidated_understat_parquet() } # }"},{"path":"https://peteowen1.github.io/panna/reference/build_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Build parquet file from RDS files for a league-season — build_parquet","title":"Build parquet file from RDS files for a league-season — build_parquet","text":"Reads RDS files table_type/league/season combines single parquet file. parquet file already exists, new RDS data merged existing parquet data (incremental updates).","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build parquet file from RDS files for a league-season — build_parquet","text":"","code":"build_parquet(table_type, league, season, verbose = TRUE)"},{"path":"https://peteowen1.github.io/panna/reference/build_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build parquet file from RDS files for a league-season — build_parquet","text":"table_type Table type (e.g., \"summary\", \"events\") league League code (e.g., \"ENG\") season Season string (e.g., \"2024-2025\") verbose Print progress messages","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build parquet file from RDS files for a league-season — build_parquet","text":"Path created parquet file, NULL data","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_prior_vector.html","id":null,"dir":"Reference","previous_headings":"","what":"Build prior vector for RAPM from SPM predictions — build_prior_vector","title":"Build prior vector for RAPM from SPM predictions — build_prior_vector","text":"Creates named prior vector aligned player IDs SPM rating predictions. vectorized helper used xRAPM seasonal ratings build priors SPM predictions without manual -loops.","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_prior_vector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build prior vector for RAPM from SPM predictions — build_prior_vector","text":"","code":"build_prior_vector(spm_data, spm_col, player_mapping, default = 0)"},{"path":"https://peteowen1.github.io/panna/reference/build_prior_vector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build prior vector for RAPM from SPM predictions — build_prior_vector","text":"spm_data Data frame player_name SPM column use spm_col Name column containing SPM predictions player_mapping Data frame player_id player_name RAPM default Value players without SPM prediction (default 0)","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_prior_vector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build prior vector for RAPM from SPM predictions — build_prior_vector","text":"Named vector priors keyed player_id","code":""},{"path":"https://peteowen1.github.io/panna/reference/build_prior_vector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build prior vector for RAPM from SPM predictions — build_prior_vector","text":"","code":"if (FALSE) { # \\dontrun{ offense_prior <- build_prior_vector(   spm_data = offense_spm_ratings,   spm_col = \"offense_spm\",   player_mapping = rapm_data$player_mapping ) } # }"},{"path":"https://peteowen1.github.io/panna/reference/bulk_scrape_understat.html","id":null,"dir":"Reference","previous_headings":"","what":"Bulk scrape Understat matches with auto-detection — bulk_scrape_understat","title":"Bulk scrape Understat matches with auto-detection — bulk_scrape_understat","text":"Scrapes matches ID range, auto-detecting league season metadata. useful scraping matches across leagues without knowing IDs belong league.","code":""},{"path":"https://peteowen1.github.io/panna/reference/bulk_scrape_understat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bulk scrape Understat matches with auto-detection — bulk_scrape_understat","text":"","code":"bulk_scrape_understat(   start_id,   end_id,   delay = 3,   skip_cached = TRUE,   verbose = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/bulk_scrape_understat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bulk scrape Understat matches with auto-detection — bulk_scrape_understat","text":"start_id Starting match ID end_id Ending match ID (inclusive) delay Seconds requests (default 3) skip_cached Skip already cached matches (default TRUE) verbose Print progress messages (default TRUE)","code":""},{"path":"https://peteowen1.github.io/panna/reference/bulk_scrape_understat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bulk scrape Understat matches with auto-detection — bulk_scrape_understat","text":"Data frame scraping results (match_id, league, season, status)","code":""},{"path":"https://peteowen1.github.io/panna/reference/bulk_scrape_understat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bulk scrape Understat matches with auto-detection — bulk_scrape_understat","text":"","code":"if (FALSE) { # \\dontrun{ # Scrape recent matches (2024-25 season IDs are ~27000-29000) results <- bulk_scrape_understat(28900, 28999)  # Check results table(results$league, results$status) } # }"},{"path":"https://peteowen1.github.io/panna/reference/calculate_defensive_spm.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate defensive SPM — calculate_defensive_spm","title":"Calculate defensive SPM — calculate_defensive_spm","text":"Fits SPM model defensive contribution .","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_defensive_spm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate defensive SPM — calculate_defensive_spm","text":"","code":"calculate_defensive_spm(data, defensive_cols = NULL, alpha = 0.5)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_defensive_spm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate defensive SPM — calculate_defensive_spm","text":"data SPM regression data defensive_cols Defensive predictor columns alpha Elastic net mixing","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_defensive_spm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate defensive SPM — calculate_defensive_spm","text":"Fitted model defensive SPM","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_effective_minute.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate effective minute including stoppage time — calculate_effective_minute","title":"Calculate effective minute including stoppage time — calculate_effective_minute","text":"Converts minute + added_time single continuous time value. Second-half events offset first-half stoppage create continuous time.","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_effective_minute.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate effective minute including stoppage time — calculate_effective_minute","text":"","code":"calculate_effective_minute(minute, added_time, first_half_stoppage = 0L)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_effective_minute.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate effective minute including stoppage time — calculate_effective_minute","text":"minute Integer vector base minutes added_time Integer vector added time (can NA) first_half_stoppage Integer, minutes first-half stoppage (default 0)","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_effective_minute.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate effective minute including stoppage time — calculate_effective_minute","text":"Numeric vector effective minutes","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_effective_minute.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate effective minute including stoppage time — calculate_effective_minute","text":"Examples 3 mins first-half stoppage: First half minute 30 -> 30 First half 45+3 -> 48 Second half minute 46 -> 49 (offset 3) Second half 90+11 -> 104 (90 + 11 + 3)","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_finishing_modifier.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate player finishing modifier — calculate_finishing_modifier","title":"Calculate player finishing modifier — calculate_finishing_modifier","text":"Calculates player's finishing ability relative xG. Used adjust xG predictions splint analysis.","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_finishing_modifier.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate player finishing modifier — calculate_finishing_modifier","text":"","code":"calculate_finishing_modifier(shooting, min_shots = 20)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_finishing_modifier.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate player finishing modifier — calculate_finishing_modifier","text":"shooting Processed shooting data min_shots Minimum shots required (default 20)","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_finishing_modifier.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate player finishing modifier — calculate_finishing_modifier","text":"Data frame finishing modifier per player","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_first_half_end.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate first-half end minute from events and/or shots — calculate_first_half_end","title":"Calculate first-half end minute from events and/or shots — calculate_first_half_end","text":"Determines first half actually ended based stoppage time events shots. Uses full minutes: 45+3 -> first half ends 48.5 Falls back events shots NULL.","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_first_half_end.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate first-half end minute from events and/or shots — calculate_first_half_end","text":"","code":"calculate_first_half_end(events, shots = NULL, default_end = 46)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_first_half_end.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate first-half end minute from events and/or shots — calculate_first_half_end","text":"events Data frame minute optionally added_time columns shots Data frame minute column (character, e.g., \"45+3\") default_end Default first-half end stoppage data (default 46)","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_first_half_end.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate first-half end minute from events and/or shots — calculate_first_half_end","text":"Numeric first-half end minute","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_match_end.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate match end minute from events and/or shots — calculate_match_end","title":"Calculate match end minute from events and/or shots — calculate_match_end","text":"Determines actual match end time based latest event shot observed. Uses continuous time (second half offset first-half stoppage). events shots provided, uses maximum .","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_match_end.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate match end minute from events and/or shots — calculate_match_end","text":"","code":"calculate_match_end(events, shots = NULL, default_end = 91)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_match_end.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate match end minute from events and/or shots — calculate_match_end","text":"events Data frame minute optionally added_time columns shots Data frame minute column (character, e.g., \"90+4\") default_end Default match end data (default 91)","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_match_end.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate match end minute from events and/or shots — calculate_match_end","text":"Numeric match end minute","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_npxg.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate non-penalty xG and goals — calculate_npxg","title":"Calculate non-penalty xG and goals — calculate_npxg","text":"Calculates non-penalty expected goals shot data.","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_npxg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate non-penalty xG and goals — calculate_npxg","text":"","code":"calculate_npxg(shooting)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_npxg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate non-penalty xG and goals — calculate_npxg","text":"shooting Processed shooting data","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_npxg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate non-penalty xG and goals — calculate_npxg","text":"Data frame npxG player match","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_od_panna.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate O-panna and D-panna — calculate_od_panna","title":"Calculate O-panna and D-panna — calculate_od_panna","text":"Separates panna rating offensive defensive components.","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_od_panna.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate O-panna and D-panna — calculate_od_panna","text":"","code":"calculate_od_panna(rapm_data, spm_ratings, lambda_prior = 1)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_od_panna.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate O-panna and D-panna — calculate_od_panna","text":"rapm_data RAPM data prepared separate_od = TRUE spm_ratings SPM ratings (separate O-SPM/D-SPM) lambda_prior Regularization strength","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_od_panna.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate O-panna and D-panna — calculate_od_panna","text":"List separated offensive defensive ratings","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_offensive_spm.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate offensive SPM — calculate_offensive_spm","title":"Calculate offensive SPM — calculate_offensive_spm","text":"Fits SPM model offensive contribution .","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_offensive_spm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate offensive SPM — calculate_offensive_spm","text":"","code":"calculate_offensive_spm(data, offensive_cols = NULL, alpha = 0.5)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_offensive_spm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate offensive SPM — calculate_offensive_spm","text":"data SPM regression data offensive_cols Offensive predictor columns alpha Elastic net mixing","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_offensive_spm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate offensive SPM — calculate_offensive_spm","text":"Fitted model offensive SPM","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_panna_rating.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate panna rating — calculate_panna_rating","title":"Calculate panna rating — calculate_panna_rating","text":"Core panna rating calculation combining RAPM SPM prior. Formula: beta_panna = beta_diff + beta_spm beta_diff : min ||y - X*beta||^2 + lambda * ||beta - beta_spm||^2","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_panna_rating.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate panna rating — calculate_panna_rating","text":"","code":"calculate_panna_rating(rapm_data, spm_ratings, lambda_prior = 1, alpha = 0)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_panna_rating.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate panna rating — calculate_panna_rating","text":"rapm_data RAPM data prepare_rapm_data spm_ratings SPM ratings calculate_spm_ratings lambda_prior Regularization strength toward SPM prior alpha Elastic net mixing (default 0 ridge)","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_panna_rating.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate panna rating — calculate_panna_rating","text":"List panna ratings model details","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_per_100_sequences.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert statistics to per-100-sequences rate — calculate_per_100_sequences","title":"Convert statistics to per-100-sequences rate — calculate_per_100_sequences","text":"Normalizes counting statistics per-100-sequences basis, similar basketball's per-100-possessions.","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_per_100_sequences.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert statistics to per-100-sequences rate — calculate_per_100_sequences","text":"","code":"calculate_per_100_sequences(player_stats, team_sequences, stat_cols = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_per_100_sequences.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert statistics to per-100-sequences rate — calculate_per_100_sequences","text":"player_stats Data frame player match stats team_sequences Data frame team sequences per match stat_cols Character vector columns convert","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_per_100_sequences.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert statistics to per-100-sequences rate — calculate_per_100_sequences","text":"Data frame rate statistics","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_rapm_stability.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate RAPM stability via bootstrap — calculate_rapm_stability","title":"Calculate RAPM stability via bootstrap — calculate_rapm_stability","text":"Estimates confidence intervals RAPM ratings using bootstrap.","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_rapm_stability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate RAPM stability via bootstrap — calculate_rapm_stability","text":"","code":"calculate_rapm_stability(rapm_data, n_bootstrap = 100, alpha = 0)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_rapm_stability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate RAPM stability via bootstrap — calculate_rapm_stability","text":"rapm_data List prepare_rapm_data n_bootstrap Number bootstrap samples alpha Elastic net parameter","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_rapm_stability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate RAPM stability via bootstrap — calculate_rapm_stability","text":"Data frame rating estimates confidence intervals","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_splint_npxgd.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate splint-level xG differential — calculate_splint_npxgd","title":"Calculate splint-level xG differential — calculate_splint_npxgd","text":"Calculates non-penalty xG differential splint.","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_splint_npxgd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate splint-level xG differential — calculate_splint_npxgd","text":"","code":"calculate_splint_npxgd(   boundaries,   shooting,   match_id,   home_team = NULL,   away_team = NULL )"},{"path":"https://peteowen1.github.io/panna/reference/calculate_splint_npxgd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate splint-level xG differential — calculate_splint_npxgd","text":"boundaries Data frame splint boundaries shooting Processed shooting data match_id Match identifier home_team Name home team away_team Name away team","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_splint_npxgd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate splint-level xG differential — calculate_splint_npxgd","text":"Data frame npxGD splint","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_splint_npxgd_fast.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate splint xG (fast version) — calculate_splint_npxgd_fast","title":"Calculate splint xG (fast version) — calculate_splint_npxgd_fast","text":"Calculate splint xG (fast version)","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_splint_npxgd_fast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate splint xG (fast version) — calculate_splint_npxgd_fast","text":"","code":"calculate_splint_npxgd_fast(boundaries, shooting, home_team, away_team)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_spm_blend.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate blended SPM ratings from Elastic Net and XGBoost — calculate_spm_blend","title":"Calculate blended SPM ratings from Elastic Net and XGBoost — calculate_spm_blend","text":"Combines predictions model types configurable weighting. blend can improve robustness capturing linear (Elastic Net) non-linear (XGBoost) relationships box scores RAPM.","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_spm_blend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate blended SPM ratings from Elastic Net and XGBoost — calculate_spm_blend","text":"","code":"calculate_spm_blend(   player_features,   model_glmnet,   model_xgb,   weight_glmnet = 0.5 )"},{"path":"https://peteowen1.github.io/panna/reference/calculate_spm_blend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate blended SPM ratings from Elastic Net and XGBoost — calculate_spm_blend","text":"player_features Data frame player features model_glmnet Fitted Elastic Net SPM model fit_spm_model model_xgb Fitted XGBoost SPM model fit_spm_xgb weight_glmnet Weight Elastic Net predictions (default 0.5)","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_spm_blend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate blended SPM ratings from Elastic Net and XGBoost — calculate_spm_blend","text":"Data frame blended SPM ratings plus individual model predictions","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_spm_ratings.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate SPM ratings for all players — calculate_spm_ratings","title":"Calculate SPM ratings for all players — calculate_spm_ratings","text":"Applies SPM model predict RAPM players features.","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_spm_ratings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate SPM ratings for all players — calculate_spm_ratings","text":"","code":"calculate_spm_ratings(player_features, spm_model, lambda = \"min\")"},{"path":"https://peteowen1.github.io/panna/reference/calculate_spm_ratings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate SPM ratings for all players — calculate_spm_ratings","text":"player_features Data frame player features spm_model Fitted SPM model lambda lambda use","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_spm_ratings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate SPM ratings for all players — calculate_spm_ratings","text":"Data frame SPM ratings","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_spm_ratings_xgb.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate SPM ratings using XGBoost model — calculate_spm_ratings_xgb","title":"Calculate SPM ratings using XGBoost model — calculate_spm_ratings_xgb","text":"Calculate SPM ratings using XGBoost model","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_spm_ratings_xgb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate SPM ratings using XGBoost model — calculate_spm_ratings_xgb","text":"","code":"calculate_spm_ratings_xgb(player_features, spm_xgb_model)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_spm_ratings_xgb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate SPM ratings using XGBoost model — calculate_spm_ratings_xgb","text":"player_features Data frame player features spm_xgb_model Fitted XGBoost SPM model fit_spm_xgb","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_spm_ratings_xgb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate SPM ratings using XGBoost model — calculate_spm_ratings_xgb","text":"Data frame SPM ratings","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_team_sequences.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate team possession sequences — calculate_team_sequences","title":"Calculate team possession sequences — calculate_team_sequences","text":"Estimates number possession sequences per match team. sequence defined period continuous possession.","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_team_sequences.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate team possession sequences — calculate_team_sequences","text":"","code":"calculate_team_sequences(stats)"},{"path":"https://peteowen1.github.io/panna/reference/calculate_team_sequences.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate team possession sequences — calculate_team_sequences","text":"stats Processed summary stats touches passes","code":""},{"path":"https://peteowen1.github.io/panna/reference/calculate_team_sequences.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate team possession sequences — calculate_team_sequences","text":"Data frame team sequences per match","code":""},{"path":"https://peteowen1.github.io/panna/reference/categorize_player_profile.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorize player profile — categorize_player_profile","title":"Categorize player profile — categorize_player_profile","text":"Classifies players based O/D rating balance.","code":""},{"path":"https://peteowen1.github.io/panna/reference/categorize_player_profile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorize player profile — categorize_player_profile","text":"","code":"categorize_player_profile(o_rating, d_rating)"},{"path":"https://peteowen1.github.io/panna/reference/categorize_player_profile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Categorize player profile — categorize_player_profile","text":"o_rating Offensive rating d_rating Defensive rating","code":""},{"path":"https://peteowen1.github.io/panna/reference/categorize_player_profile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Categorize player profile — categorize_player_profile","text":"Character vector player types","code":""},{"path":"https://peteowen1.github.io/panna/reference/clean_column_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean column names to snake_case — clean_column_names","title":"Clean column names to snake_case — clean_column_names","text":"Applies janitor::clean_names() standardize column names.","code":""},{"path":"https://peteowen1.github.io/panna/reference/clean_column_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean column names to snake_case — clean_column_names","text":"","code":"clean_column_names(data)"},{"path":"https://peteowen1.github.io/panna/reference/clean_column_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean column names to snake_case — clean_column_names","text":"data Data frame","code":""},{"path":"https://peteowen1.github.io/panna/reference/clean_column_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean column names to snake_case — clean_column_names","text":"Data frame snake_case column names","code":""},{"path":"https://peteowen1.github.io/panna/reference/clean_player_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean player name for matching — clean_player_name","title":"Clean player name for matching — clean_player_name","text":"Creates minimal normalized version player name fuzzy matching. Unlike standardize_player_names() preserves readable format, creates key: lowercase whitespace removed. Uses memoization cache unique names O(1) lookup repeated values.","code":""},{"path":"https://peteowen1.github.io/panna/reference/clean_player_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean player name for matching — clean_player_name","text":"","code":"clean_player_name(names)"},{"path":"https://peteowen1.github.io/panna/reference/clean_player_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean player name for matching — clean_player_name","text":"names Character vector player names","code":""},{"path":"https://peteowen1.github.io/panna/reference/clean_player_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean player name for matching — clean_player_name","text":"Character vector cleaned names (lowercase, whitespace)","code":""},{"path":"https://peteowen1.github.io/panna/reference/clean_player_name.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clean player name for matching — clean_player_name","text":"","code":"clean_player_name(c(\"Kylian Mbappé\", \"kylian mbappé\", \"KYLIAN MBAPPÉ\")) #> [1] \"kylianmbappé\" \"kylianmbappé\" \"kylianmbappé\" # All return \"kylianmbappé\""},{"path":"https://peteowen1.github.io/panna/reference/clear_remote_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear Remote Data Cache — clear_remote_cache","title":"Clear Remote Data Cache — clear_remote_cache","text":"Clears session-level cache remote release info, forcing next load re-fetch GitHub.","code":""},{"path":"https://peteowen1.github.io/panna/reference/clear_remote_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear Remote Data Cache — clear_remote_cache","text":"","code":"clear_remote_cache()"},{"path":"https://peteowen1.github.io/panna/reference/clear_remote_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear Remote Data Cache — clear_remote_cache","text":"Invisible NULL.","code":""},{"path":"https://peteowen1.github.io/panna/reference/clear_remote_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear Remote Data Cache — clear_remote_cache","text":"","code":"if (FALSE) { # \\dontrun{ clear_remote_cache() } # }"},{"path":"https://peteowen1.github.io/panna/reference/clear_remote_opta_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear remote Opta data cache — clear_remote_opta_cache","title":"Clear remote Opta data cache — clear_remote_opta_cache","text":"Removes cached remote Opta data, forcing fresh download next access.","code":""},{"path":"https://peteowen1.github.io/panna/reference/clear_remote_opta_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear remote Opta data cache — clear_remote_opta_cache","text":"","code":"clear_remote_opta_cache()"},{"path":"https://peteowen1.github.io/panna/reference/clear_remote_opta_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear remote Opta data cache — clear_remote_opta_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Force fresh download on next remote load clear_remote_opta_cache() } # }"},{"path":"https://peteowen1.github.io/panna/reference/combine_team_tables.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine home and away team tables — combine_team_tables","title":"Combine home and away team tables — combine_team_tables","text":"Merges home away data table type single data frame.","code":""},{"path":"https://peteowen1.github.io/panna/reference/combine_team_tables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine home and away team tables — combine_team_tables","text":"","code":"combine_team_tables(parsed_data, table_type)"},{"path":"https://peteowen1.github.io/panna/reference/combine_team_tables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine home and away team tables — combine_team_tables","text":"parsed_data List containing parsed tables table_type Type table (e.g., \"summary\", \"passing\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/combine_team_tables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine home and away team tables — combine_team_tables","text":"Combined data frame teams, NULL data","code":""},{"path":"https://peteowen1.github.io/panna/reference/compare_panna_rapm_spm.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare panna, RAPM, and SPM ratings — compare_panna_rapm_spm","title":"Compare panna, RAPM, and SPM ratings — compare_panna_rapm_spm","text":"Analyzes differences three rating types.","code":""},{"path":"https://peteowen1.github.io/panna/reference/compare_panna_rapm_spm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare panna, RAPM, and SPM ratings — compare_panna_rapm_spm","text":"","code":"compare_panna_rapm_spm(panna_ratings, rapm_ratings, spm_ratings)"},{"path":"https://peteowen1.github.io/panna/reference/compare_panna_rapm_spm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare panna, RAPM, and SPM ratings — compare_panna_rapm_spm","text":"panna_ratings Data frame panna ratings rapm_ratings Data frame RAPM ratings spm_ratings Data frame SPM ratings","code":""},{"path":"https://peteowen1.github.io/panna/reference/compare_panna_rapm_spm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare panna, RAPM, and SPM ratings — compare_panna_rapm_spm","text":"Data frame comparing rating types","code":""},{"path":"https://peteowen1.github.io/panna/reference/count_events_before.html","id":null,"dir":"Reference","previous_headings":"","what":"Count events before each boundary — count_events_before","title":"Count events before each boundary — count_events_before","text":"Counts home/away events occurring splint boundary. Used tracking cumulative goals, red cards, etc.","code":""},{"path":"https://peteowen1.github.io/panna/reference/count_events_before.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Count events before each boundary — count_events_before","text":"","code":"count_events_before(events, boundaries)"},{"path":"https://peteowen1.github.io/panna/reference/count_events_before.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Count events before each boundary — count_events_before","text":"events Data frame 'minute' ('effective_minute') 'is_home' columns boundaries Numeric vector splint boundary minutes","code":""},{"path":"https://peteowen1.github.io/panna/reference/count_events_before.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Count events before each boundary — count_events_before","text":"List 'home' 'away' counts (vectors length boundaries minus 1)","code":""},{"path":"https://peteowen1.github.io/panna/reference/count_events_in_splint.html","id":null,"dir":"Reference","previous_headings":"","what":"Count events within each splint — count_events_in_splint","title":"Count events within each splint — count_events_in_splint","text":"Counts events occur splint (start end boundaries). Unlike count_events_before gives cumulative counts, gives per-splint counts.","code":""},{"path":"https://peteowen1.github.io/panna/reference/count_events_in_splint.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Count events within each splint — count_events_in_splint","text":"","code":"count_events_in_splint(events, boundaries)"},{"path":"https://peteowen1.github.io/panna/reference/count_events_in_splint.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Count events within each splint — count_events_in_splint","text":"events Data frame 'minute' ('effective_minute') 'is_home' columns boundaries Numeric vector splint boundary minutes","code":""},{"path":"https://peteowen1.github.io/panna/reference/count_events_in_splint.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Count events within each splint — count_events_in_splint","text":"List 'home' 'away' counts (vectors length n_splints)","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_all_splints.html","id":null,"dir":"Reference","previous_headings":"","what":"Create splints for all matches — create_all_splints","title":"Create splints for all matches — create_all_splints","text":"Generates splint data entire dataset. Uses data.table fast pre-splitting match_id.","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_all_splints.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create splints for all matches — create_all_splints","text":"","code":"create_all_splints(processed_data, include_goals = TRUE, verbose = TRUE)"},{"path":"https://peteowen1.github.io/panna/reference/create_all_splints.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create splints for all matches — create_all_splints","text":"processed_data List processed data process_all_data include_goals Whether create splints goal times verbose Print progress messages","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_all_splints.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create splints for all matches — create_all_splints","text":"List combined splint data","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_defensive_features.html","id":null,"dir":"Reference","previous_headings":"","what":"Create defensive features — create_defensive_features","title":"Create defensive features — create_defensive_features","text":"Builds defensive-related rate statistics SPM model.","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_defensive_features.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create defensive features — create_defensive_features","text":"","code":"create_defensive_features(stats)"},{"path":"https://peteowen1.github.io/panna/reference/create_defensive_features.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create defensive features — create_defensive_features","text":"stats Processed player stats rate columns","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_defensive_features.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create defensive features — create_defensive_features","text":"Data frame defensive features","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_match_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Create unique match ID — create_match_id","title":"Create unique match ID — create_match_id","text":"Generates unique identifier match based season, date, teams.","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_match_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create unique match ID — create_match_id","text":"","code":"create_match_id(season, date, home_team, away_team)"},{"path":"https://peteowen1.github.io/panna/reference/create_match_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create unique match ID — create_match_id","text":"season Season string (e.g., \"2023-2024\") date Date match home_team Home team name away_team Away team name","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_match_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create unique match ID — create_match_id","text":"Character vector match IDs","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_match_splints.html","id":null,"dir":"Reference","previous_headings":"","what":"Create splints for a single match — create_match_splints","title":"Create splints for a single match — create_match_splints","text":"Master function create splint data one match.","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_match_splints.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create splints for a single match — create_match_splints","text":"","code":"create_match_splints(   match_id,   events,   lineups,   shooting,   results,   include_goals = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/create_match_splints.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create splints for a single match — create_match_splints","text":"match_id Match identifier events Processed events data lineups Processed lineups data shooting Processed shooting data results Processed match results include_goals Whether create splints goal times","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_match_splints.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create splints for a single match — create_match_splints","text":"List splint data match","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_match_splints_fast.html","id":null,"dir":"Reference","previous_headings":"","what":"Create splints for a single match (fast version) — create_match_splints_fast","title":"Create splints for a single match (fast version) — create_match_splints_fast","text":"Optimized version takes pre-filtered data single match. Derives goal times shooting data events available. Derives red card times stats_summary available.","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_match_splints_fast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create splints for a single match (fast version) — create_match_splints_fast","text":"","code":"create_match_splints_fast(   match_id,   events,   lineups,   shooting,   results,   stats = NULL,   include_goals = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/create_match_splints_fast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create splints for a single match (fast version) — create_match_splints_fast","text":"match_id Match identifier events Pre-filtered events match lineups Pre-filtered lineups match shooting Pre-filtered shooting match results Pre-filtered results match stats Pre-filtered stats_summary match (red cards) include_goals Whether create splints goal times","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_match_splints_fast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create splints for a single match (fast version) — create_match_splints_fast","text":"List splint data match","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_offensive_features.html","id":null,"dir":"Reference","previous_headings":"","what":"Create offensive features — create_offensive_features","title":"Create offensive features — create_offensive_features","text":"Builds attacking-related rate statistics SPM model.","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_offensive_features.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create offensive features — create_offensive_features","text":"","code":"create_offensive_features(stats)"},{"path":"https://peteowen1.github.io/panna/reference/create_offensive_features.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create offensive features — create_offensive_features","text":"stats Processed player stats rate columns","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_offensive_features.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create offensive features — create_offensive_features","text":"Data frame offensive features","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_player_feature_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Create full player feature matrix — create_player_feature_matrix","title":"Create full player feature matrix — create_player_feature_matrix","text":"Builds complete feature matrix SPM model.","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_player_feature_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create full player feature matrix — create_player_feature_matrix","text":"","code":"create_player_feature_matrix(processed_data, min_minutes = 180)"},{"path":"https://peteowen1.github.io/panna/reference/create_player_feature_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create full player feature matrix — create_player_feature_matrix","text":"processed_data List processed data min_minutes Minimum minutes inclusion","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_player_feature_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create full player feature matrix — create_player_feature_matrix","text":"Data frame player features","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_player_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Create unique player ID — create_player_id","title":"Create unique player ID — create_player_id","text":"Generates unique identifier player based name team. Note: simple implementation; FBref player URLs reliable.","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_player_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create unique player ID — create_player_id","text":"","code":"create_player_id(player_name, fbref_id = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/create_player_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create unique player ID — create_player_id","text":"player_name Player name fbref_id Optional FBref player ID (preferred available","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_player_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create unique player ID — create_player_id","text":"Character vector player IDs","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_rapm_design_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Create RAPM design matrix (new structure) — create_rapm_design_matrix","title":"Create RAPM design matrix (new structure) — create_rapm_design_matrix","text":"Creates design matrix 2 rows per splint (one per team perspective): Target: xgf90 gf90 (xG goals per 90 team's perspective) Covariates: gd, gf, ga, avg_min, home_away Player columns: playerX_off (attacking), playerX_def (defending) Replacement columns: replacement_off, replacement_def low-minute players","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_rapm_design_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create RAPM design matrix (new structure) — create_rapm_design_matrix","text":"","code":"create_rapm_design_matrix(   splint_data,   min_minutes = 90,   target_type = c(\"xg\", \"goals\") )"},{"path":"https://peteowen1.github.io/panna/reference/create_rapm_design_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create RAPM design matrix (new structure) — create_rapm_design_matrix","text":"splint_data Combined splint data create_all_splints min_minutes Minimum total minutes player inclusion target_type Type target variable: \"xg\" non-penalty xG (default), \"goals\" actual goals scored","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_rapm_design_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create RAPM design matrix (new structure) — create_rapm_design_matrix","text":"List design matrix components","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_splint_boundaries.html","id":null,"dir":"Reference","previous_headings":"","what":"Create splint boundaries — create_splint_boundaries","title":"Create splint boundaries — create_splint_boundaries","text":"Defines start end times splint based events optionally shots. Splints created : Start match (minute 0) goal substitution red card Half time (minute 45) End match (dynamically calculated stoppage time events/shots)","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_splint_boundaries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create splint boundaries — create_splint_boundaries","text":"","code":"create_splint_boundaries(   events,   shots = NULL,   include_goals = TRUE,   include_halftime = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/create_splint_boundaries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create splint boundaries — create_splint_boundaries","text":"events Data frame match events (minute optionally added_time columns) shots Data frame shots (optional, minute column stoppage time) include_goals Logical, whether create new splints goals (default TRUE) include_halftime Logical, whether create splint halftime (default TRUE)","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_splint_boundaries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create splint boundaries — create_splint_boundaries","text":"Data frame splint boundaries game state","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_splint_boundaries.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create splint boundaries — create_splint_boundaries","text":"Uses continuous time second-half events offset first-half stoppage. Example 3 mins first-half stoppage 11 mins second-half stoppage: First half: 0 48 (45 + 3) Second half: 48 104 (offset 3, plus 90+11) Also tracks game state (cumulative goals, red cards, player counts) splint boundary.","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_splint_boundaries_fast.html","id":null,"dir":"Reference","previous_headings":"","what":"Create splint boundaries (fast version) — create_splint_boundaries_fast","title":"Create splint boundaries (fast version) — create_splint_boundaries_fast","text":"Create splint boundaries (fast version)","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_splint_boundaries_fast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create splint boundaries (fast version) — create_splint_boundaries_fast","text":"","code":"create_splint_boundaries_fast(   events,   shots = NULL,   include_goals = TRUE,   include_halftime = TRUE,   goal_times = NULL,   goal_is_home = NULL,   sub_times = NULL,   red_card_times = NULL,   red_card_is_home = NULL )"},{"path":"https://peteowen1.github.io/panna/reference/create_splint_boundaries_fast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create splint boundaries (fast version) — create_splint_boundaries_fast","text":"events Event data (may NULL) shots Shots data minute column (may NULL) include_goals Whether include goal boundaries include_halftime Whether include halftime boundary goal_times Numeric vector goal minutes (derived shooting) goal_is_home Logical vector indicating goal home team sub_times Numeric vector substitution minutes (derived lineups) red_card_times Numeric vector red card minutes (derived stats) red_card_is_home Logical vector indicating red card home team","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_spm_prior.html","id":null,"dir":"Reference","previous_headings":"","what":"Create SPM prior vector for RAPM — create_spm_prior","title":"Create SPM prior vector for RAPM — create_spm_prior","text":"Creates prior vector aligned RAPM player IDs.","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_spm_prior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create SPM prior vector for RAPM — create_spm_prior","text":"","code":"create_spm_prior(spm_predictions, player_mapping, default_prior = 0)"},{"path":"https://peteowen1.github.io/panna/reference/create_spm_prior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create SPM prior vector for RAPM — create_spm_prior","text":"spm_predictions Named vector data frame SPM predictions player_mapping Data frame player_id player_name default_prior Value players without SPM prediction","code":""},{"path":"https://peteowen1.github.io/panna/reference/create_spm_prior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create SPM prior vector for RAPM — create_spm_prior","text":"Named vector priors (keyed player_id)","code":""},{"path":"https://peteowen1.github.io/panna/reference/derive_events_from_shooting.html","id":null,"dir":"Reference","previous_headings":"","what":"Derive goal events from shooting data — derive_events_from_shooting","title":"Derive goal events from shooting data — derive_events_from_shooting","text":"match summary data available pre-scraped cache, can derive goal events shooting data (available). gives us goal timing splint creation, though substitution timing.","code":""},{"path":"https://peteowen1.github.io/panna/reference/derive_events_from_shooting.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Derive goal events from shooting data — derive_events_from_shooting","text":"","code":"derive_events_from_shooting(shooting_data)"},{"path":"https://peteowen1.github.io/panna/reference/derive_events_from_shooting.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Derive goal events from shooting data — derive_events_from_shooting","text":"shooting_data Shooting data load_fb_match_shooting (already snake_case)","code":""},{"path":"https://peteowen1.github.io/panna/reference/derive_events_from_shooting.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Derive goal events from shooting data — derive_events_from_shooting","text":"Data frame goal events timing","code":""},{"path":"https://peteowen1.github.io/panna/reference/derive_lineups_from_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Get match lineups from advanced stats (no scraping needed) — derive_lineups_from_stats","title":"Get match lineups from advanced stats (no scraping needed) — derive_lineups_from_stats","text":"Derives lineup information advanced match stats data. avoids rate limiting issues using pre-scraped data. Can use stat type (summary, passing, defense, possession) - contain core player/match info needed lineups.","code":""},{"path":"https://peteowen1.github.io/panna/reference/derive_lineups_from_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get match lineups from advanced stats (no scraping needed) — derive_lineups_from_stats","text":"","code":"derive_lineups_from_stats(stats_data)"},{"path":"https://peteowen1.github.io/panna/reference/derive_lineups_from_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get match lineups from advanced stats (no scraping needed) — derive_lineups_from_stats","text":"stats_data Stats data pannadata (already snake_case). Can stat type - passing/defense/possession better historical coverage.","code":""},{"path":"https://peteowen1.github.io/panna/reference/derive_lineups_from_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get match lineups from advanced stats (no scraping needed) — derive_lineups_from_stats","text":"Data frame match lineups derived stats","code":""},{"path":"https://peteowen1.github.io/panna/reference/download_remote_opta.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Opta data from GitHub Releases — download_remote_opta","title":"Download Opta data from GitHub Releases — download_remote_opta","text":"Downloads opta-parquet.tar.gz opta-latest release extracts temporary directory. Caches extracted path session.","code":""},{"path":"https://peteowen1.github.io/panna/reference/download_remote_opta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Opta data from GitHub Releases — download_remote_opta","text":"","code":"download_remote_opta(   repo = \"peteowen1/pannadata\",   tag = \"opta-latest\",   force = FALSE )"},{"path":"https://peteowen1.github.io/panna/reference/download_remote_opta.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Opta data from GitHub Releases — download_remote_opta","text":"repo GitHub repository \"owner/repo\" format tag Release tag (default: \"opta-latest\") force Force re-download even cached (default: FALSE)","code":""},{"path":"https://peteowen1.github.io/panna/reference/download_remote_opta.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Opta data from GitHub Releases — download_remote_opta","text":"Path extracted Opta data directory","code":""},{"path":"https://peteowen1.github.io/panna/reference/ensure_column.html","id":null,"dir":"Reference","previous_headings":"","what":"Ensure column exists with default — ensure_column","title":"Ensure column exists with default — ensure_column","text":"Creates column exist, optionally deriving another column.","code":""},{"path":"https://peteowen1.github.io/panna/reference/ensure_column.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ensure column exists with default — ensure_column","text":"","code":"ensure_column(   data,   col_name,   default = FALSE,   source_col = NULL,   pattern = NULL )"},{"path":"https://peteowen1.github.io/panna/reference/ensure_column.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ensure column exists with default — ensure_column","text":"data Data frame col_name Name column ensure default Default value function derive value source_col Optional source column pattern matching pattern Regex pattern match source column","code":""},{"path":"https://peteowen1.github.io/panna/reference/ensure_column.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ensure column exists with default — ensure_column","text":"Data frame column ensured","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_fbref_player_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract FBref player ID from href — extract_fbref_player_id","title":"Extract FBref player ID from href — extract_fbref_player_id","text":"Extracts 8-character hex ID FBref player URL. Example: \"/players/d080ed5e/Kylian-Mbappe\" -> \"d080ed5e\"","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_fbref_player_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract FBref player ID from href — extract_fbref_player_id","text":"","code":"extract_fbref_player_id(hrefs)"},{"path":"https://peteowen1.github.io/panna/reference/extract_fbref_player_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract FBref player ID from href — extract_fbref_player_id","text":"hrefs Character vector FBref player hrefs","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_fbref_player_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract FBref player ID from href — extract_fbref_player_id","text":"Character vector 8-char hex IDs (NA found)","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_fbref_player_id.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract FBref player ID from href — extract_fbref_player_id","text":"Note: function ready use player_href available scraped data. Currently player_href extracted scraping.","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_fbref_player_id.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract FBref player ID from href — extract_fbref_player_id","text":"","code":"extract_fbref_player_id(\"/players/d080ed5e/Kylian-Mbappe\") #> [1] \"d080ed5e\" # Returns \"d080ed5e\""},{"path":"https://peteowen1.github.io/panna/reference/extract_json_element.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract JSON data from Understat script — extract_json_element","title":"Extract JSON data from Understat script — extract_json_element","text":"Understat embeds data JSON script tags pattern: varName = JSON.parse('...')","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_json_element.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract JSON data from Understat script — extract_json_element","text":"","code":"extract_json_element(scripts, var_name)"},{"path":"https://peteowen1.github.io/panna/reference/extract_json_element.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract JSON data from Understat script — extract_json_element","text":"scripts Character vector script contents var_name Variable name extract (e.g., \"rostersData\", \"shotsData\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_json_element.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract JSON data from Understat script — extract_json_element","text":"Parsed JSON R list, NULL found","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_match_events.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract match events with timing — extract_match_events","title":"Extract match events with timing — extract_match_events","text":"Parses goals, substitutions, red cards event data minutes.","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_match_events.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract match events with timing — extract_match_events","text":"","code":"extract_match_events(events, match_id)"},{"path":"https://peteowen1.github.io/panna/reference/extract_match_events.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract match events with timing — extract_match_events","text":"events Processed events data frame single match match_id Match identifier filter ","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_match_events.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract match events with timing — extract_match_events","text":"Data frame events sorted minute","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_match_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract match metadata from FBref page — extract_match_metadata","title":"Extract match metadata from FBref page — extract_match_metadata","text":"Parses scorebox get teams, score, date, manager, captain, venue, attendance, officials, formations.","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_match_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract match metadata from FBref page — extract_match_metadata","text":"","code":"extract_match_metadata(page, match_url)"},{"path":"https://peteowen1.github.io/panna/reference/extract_match_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract match metadata from FBref page — extract_match_metadata","text":"page Parsed HTML document match_url Original match URL ID extraction","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_match_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract match metadata from FBref page — extract_match_metadata","text":"Data frame match metadata (single row)","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_od_rapm_coefficients.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract offensive/defensive RAPM coefficients — extract_od_rapm_coefficients","title":"Extract offensive/defensive RAPM coefficients — extract_od_rapm_coefficients","text":"Gets separate O-RAPM D-RAPM model fit O/D matrix.","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_od_rapm_coefficients.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract offensive/defensive RAPM coefficients — extract_od_rapm_coefficients","text":"","code":"extract_od_rapm_coefficients(model, lambda = \"min\")"},{"path":"https://peteowen1.github.io/panna/reference/extract_od_rapm_coefficients.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract offensive/defensive RAPM coefficients — extract_od_rapm_coefficients","text":"model Fitted RAPM model O/D separated matrix lambda lambda use","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_od_rapm_coefficients.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract offensive/defensive RAPM coefficients — extract_od_rapm_coefficients","text":"Data frame offensive defensive ratings","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_rapm_coefficients.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract RAPM coefficients — extract_rapm_coefficients","title":"Extract RAPM coefficients — extract_rapm_coefficients","text":"Gets player ratings fitted RAPM model.","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_rapm_coefficients.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract RAPM coefficients — extract_rapm_coefficients","text":"","code":"extract_rapm_coefficients(model, lambda = \"min\")"},{"path":"https://peteowen1.github.io/panna/reference/extract_rapm_coefficients.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract RAPM coefficients — extract_rapm_coefficients","text":"model Fitted RAPM model fit_rapm lambda lambda use (\"min\" \"1se\" numeric)","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_rapm_coefficients.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract RAPM coefficients — extract_rapm_coefficients","text":"Data frame player ratings","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_rapm_ratings.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract RAPM ratings from fitted model — extract_rapm_ratings","title":"Extract RAPM ratings from fitted model — extract_rapm_ratings","text":"Calculates player ratings offense_coef - defense_coef. Positive = good, negative = bad.","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_rapm_ratings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract RAPM ratings from fitted model — extract_rapm_ratings","text":"","code":"extract_rapm_ratings(model, lambda = \"min\")"},{"path":"https://peteowen1.github.io/panna/reference/extract_rapm_ratings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract RAPM ratings from fitted model — extract_rapm_ratings","text":"model Fitted RAPM model fit_rapm lambda lambda use (\"min\" \"1se\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_rapm_ratings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract RAPM ratings from fitted model — extract_rapm_ratings","text":"Data frame player ratings","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_season_end_year_from_match_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract season end year from match_id — extract_season_end_year_from_match_id","title":"Extract season end year from match_id — extract_season_end_year_from_match_id","text":"Extracts season end year numeric value match_id. Match IDs format \"2017-2018_20170915_TeamA_TeamB\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_season_end_year_from_match_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract season end year from match_id — extract_season_end_year_from_match_id","text":"","code":"extract_season_end_year_from_match_id(match_id)"},{"path":"https://peteowen1.github.io/panna/reference/extract_season_end_year_from_match_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract season end year from match_id — extract_season_end_year_from_match_id","text":"match_id Character vector match IDs","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_season_end_year_from_match_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract season end year from match_id — extract_season_end_year_from_match_id","text":"Numeric vector season end years (e.g., 2018)","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_season_end_year_from_match_id.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract season end year from match_id — extract_season_end_year_from_match_id","text":"","code":"extract_season_end_year_from_match_id(\"2017-2018_20170915_Bournemouth_Brighton\") #> [1] 2018 # Returns 2018"},{"path":"https://peteowen1.github.io/panna/reference/extract_season_from_match_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract season from match_id — extract_season_from_match_id","title":"Extract season from match_id — extract_season_from_match_id","text":"Extracts season string match_id. Match IDs format \"2017-2018_20170915_TeamA_TeamB\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_season_from_match_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract season from match_id — extract_season_from_match_id","text":"","code":"extract_season_from_match_id(match_id)"},{"path":"https://peteowen1.github.io/panna/reference/extract_season_from_match_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract season from match_id — extract_season_from_match_id","text":"match_id Character vector match IDs","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_season_from_match_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract season from match_id — extract_season_from_match_id","text":"Character vector season strings (e.g., \"2017-2018\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_season_from_match_id.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract season from match_id — extract_season_from_match_id","text":"","code":"extract_season_from_match_id(\"2017-2018_20170915_Bournemouth_Brighton\") #> [1] \"2017-2018\" # Returns \"2017-2018\""},{"path":"https://peteowen1.github.io/panna/reference/extract_season_from_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract season from FBref match URL — extract_season_from_url","title":"Extract season from FBref match URL — extract_season_from_url","text":"Extract season FBref match URL","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_season_from_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract season from FBref match URL — extract_season_from_url","text":"","code":"extract_season_from_url(urls)"},{"path":"https://peteowen1.github.io/panna/reference/extract_season_from_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract season from FBref match URL — extract_season_from_url","text":"urls Character vector match URLs","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_season_from_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract season from FBref match URL — extract_season_from_url","text":"Character vector seasons","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_season_range.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract season range from a data frame — extract_season_range","title":"Extract season range from a data frame — extract_season_range","text":"Extracts min/max season_end_year data frame. data pannadata column.","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_season_range.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract season range from a data frame — extract_season_range","text":"","code":"extract_season_range(data, data_name = \"data\")"},{"path":"https://peteowen1.github.io/panna/reference/extract_season_range.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract season range from a data frame — extract_season_range","text":"data Data frame extract season range data_name Name data reporting (unused, kept compatibility)","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_season_range.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract season range from a data frame — extract_season_range","text":"Named list min_season, max_season, n_seasons","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_spm_coefficients.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract SPM coefficients — extract_spm_coefficients","title":"Extract SPM coefficients — extract_spm_coefficients","text":"Gets feature weights fitted SPM model.","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_spm_coefficients.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract SPM coefficients — extract_spm_coefficients","text":"","code":"extract_spm_coefficients(model, lambda = \"min\")"},{"path":"https://peteowen1.github.io/panna/reference/extract_spm_coefficients.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract SPM coefficients — extract_spm_coefficients","text":"model Fitted SPM model fit_spm_model lambda lambda use (\"min\" \"1se\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_spm_coefficients.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract SPM coefficients — extract_spm_coefficients","text":"Named vector coefficients","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_sub_events.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract substitution times from lineups — extract_sub_events","title":"Extract substitution times from lineups — extract_sub_events","text":"Uses pre-calculated on_minute leading space detection player names. FBref encodes substitutes leading spaces - subs come player directly team.","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_sub_events.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract substitution times from lineups — extract_sub_events","text":"","code":"extract_sub_events(lineups)"},{"path":"https://peteowen1.github.io/panna/reference/extract_sub_events.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract substitution times from lineups — extract_sub_events","text":"lineups Lineups data on_minute column","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_sub_events.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract substitution times from lineups — extract_sub_events","text":"Numeric vector substitution minutes","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_events.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract timeline events from Understat match page — extract_understat_events","title":"Extract timeline events from Understat match page — extract_understat_events","text":"Parses HTML timeline extract goals, substitutions, cards. data available initial HTML (unlike roster/shots).","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_events.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract timeline events from Understat match page — extract_understat_events","text":"","code":"extract_understat_events(page, understat_id)"},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_events.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract timeline events from Understat match page — extract_understat_events","text":"page Parsed HTML document understat_id Understat match ID","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_events.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract timeline events from Understat match page — extract_understat_events","text":"Data frame events (goals, subs, cards), NULL found","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract match metadata from Understat page — extract_understat_metadata","title":"Extract match metadata from Understat page — extract_understat_metadata","text":"Parses match info including teams, scores, xG values. Note: Understat uses flat JSON structure match_info.","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract match metadata from Understat page — extract_understat_metadata","text":"","code":"extract_understat_metadata(page, understat_id)"},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract match metadata from Understat page — extract_understat_metadata","text":"page Parsed HTML document understat_id Understat match ID","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract match metadata from Understat page — extract_understat_metadata","text":"Data frame match metadata (single row)","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_roster.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract roster data from Understat API response — extract_understat_roster","title":"Extract roster data from Understat API response — extract_understat_roster","text":"Parses player statistics API rosters data.","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_roster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract roster data from Understat API response — extract_understat_roster","text":"","code":"extract_understat_roster(api_data, understat_id)"},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_roster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract roster data from Understat API response — extract_understat_roster","text":"api_data List returned fetch_understat_match_api understat_id Understat match ID","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_roster.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract roster data from Understat API response — extract_understat_roster","text":"Data frame player stats, NULL found","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_shots.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract shots data from Understat API response — extract_understat_shots","title":"Extract shots data from Understat API response — extract_understat_shots","text":"Parses shot-level xG data API shots data.","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_shots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract shots data from Understat API response — extract_understat_shots","text":"","code":"extract_understat_shots(api_data, understat_id)"},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_shots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract shots data from Understat API response — extract_understat_shots","text":"api_data List returned fetch_understat_match_api understat_id Understat match ID","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_understat_shots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract shots data from Understat API response — extract_understat_shots","text":"Data frame shot data, NULL found","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_xrapm_ratings.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract xRAPM ratings (with prior) — extract_xrapm_ratings","title":"Extract xRAPM ratings (with prior) — extract_xrapm_ratings","text":"Extracts player ratings model fit SPM prior. final coefficient gamma + prior, gamma deviation.","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_xrapm_ratings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract xRAPM ratings (with prior) — extract_xrapm_ratings","text":"","code":"extract_xrapm_ratings(model, lambda = \"min\")"},{"path":"https://peteowen1.github.io/panna/reference/extract_xrapm_ratings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract xRAPM ratings (with prior) — extract_xrapm_ratings","text":"model Fitted xRAPM model fit_rapm_with_prior lambda lambda use (\"min\" \"1se\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/extract_xrapm_ratings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract xRAPM ratings (with prior) — extract_xrapm_ratings","text":"Data frame player ratings including deviation prior","code":""},{"path":"https://peteowen1.github.io/panna/reference/fbref_competitions.html","id":null,"dir":"Reference","previous_headings":"","what":"FBref competition metadata — fbref_competitions","title":"FBref competition metadata — fbref_competitions","text":"data frame containing FBref competition IDs metadata supported competitions.","code":""},{"path":"https://peteowen1.github.io/panna/reference/fbref_competitions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"FBref competition metadata — fbref_competitions","text":"","code":"fbref_competitions"},{"path":"https://peteowen1.github.io/panna/reference/fbref_competitions.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"FBref competition metadata — fbref_competitions","text":"data frame columns: code Short code used file paths (e.g., \"ENG\", \"WC\") fbref_id FBref competition ID URL construction name Full competition name url_slug URL-friendly name FBref URLs (e.g., \"Premier-League\") type Competition type: \"league\", \"cup\", \"european\", \"national_team\" season_format seasons formatted: \"YYYY-YYYY\" \"YYYY\"","code":""},{"path":"https://peteowen1.github.io/panna/reference/fbref_competitions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"FBref competition metadata — fbref_competitions","text":"","code":"fbref_competitions #>               code fbref_id                       name              url_slug #> 1              ENG        9             Premier League        Premier-League #> 2              ESP       12                    La Liga               La-Liga #> 3              GER       20                 Bundesliga            Bundesliga #> 4              ITA       11                    Serie A               Serie-A #> 5              FRA       13                    Ligue 1               Ligue-1 #> 6              UCL        8      UEFA Champions League      Champions-League #> 7              UEL       19         UEFA Europa League         Europa-League #> 8           FA_CUP      514                     FA Cup                FA-Cup #> 9          EFL_CUP      690                    EFL Cup               EFL-Cup #> 10    COPA_DEL_REY      569               Copa del Rey          Copa-del-Rey #> 11       DFB_POKAL      521                  DFB-Pokal             DFB-Pokal #> 12    COPPA_ITALIA      529               Coppa Italia          Coppa-Italia #> 13 COUPE_DE_FRANCE      518            Coupe de France       Coupe-de-France #> 14              WC        1             FIFA World Cup             World-Cup #> 15            EURO      676 UEFA European Championship European-Championship #> 16    COPA_AMERICA      685               Copa America          Copa-America #> 17           AFCON      656      Africa Cup of Nations Africa-Cup-of-Nations #> 18  NATIONS_LEAGUE      677        UEFA Nations League        Nations-League #> 19        GOLD_CUP      681          CONCACAF Gold Cup              Gold-Cup #> 20       ASIAN_CUP      664              AFC Asian Cup             Asian-Cup #>             type season_format #> 1         league     YYYY-YYYY #> 2         league     YYYY-YYYY #> 3         league     YYYY-YYYY #> 4         league     YYYY-YYYY #> 5         league     YYYY-YYYY #> 6       european     YYYY-YYYY #> 7       european     YYYY-YYYY #> 8            cup     YYYY-YYYY #> 9            cup     YYYY-YYYY #> 10           cup     YYYY-YYYY #> 11           cup     YYYY-YYYY #> 12           cup     YYYY-YYYY #> 13           cup     YYYY-YYYY #> 14 national_team          YYYY #> 15 national_team          YYYY #> 16 national_team          YYYY #> 17 national_team          YYYY #> 18 national_team     YYYY-YYYY #> 19 national_team          YYYY #> 20 national_team          YYYY fbref_competitions[fbref_competitions$type == \"national_team\", ] #>              code fbref_id                       name              url_slug #> 14             WC        1             FIFA World Cup             World-Cup #> 15           EURO      676 UEFA European Championship European-Championship #> 16   COPA_AMERICA      685               Copa America          Copa-America #> 17          AFCON      656      Africa Cup of Nations Africa-Cup-of-Nations #> 18 NATIONS_LEAGUE      677        UEFA Nations League        Nations-League #> 19       GOLD_CUP      681          CONCACAF Gold Cup              Gold-Cup #> 20      ASIAN_CUP      664              AFC Asian Cup             Asian-Cup #>             type season_format #> 14 national_team          YYYY #> 15 national_team          YYYY #> 16 national_team          YYYY #> 17 national_team          YYYY #> 18 national_team     YYYY-YYYY #> 19 national_team          YYYY #> 20 national_team          YYYY get_fbref_comp_id(\"WC\") #> [1] 1"},{"path":"https://peteowen1.github.io/panna/reference/fbref_to_understat_season.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert FBref season to Understat season — fbref_to_understat_season","title":"Convert FBref season to Understat season — fbref_to_understat_season","text":"Converts FBref's YYYY-YYYY format Understat's YYYY format. Takes start year season.","code":""},{"path":"https://peteowen1.github.io/panna/reference/fbref_to_understat_season.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert FBref season to Understat season — fbref_to_understat_season","text":"","code":"fbref_to_understat_season(fbref_season)"},{"path":"https://peteowen1.github.io/panna/reference/fbref_to_understat_season.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert FBref season to Understat season — fbref_to_understat_season","text":"fbref_season Character, season FBref format (e.g., \"2023-2024\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/fbref_to_understat_season.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert FBref season to Understat season — fbref_to_understat_season","text":"Character, season Understat format (e.g., \"2023\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/fbref_to_understat_season.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert FBref season to Understat season — fbref_to_understat_season","text":"","code":"fbref_to_understat_season(\"2023-2024\")  # \"2023\" #> [1] \"2023\" fbref_to_understat_season(\"2024\")       # \"2024\" (already correct) #> [1] \"2024\""},{"path":"https://peteowen1.github.io/panna/reference/fetch_match_page.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch FBref match page HTML — fetch_match_page","title":"Fetch FBref match page HTML — fetch_match_page","text":"Makes HTTP request browser headers avoid Cloudflare blocking.","code":""},{"path":"https://peteowen1.github.io/panna/reference/fetch_match_page.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch FBref match page HTML — fetch_match_page","text":"","code":"fetch_match_page(match_url, timeout = 30)"},{"path":"https://peteowen1.github.io/panna/reference/fetch_match_page.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch FBref match page HTML — fetch_match_page","text":"match_url FBref match URL timeout Request timeout seconds (default 30)","code":""},{"path":"https://peteowen1.github.io/panna/reference/fetch_match_page.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch FBref match page HTML — fetch_match_page","text":"Parsed HTML document (rvest xml_document) NULL failure","code":""},{"path":"https://peteowen1.github.io/panna/reference/fetch_understat_match_api.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch match data from Understat API — fetch_understat_match_api","title":"Fetch match data from Understat API — fetch_understat_match_api","text":"Calls undocumented API endpoint returns full match data. endpoint provides rosters shots data main HTML.","code":""},{"path":"https://peteowen1.github.io/panna/reference/fetch_understat_match_api.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch match data from Understat API — fetch_understat_match_api","text":"","code":"fetch_understat_match_api(understat_id)"},{"path":"https://peteowen1.github.io/panna/reference/fetch_understat_match_api.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch match data from Understat API — fetch_understat_match_api","text":"understat_id Understat match ID","code":""},{"path":"https://peteowen1.github.io/panna/reference/fetch_understat_match_api.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch match data from Understat API — fetch_understat_match_api","text":"List rosters shots data, NULL failure","code":""},{"path":"https://peteowen1.github.io/panna/reference/fetch_understat_page.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch Understat page HTML — fetch_understat_page","title":"Fetch Understat page HTML — fetch_understat_page","text":"Makes HTTP request browser headers.","code":""},{"path":"https://peteowen1.github.io/panna/reference/fetch_understat_page.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch Understat page HTML — fetch_understat_page","text":"","code":"fetch_understat_page(url, timeout = 30)"},{"path":"https://peteowen1.github.io/panna/reference/fetch_understat_page.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch Understat page HTML — fetch_understat_page","text":"url Understat URL timeout Request timeout seconds (default 30)","code":""},{"path":"https://peteowen1.github.io/panna/reference/fetch_understat_page.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch Understat page HTML — fetch_understat_page","text":"Parsed HTML document (rvest xml_document) NULL failure","code":""},{"path":"https://peteowen1.github.io/panna/reference/filter_bad_xg_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect and filter bad xG data from splints — filter_bad_xg_data","title":"Detect and filter bad xG data from splints — filter_bad_xg_data","text":"Identifies league-seasons high rates missing/zero xG data filters . Reports filtered.","code":""},{"path":"https://peteowen1.github.io/panna/reference/filter_bad_xg_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect and filter bad xG data from splints — filter_bad_xg_data","text":"","code":"filter_bad_xg_data(splint_data, zero_xg_threshold = 20, verbose = TRUE)"},{"path":"https://peteowen1.github.io/panna/reference/filter_bad_xg_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect and filter bad xG data from splints — filter_bad_xg_data","text":"splint_data Splint data list create_all_splints zero_xg_threshold Percentage threshold flagging bad data (default 20%) verbose Whether print filtering report","code":""},{"path":"https://peteowen1.github.io/panna/reference/filter_bad_xg_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect and filter bad xG data from splints — filter_bad_xg_data","text":"List filtered splint_data filtering report","code":""},{"path":"https://peteowen1.github.io/panna/reference/filter_rapm_by_season.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter RAPM data to specific seasons — filter_rapm_by_season","title":"Filter RAPM data to specific seasons — filter_rapm_by_season","text":"Subsets RAPM data include splints specified seasons.","code":""},{"path":"https://peteowen1.github.io/panna/reference/filter_rapm_by_season.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter RAPM data to specific seasons — filter_rapm_by_season","text":"","code":"filter_rapm_by_season(rapm_data, seasons, match_info)"},{"path":"https://peteowen1.github.io/panna/reference/filter_rapm_by_season.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter RAPM data to specific seasons — filter_rapm_by_season","text":"rapm_data List prepare_rapm_data seasons Character vector seasons include match_info Match info data frame season column","code":""},{"path":"https://peteowen1.github.io/panna/reference/filter_rapm_by_season.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter RAPM data to specific seasons — filter_rapm_by_season","text":"Filtered rapm_data","code":""},{"path":"https://peteowen1.github.io/panna/reference/find_column.html","id":null,"dir":"Reference","previous_headings":"","what":"Find first matching column from candidates — find_column","title":"Find first matching column from candidates — find_column","text":"Returns first column name exists data frame.","code":""},{"path":"https://peteowen1.github.io/panna/reference/find_column.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find first matching column from candidates — find_column","text":"","code":"find_column(data, candidates)"},{"path":"https://peteowen1.github.io/panna/reference/find_column.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find first matching column from candidates — find_column","text":"data Data frame search candidates Character vector column names try (priority order)","code":""},{"path":"https://peteowen1.github.io/panna/reference/find_column.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find first matching column from candidates — find_column","text":"First matching column name, NULL none found","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_panna_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit end-to-end panna model — fit_panna_model","title":"Fit end-to-end panna model — fit_panna_model","text":"Complete pipeline splint data panna ratings.","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_panna_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit end-to-end panna model — fit_panna_model","text":"","code":"fit_panna_model(   splint_data,   player_features,   min_minutes = 180,   lambda_prior = 1,   validate = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/fit_panna_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit end-to-end panna model — fit_panna_model","text":"splint_data Combined splint data player_features Player feature matrix min_minutes Minimum minutes inclusion lambda_prior Regularization strength validate Whether run validation","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_panna_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit end-to-end panna model — fit_panna_model","text":"List panna model intermediate results","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_rapm.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit RAPM model — fit_rapm","title":"Fit RAPM model — fit_rapm","text":"Fits ridge regression design matrix : Target: xgf90 (xG per 90) gf90 (goals per 90) Player columns: playerX_off, playerX_def Covariates: gd, gf, ga, avg_min, is_home","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_rapm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit RAPM model — fit_rapm","text":"","code":"fit_rapm(   rapm_data,   alpha = 0,   nfolds = 10,   use_weights = TRUE,   standardize = FALSE,   penalize_covariates = FALSE,   parallel = TRUE,   n_cores = NULL )"},{"path":"https://peteowen1.github.io/panna/reference/fit_rapm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit RAPM model — fit_rapm","text":"rapm_data List prepare_rapm_data alpha Elastic net mixing parameter (0 = ridge, 1 = lasso) nfolds Number CV folds lambda selection use_weights Whether use splint duration weights standardize Whether standardize predictors penalize_covariates Whether penalize covariate coefficients parallel Whether use parallel processing CV folds n_cores Number cores (default: half available)","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_rapm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit RAPM model — fit_rapm","text":"Fitted model metadata","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_rapm.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit RAPM model — fit_rapm","text":"target type determined rapm_data (set prepare_rapm_data).","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_rapm_with_prior.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit RAPM with SPM prior (xRAPM) — fit_rapm_with_prior","title":"Fit RAPM with SPM prior (xRAPM) — fit_rapm_with_prior","text":"Fits RAPM model shrinking toward SPM predictions instead zero. helps separate players always appear together using box score statistics Bayesian prior.","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_rapm_with_prior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit RAPM with SPM prior (xRAPM) — fit_rapm_with_prior","text":"","code":"fit_rapm_with_prior(   rapm_data,   offense_prior,   defense_prior,   alpha = 0,   nfolds = 10,   use_weights = TRUE,   penalize_covariates = FALSE )"},{"path":"https://peteowen1.github.io/panna/reference/fit_rapm_with_prior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit RAPM with SPM prior (xRAPM) — fit_rapm_with_prior","text":"rapm_data List prepare_rapm_data offense_prior Named vector offensive SPM predictions (player_id) defense_prior Named vector defensive SPM predictions (player_id) alpha Elastic net mixing parameter (0 = ridge) nfolds Number CV folds use_weights Whether use splint duration weights penalize_covariates Whether penalize covariate coefficients","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_rapm_with_prior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit RAPM with SPM prior (xRAPM) — fit_rapm_with_prior","text":"Fitted model prior adjustment metadata","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_rapm_with_prior.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit RAPM with SPM prior (xRAPM) — fit_rapm_with_prior","text":"O/D design matrix: offense_prior: SPM-predicted offensive contribution defense_prior: SPM-predicted defensive contribution","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_spm_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit SPM model — fit_spm_model","title":"Fit SPM model — fit_spm_model","text":"Fits elastic net model predicting RAPM box score statistics. Weights observations minutes played (sqrt transform) default reduce influence noisy low-minute players whose RAPM per-90 stats unreliable.","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_spm_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit SPM model — fit_spm_model","text":"","code":"fit_spm_model(   data,   predictor_cols = NULL,   alpha = 0.5,   nfolds = 10,   weight_by_minutes = TRUE,   weight_transform = \"sqrt\" )"},{"path":"https://peteowen1.github.io/panna/reference/fit_spm_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit SPM model — fit_spm_model","text":"data Data frame prepare_spm_regression_data aggregate_player_stats joined RAPM ratings predictor_cols Character vector predictor column names alpha Elastic net mixing (0=ridge, 1=lasso, default 0.5) nfolds Number CV folds weight_by_minutes Whether weight observations total_minutes (default TRUE). Reduces influence noisy low-minute estimates model coefficients. weight_transform transform minutes weighting: \"sqrt\" (default) - square root minutes (moderate weighting) \"linear\" - raw minutes (strong weighting toward high-minute players) \"log\" - log minutes (gentle weighting) \"none\" - equal weights","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_spm_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit SPM model — fit_spm_model","text":"Fitted glmnet model metadata","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_spm_xgb.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit SPM model using XGBoost — fit_spm_xgb","title":"Fit SPM model using XGBoost — fit_spm_xgb","text":"Fits XGBoost model predicting RAPM box score statistics. Uses xgb.cv find optimal number boosting rounds via early stopping.","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_spm_xgb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit SPM model using XGBoost — fit_spm_xgb","text":"","code":"fit_spm_xgb(   data,   predictor_cols = NULL,   nfolds = 10,   max_depth = 4,   eta = 0.1,   subsample = 0.8,   colsample_bytree = 0.8,   nrounds = 500,   early_stopping_rounds = 20,   weight_by_minutes = TRUE,   weight_transform = \"sqrt\",   verbose = 1 )"},{"path":"https://peteowen1.github.io/panna/reference/fit_spm_xgb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit SPM model using XGBoost — fit_spm_xgb","text":"data Data frame prepare_spm_regression_data aggregate_player_stats joined RAPM ratings predictor_cols Character vector predictor column names nfolds Number CV folds (default 10) max_depth Maximum tree depth (default 4) eta Learning rate (default 0.1) subsample Row subsampling ratio (default 0.8) colsample_bytree Column subsampling ratio (default 0.8) nrounds Maximum boosting rounds (default 500, uses early stopping) early_stopping_rounds Stop improvement many rounds (default 20) weight_by_minutes Whether weight observations total_minutes (default TRUE) weight_transform transform minutes weighting: \"sqrt\", \"linear\", \"log\" verbose Print progress (0=silent, 1=performance, 2=details)","code":""},{"path":"https://peteowen1.github.io/panna/reference/fit_spm_xgb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit SPM model using XGBoost — fit_spm_xgb","text":"List xgb model, cv results, metadata","code":""},{"path":"https://peteowen1.github.io/panna/reference/generate_panna_report.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate prediction report — generate_panna_report","title":"Generate prediction report — generate_panna_report","text":"Creates formatted summary panna ratings.","code":""},{"path":"https://peteowen1.github.io/panna/reference/generate_panna_report.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate prediction report — generate_panna_report","text":"","code":"generate_panna_report(panna_model, top_n = 10)"},{"path":"https://peteowen1.github.io/panna/reference/generate_panna_report.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate prediction report — generate_panna_report","text":"panna_model Fitted panna model top_n Number top/bottom players show","code":""},{"path":"https://peteowen1.github.io/panna/reference/generate_panna_report.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate prediction report — generate_panna_report","text":"Character string report","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_big5_leagues.html","id":null,"dir":"Reference","previous_headings":"","what":"Big 5 European league configurations — get_big5_leagues","title":"Big 5 European league configurations — get_big5_leagues","text":"Big 5 European league configurations","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_big5_leagues.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Big 5 European league configurations — get_big5_leagues","text":"","code":"get_big5_leagues()"},{"path":"https://peteowen1.github.io/panna/reference/get_big5_leagues.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Big 5 European league configurations — get_big5_leagues","text":"Data frame league info","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cached_fbref_ids.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cached match IDs for a league-season (fast batch version) — get_cached_fbref_ids","title":"Get cached match IDs for a league-season (fast batch version) — get_cached_fbref_ids","text":"Returns fully-cached match IDs league-season. match considered cached : 9 table type files exist (fast path Big 5 leagues), metadata tables_available field tables exist","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cached_fbref_ids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cached match IDs for a league-season (fast batch version) — get_cached_fbref_ids","text":"","code":"get_cached_fbref_ids(league, season)"},{"path":"https://peteowen1.github.io/panna/reference/get_cached_fbref_ids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cached match IDs for a league-season (fast batch version) — get_cached_fbref_ids","text":"league League code season Season string","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cached_fbref_ids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cached match IDs for a league-season (fast batch version) — get_cached_fbref_ids","text":"Character vector cached fbref_ids","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cached_fbref_ids.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get cached match IDs for a league-season (fast batch version) — get_cached_fbref_ids","text":"Uses hierarchical path: {table_type}/{league}/{season}/{id}.rds","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cached_match_urls.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cached match URLs from metadata — get_cached_match_urls","title":"Get cached match URLs from metadata — get_cached_match_urls","text":"Reads cached metadata files league-season extracts match URLs. Useful re-scraping updating cached matches.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cached_match_urls.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cached match URLs from metadata — get_cached_match_urls","text":"","code":"get_cached_match_urls(league, season)"},{"path":"https://peteowen1.github.io/panna/reference/get_cached_match_urls.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cached match URLs from metadata — get_cached_match_urls","text":"league League code (e.g., \"ENG\", \"ESP\") season Season string (e.g., \"2023-2024\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cached_match_urls.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cached match URLs from metadata — get_cached_match_urls","text":"Character vector match URLs","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cached_match_urls.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get cached match URLs from metadata — get_cached_match_urls","text":"","code":"if (FALSE) { # \\dontrun{ urls <- get_cached_match_urls(\"ENG\", \"2023-2024\") length(urls)  # Number of cached matches } # }"},{"path":"https://peteowen1.github.io/panna/reference/get_cached_match_urls_legacy.html","id":null,"dir":"Reference","previous_headings":"","what":"Get already-scraped match URLs from legacy cache — get_cached_match_urls_legacy","title":"Get already-scraped match URLs from legacy cache — get_cached_match_urls_legacy","text":"Get already-scraped match URLs legacy cache","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cached_match_urls_legacy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get already-scraped match URLs from legacy cache — get_cached_match_urls_legacy","text":"","code":"get_cached_match_urls_legacy(data_type)"},{"path":"https://peteowen1.github.io/panna/reference/get_cached_match_urls_legacy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get already-scraped match URLs from legacy cache — get_cached_match_urls_legacy","text":"data_type Type data check","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cached_match_urls_legacy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get already-scraped match URLs from legacy cache — get_cached_match_urls_legacy","text":"Character vector match URLs already cache","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cached_understat_ids.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cached Understat match IDs — get_cached_understat_ids","title":"Get cached Understat match IDs — get_cached_understat_ids","text":"Get cached Understat match IDs","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cached_understat_ids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cached Understat match IDs — get_cached_understat_ids","text":"","code":"get_cached_understat_ids(league, season)"},{"path":"https://peteowen1.github.io/panna/reference/get_cached_understat_ids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cached Understat match IDs — get_cached_understat_ids","text":"league League code season Season string","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cached_understat_ids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cached Understat match IDs — get_cached_understat_ids","text":"Character vector cached understat_ids","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache directory path — get_cache_dir","title":"Get cache directory path — get_cache_dir","text":"Get cache directory path","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache directory path — get_cache_dir","text":"","code":"get_cache_dir(create = TRUE)"},{"path":"https://peteowen1.github.io/panna/reference/get_cache_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cache directory path — get_cache_dir","text":"create Logical, whether create exist","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache directory path — get_cache_dir","text":"Path cache directory","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_covariate_effects.html","id":null,"dir":"Reference","previous_headings":"","what":"Get covariate effects from fitted model — get_covariate_effects","title":"Get covariate effects from fitted model — get_covariate_effects","text":"Extracts coefficients game state covariates.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_covariate_effects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get covariate effects from fitted model — get_covariate_effects","text":"","code":"get_covariate_effects(model, lambda = \"min\")"},{"path":"https://peteowen1.github.io/panna/reference/get_covariate_effects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get covariate effects from fitted model — get_covariate_effects","text":"model Fitted RAPM model fit_rapm lambda lambda use","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_covariate_effects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get covariate effects from fitted model — get_covariate_effects","text":"Named vector covariate coefficients","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_comp_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Get FBref competition ID — get_fbref_comp_id","title":"Get FBref competition ID — get_fbref_comp_id","text":"Looks FBref competition ID given league code.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_comp_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get FBref competition ID — get_fbref_comp_id","text":"","code":"get_fbref_comp_id(code)"},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_comp_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get FBref competition ID — get_fbref_comp_id","text":"code Character, league code (e.g., \"ENG\", \"WC\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_comp_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get FBref competition ID — get_fbref_comp_id","text":"Integer, FBref competition ID","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_comp_id.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get FBref competition ID — get_fbref_comp_id","text":"","code":"get_fbref_comp_id(\"ENG\")  # 9 #> [1] 9 get_fbref_comp_id(\"WC\")   # 1 #> [1] 1"},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_headers.html","id":null,"dir":"Reference","previous_headings":"","what":"Get browser headers for FBref requests — get_fbref_headers","title":"Get browser headers for FBref requests — get_fbref_headers","text":"Returns headers mimic real browser avoid Cloudflare blocking. Rotates different User-Agent strings safety.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_headers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get browser headers for FBref requests — get_fbref_headers","text":"","code":"get_fbref_headers(referer = \"https://fbref.com/en/comps/\")"},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_headers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get browser headers for FBref requests — get_fbref_headers","text":"referer Optional referer URL (default: FBref competitions page)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_headers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get browser headers for FBref requests — get_fbref_headers","text":"Named character vector HTTP headers","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_match_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get FBref match cache directory — get_fbref_match_cache_dir","title":"Get FBref match cache directory — get_fbref_match_cache_dir","text":"Returns path using hierarchical structure: {pannadata_dir}/{table_type}/{league}/{season}/","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_match_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get FBref match cache directory — get_fbref_match_cache_dir","text":"","code":"get_fbref_match_cache_dir(   table_type = NULL,   league = NULL,   season = NULL,   create = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_match_cache_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get FBref match cache directory — get_fbref_match_cache_dir","text":"table_type Optional table type subdirectory league Optional league subdirectory (new hierarchical structure) season Optional season subdirectory (new hierarchical structure) create Whether create directory missing (default TRUE)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_match_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get FBref match cache directory — get_fbref_match_cache_dir","text":"Path cache directory","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_schedule_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Get FBref schedule URL — get_fbref_schedule_url","title":"Get FBref schedule URL — get_fbref_schedule_url","text":"Constructs FBref fixtures/schedule URL competition season.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_schedule_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get FBref schedule URL — get_fbref_schedule_url","text":"","code":"get_fbref_schedule_url(code, season)"},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_schedule_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get FBref schedule URL — get_fbref_schedule_url","text":"code Character, league code (e.g., \"ENG\", \"WC\") season Character, season (e.g., \"2023-2024\" \"2024\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_schedule_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get FBref schedule URL — get_fbref_schedule_url","text":"Character, full FBref schedule URL","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_schedule_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get FBref schedule URL — get_fbref_schedule_url","text":"","code":"get_fbref_schedule_url(\"ENG\", \"2023-2024\") #> [1] \"https://fbref.com/en/comps/9/2023-2024/schedule/2023-2024-Premier-League-Scores-and-Fixtures\" get_fbref_schedule_url(\"WC\", \"2022\") #> [1] \"https://fbref.com/en/comps/1/2022/schedule/2022-World-Cup-Scores-and-Fixtures\""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_session.html","id":null,"dir":"Reference","previous_headings":"","what":"Get or create FBref session — get_fbref_session","title":"Get or create FBref session — get_fbref_session","text":"Returns persistent httr session handle maintains cookies across requests, like real browser session.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_session.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get or create FBref session — get_fbref_session","text":"","code":"get_fbref_session(reset = FALSE)"},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_session.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get or create FBref session — get_fbref_session","text":"reset TRUE, creates new session (default FALSE)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_fbref_session.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get or create FBref session — get_fbref_session","text":"httr handle object","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_first_half_stoppage.html","id":null,"dir":"Reference","previous_headings":"","what":"Get first-half stoppage time from events — get_first_half_stoppage","title":"Get first-half stoppage time from events — get_first_half_stoppage","text":"Finds maximum added_time events minute 45.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_first_half_stoppage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get first-half stoppage time from events — get_first_half_stoppage","text":"","code":"get_first_half_stoppage(events)"},{"path":"https://peteowen1.github.io/panna/reference/get_first_half_stoppage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get first-half stoppage time from events — get_first_half_stoppage","text":"events Data frame minute optionally added_time columns","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_first_half_stoppage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get first-half stoppage time from events — get_first_half_stoppage","text":"Integer, first-half stoppage minutes (0 none)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_first_half_stoppage_from_shots.html","id":null,"dir":"Reference","previous_headings":"","what":"Get first-half stoppage from shots data — get_first_half_stoppage_from_shots","title":"Get first-half stoppage from shots data — get_first_half_stoppage_from_shots","text":"Parses shot minute strings find max added_time minute 45.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_first_half_stoppage_from_shots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get first-half stoppage from shots data — get_first_half_stoppage_from_shots","text":"","code":"get_first_half_stoppage_from_shots(shots)"},{"path":"https://peteowen1.github.io/panna/reference/get_first_half_stoppage_from_shots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get first-half stoppage from shots data — get_first_half_stoppage_from_shots","text":"shots Data frame minute column (character, e.g., \"45+3\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_first_half_stoppage_from_shots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get first-half stoppage from shots data — get_first_half_stoppage_from_shots","text":"Integer, first-half stoppage minutes (0 none)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_latest_release.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Release Info — get_latest_release","title":"Get Release Info — get_latest_release","text":"Fetches information GitHub release pannadata.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_latest_release.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Release Info — get_latest_release","text":"","code":"get_latest_release(repo = \"peteowen1/pannadata\", tag = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/get_latest_release.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Release Info — get_latest_release","text":"repo GitHub repository \"owner/repo\" format. tag Release tag fetch. Use \"fbref-latest\", \"understat-latest\", \"opta-latest\", NULL recent release.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_latest_release.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Release Info — get_latest_release","text":"List release information (tag_name, assets, etc.).","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_latest_release.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Release Info — get_latest_release","text":"","code":"if (FALSE) { # \\dontrun{ # Get FBref release release <- get_latest_release(tag = \"fbref-latest\") print(release$tag_name)  # Get most recent release release <- get_latest_release() } # }"},{"path":"https://peteowen1.github.io/panna/reference/get_match_end_from_shots.html","id":null,"dir":"Reference","previous_headings":"","what":"Get match end from shots data — get_match_end_from_shots","title":"Get match end from shots data — get_match_end_from_shots","text":"Uses last shot determine match end time.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_match_end_from_shots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get match end from shots data — get_match_end_from_shots","text":"","code":"get_match_end_from_shots(shots, first_half_stoppage = 0L)"},{"path":"https://peteowen1.github.io/panna/reference/get_match_end_from_shots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get match end from shots data — get_match_end_from_shots","text":"shots Data frame minute column (character, e.g., \"90+4\") first_half_stoppage First half stoppage offset second half","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_match_end_from_shots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get match end from shots data — get_match_end_from_shots","text":"Numeric match end minute (effective time)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_opta_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Opta Column Names — get_opta_columns","title":"Get Opta Column Names — get_opta_columns","text":"Returns column names available Opta data without loading full dataset.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_opta_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Opta Column Names — get_opta_columns","text":"","code":"get_opta_columns(table_type = c(\"player_stats\", \"shots\"))"},{"path":"https://peteowen1.github.io/panna/reference/get_opta_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Opta Column Names — get_opta_columns","text":"table_type \"player_stats\" \"shots\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_opta_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Opta Column Names — get_opta_columns","text":"Character vector column names.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_opta_columns.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Opta Column Names — get_opta_columns","text":"","code":"if (FALSE) { # \\dontrun{ # See all player stats columns get_opta_columns(\"player_stats\")  # See shot columns get_opta_columns(\"shots\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/get_panna_ratings.html","id":null,"dir":"Reference","previous_headings":"","what":"Get panna ratings from fitted model — get_panna_ratings","title":"Get panna ratings from fitted model — get_panna_ratings","text":"Gets final panna ratings fitted panna model.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_panna_ratings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get panna ratings from fitted model — get_panna_ratings","text":"","code":"get_panna_ratings(panna_model)"},{"path":"https://peteowen1.github.io/panna/reference/get_panna_ratings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get panna ratings from fitted model — get_panna_ratings","text":"panna_model Fitted panna model fit_panna_model","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_panna_ratings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get panna ratings from fitted model — get_panna_ratings","text":"Data frame player panna ratings","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_parquet_fbref_ids.html","id":null,"dir":"Reference","previous_headings":"","what":"Get match IDs from parquet file — get_parquet_fbref_ids","title":"Get match IDs from parquet file — get_parquet_fbref_ids","text":"Reads parquet file extracts unique match IDs. Results cached memory session avoid repeated file reads.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_parquet_fbref_ids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get match IDs from parquet file — get_parquet_fbref_ids","text":"","code":"get_parquet_fbref_ids(table_type, league, season)"},{"path":"https://peteowen1.github.io/panna/reference/get_parquet_fbref_ids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get match IDs from parquet file — get_parquet_fbref_ids","text":"table_type Table type (e.g., \"metadata\") league League code season Season string","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_parquet_fbref_ids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get match IDs from parquet file — get_parquet_fbref_ids","text":"Character vector match IDs, NULL parquet","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_parquet_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get parquet file path for a league-season — get_parquet_path","title":"Get parquet file path for a league-season — get_parquet_path","text":"Returns path parquet files stored: {pannadata_dir}/{table_type}/{league}/{season}.parquet","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_parquet_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get parquet file path for a league-season — get_parquet_path","text":"","code":"get_parquet_path(table_type, league, season, create = FALSE)"},{"path":"https://peteowen1.github.io/panna/reference/get_parquet_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get parquet file path for a league-season — get_parquet_path","text":"table_type Table type (e.g., \"summary\", \"events\") league League code (e.g., \"ENG\") season Season string (e.g., \"2024-2025\") create TRUE, create parent directory missing","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_parquet_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get parquet file path for a league-season — get_parquet_path","text":"Path parquet file","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_remote_parquet_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Get remote parquet cache directory — get_remote_parquet_cache","title":"Get remote parquet cache directory — get_remote_parquet_cache","text":"Downloads extracts parquet zip GitHub releases temp directory. Cached R session - subsequent calls return cached path.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_remote_parquet_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get remote parquet cache directory — get_remote_parquet_cache","text":"","code":"get_remote_parquet_cache(   repo = \"peteowen1/pannadata\",   tag = \"latest\",   force = FALSE )"},{"path":"https://peteowen1.github.io/panna/reference/get_remote_parquet_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get remote parquet cache directory — get_remote_parquet_cache","text":"repo GitHub repo (default: \"peteowen1/pannadata\") tag Release tag (default: \"latest\") force Re-download even cached","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_remote_parquet_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get remote parquet cache directory — get_remote_parquet_cache","text":"Path extracted parquet directory","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_remote_tables.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Available Remote Tables — get_remote_tables","title":"Get Available Remote Tables — get_remote_tables","text":"Returns list parquet files available GitHub release. Useful discovering data available remote queries.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_remote_tables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Available Remote Tables — get_remote_tables","text":"","code":"get_remote_tables()"},{"path":"https://peteowen1.github.io/panna/reference/get_remote_tables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Available Remote Tables — get_remote_tables","text":"Character vector table names (without .parquet extension).","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_remote_tables.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Available Remote Tables — get_remote_tables","text":"","code":"if (FALSE) { # \\dontrun{ # See what tables are available remotely tables <- get_remote_tables() print(tables) } # }"},{"path":"https://peteowen1.github.io/panna/reference/get_seasons_since.html","id":null,"dir":"Reference","previous_headings":"","what":"Get all seasons since a start year — get_seasons_since","title":"Get all seasons since a start year — get_seasons_since","text":"Returns vector season strings start_year current season.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_seasons_since.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get all seasons since a start year — get_seasons_since","text":"","code":"get_seasons_since(start_year = 2017)"},{"path":"https://peteowen1.github.io/panna/reference/get_seasons_since.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get all seasons since a start year — get_seasons_since","text":"start_year First season start year (default 2017)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_seasons_since.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get all seasons since a start year — get_seasons_since","text":"Character vector season strings (e.g., \"2017-2018\", \"2018-2019\", ...)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_seasons_since.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get all seasons since a start year — get_seasons_since","text":"","code":"get_seasons_since(2020) #> [1] \"2020-2021\" \"2021-2022\" \"2022-2023\" \"2023-2024\" \"2024-2025\" \"2025-2026\" get_seasons_since()  # From 2017 #> [1] \"2017-2018\" \"2018-2019\" \"2019-2020\" \"2020-2021\" \"2021-2022\" \"2022-2023\" #> [7] \"2023-2024\" \"2024-2025\" \"2025-2026\""},{"path":"https://peteowen1.github.io/panna/reference/get_source_archive_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Get archive filename for data source — get_source_archive_name","title":"Get archive filename for data source — get_source_archive_name","text":"Maps source type tar.gz archive filename.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_source_archive_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get archive filename for data source — get_source_archive_name","text":"","code":"get_source_archive_name(source_type)"},{"path":"https://peteowen1.github.io/panna/reference/get_source_archive_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get archive filename for data source — get_source_archive_name","text":"source_type One \"fbref\", \"understat\", \"opta\", \"\"","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_source_archive_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get archive filename for data source — get_source_archive_name","text":"Character archive filename (tar.gz)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_source_pattern.html","id":null,"dir":"Reference","previous_headings":"","what":"Get parquet file pattern for data source — get_source_pattern","title":"Get parquet file pattern for data source — get_source_pattern","text":"Returns regex pattern match parquet files source.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_source_pattern.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get parquet file pattern for data source — get_source_pattern","text":"","code":"get_source_pattern(source_type)"},{"path":"https://peteowen1.github.io/panna/reference/get_source_pattern.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get parquet file pattern for data source — get_source_pattern","text":"source_type One \"fbref\", \"understat\", \"\"","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_source_pattern.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get parquet file pattern for data source — get_source_pattern","text":"Character regex pattern","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_source_tag.html","id":null,"dir":"Reference","previous_headings":"","what":"Get release tag for data source — get_source_tag","title":"Get release tag for data source — get_source_tag","text":"Maps source type GitHub release tag name.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_source_tag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get release tag for data source — get_source_tag","text":"","code":"get_source_tag(source_type)"},{"path":"https://peteowen1.github.io/panna/reference/get_source_tag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get release tag for data source — get_source_tag","text":"source_type One \"fbref\", \"understat\", \"opta\", \"\"","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_source_tag.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get release tag for data source — get_source_tag","text":"Character release tag name","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_splint_players.html","id":null,"dir":"Reference","previous_headings":"","what":"Get players on pitch for a splint — get_splint_players","title":"Get players on pitch for a splint — get_splint_players","text":"Returns player IDs home away teams splint.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_splint_players.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get players on pitch for a splint — get_splint_players","text":"","code":"get_splint_players(splint_data, splint_id)"},{"path":"https://peteowen1.github.io/panna/reference/get_splint_players.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get players on pitch for a splint — get_splint_players","text":"splint_data Combined splint data create_all_splints splint_id Splint identifier","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_splint_players.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get players on pitch for a splint — get_splint_players","text":"List home_players away_players character vectors","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_spm_feature_importance.html","id":null,"dir":"Reference","previous_headings":"","what":"Get top SPM feature importance — get_spm_feature_importance","title":"Get top SPM feature importance — get_spm_feature_importance","text":"Identifies important features SPM model.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_spm_feature_importance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get top SPM feature importance — get_spm_feature_importance","text":"","code":"get_spm_feature_importance(model, n = 10, lambda = \"min\")"},{"path":"https://peteowen1.github.io/panna/reference/get_spm_feature_importance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get top SPM feature importance — get_spm_feature_importance","text":"model Fitted SPM model n Number top features return lambda lambda use","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_spm_feature_importance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get top SPM feature importance — get_spm_feature_importance","text":"Data frame top features absolute coefficient","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_stat_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Get column names for stat type — get_stat_columns","title":"Get column names for stat type — get_stat_columns","text":"Returns expected column names pannadata/FBref data.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_stat_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get column names for stat type — get_stat_columns","text":"","code":"get_stat_columns(stat_type)"},{"path":"https://peteowen1.github.io/panna/reference/get_stat_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get column names for stat type — get_stat_columns","text":"stat_type Type statistics","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_stat_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get column names for stat type — get_stat_columns","text":"Character vector column names","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_top_defensive.html","id":null,"dir":"Reference","previous_headings":"","what":"Get top defensive players — get_top_defensive","title":"Get top defensive players — get_top_defensive","text":"Returns players highest defensive contribution.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_top_defensive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get top defensive players — get_top_defensive","text":"","code":"get_top_defensive(ratings, n = 10)"},{"path":"https://peteowen1.github.io/panna/reference/get_top_defensive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get top defensive players — get_top_defensive","text":"ratings O/D ratings data frame n Number players","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_top_defensive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get top defensive players — get_top_defensive","text":"Data frame top defensive players","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_top_offensive.html","id":null,"dir":"Reference","previous_headings":"","what":"Get top offensive players — get_top_offensive","title":"Get top offensive players — get_top_offensive","text":"Returns players highest offensive contribution.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_top_offensive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get top offensive players — get_top_offensive","text":"","code":"get_top_offensive(ratings, n = 10)"},{"path":"https://peteowen1.github.io/panna/reference/get_top_offensive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get top offensive players — get_top_offensive","text":"ratings O/D ratings data frame n Number players","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_top_offensive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get top offensive players — get_top_offensive","text":"Data frame top offensive players","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_tournament_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get tournament years with available data — get_tournament_years","title":"Get tournament years with available data — get_tournament_years","text":"Returns years tournaments held (FBref data available).","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_tournament_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get tournament years with available data — get_tournament_years","text":"","code":"get_tournament_years(code)"},{"path":"https://peteowen1.github.io/panna/reference/get_tournament_years.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get tournament years with available data — get_tournament_years","text":"code Tournament code (e.g., \"WC\", \"EURO\", \"COPA_AMERICA\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_tournament_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get tournament years with available data — get_tournament_years","text":"Character vector years","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_tournament_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get tournament years with available data — get_tournament_years","text":"","code":"get_tournament_years(\"WC\") #> [1] \"2018\" \"2022\" \"2026\" get_tournament_years(\"EURO\") #> [1] \"2020\" \"2024\""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_headers.html","id":null,"dir":"Reference","previous_headings":"","what":"Get browser headers for Understat requests — get_understat_headers","title":"Get browser headers for Understat requests — get_understat_headers","text":"Returns headers mimic real browser.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_headers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get browser headers for Understat requests — get_understat_headers","text":"","code":"get_understat_headers(referer = \"https://understat.com/\")"},{"path":"https://peteowen1.github.io/panna/reference/get_understat_headers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get browser headers for Understat requests — get_understat_headers","text":"referer Optional referer URL (default: Understat home)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_headers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get browser headers for Understat requests — get_understat_headers","text":"Named character vector HTTP headers","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_league_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Understat league URL — get_understat_league_url","title":"Get Understat league URL — get_understat_league_url","text":"Constructs Understat league page URL competition season.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_league_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Understat league URL — get_understat_league_url","text":"","code":"get_understat_league_url(code, season)"},{"path":"https://peteowen1.github.io/panna/reference/get_understat_league_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Understat league URL — get_understat_league_url","text":"code Character, league code (e.g., \"ENG\", \"RUS\") season Character numeric, season year (e.g., \"2024\" 2024)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_league_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Understat league URL — get_understat_league_url","text":"Character, full Understat league URL","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_league_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Understat league URL — get_understat_league_url","text":"","code":"get_understat_league_url(\"ENG\", 2024) #> [1] \"https://understat.com/league/EPL/2024\" get_understat_league_url(\"ESP\", \"2023\") #> [1] \"https://understat.com/league/La_liga/2023\""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_match_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Understat match URL — get_understat_match_url","title":"Get Understat match URL — get_understat_match_url","text":"Constructs Understat match page URL given match ID.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_match_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Understat match URL — get_understat_match_url","text":"","code":"get_understat_match_url(understat_id)"},{"path":"https://peteowen1.github.io/panna/reference/get_understat_match_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Understat match URL — get_understat_match_url","text":"understat_id Numeric character, Understat match ID","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_match_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Understat match URL — get_understat_match_url","text":"Character, full Understat match URL","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_match_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Understat match URL — get_understat_match_url","text":"","code":"get_understat_match_url(28988) #> [1] \"https://understat.com/match/28988\""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_parquet_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Understat parquet file path — get_understat_parquet_path","title":"Get Understat parquet file path — get_understat_parquet_path","text":"Returns path using hierarchical structure: {pannadata_dir}/understat/{table_type}/{league}/{season}.parquet","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_parquet_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Understat parquet file path — get_understat_parquet_path","text":"","code":"get_understat_parquet_path(table_type, league, season, create = TRUE)"},{"path":"https://peteowen1.github.io/panna/reference/get_understat_parquet_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Understat parquet file path — get_understat_parquet_path","text":"table_type Table type (metadata, roster, shots, events) league League code season Season string create Whether create parent directory missing (default TRUE)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_parquet_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Understat parquet file path — get_understat_parquet_path","text":"Path parquet file","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_scripts.html","id":null,"dir":"Reference","previous_headings":"","what":"Get all script tags from Understat page — get_understat_scripts","title":"Get all script tags from Understat page — get_understat_scripts","text":"Extracts text content script tags.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_scripts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get all script tags from Understat page — get_understat_scripts","text":"","code":"get_understat_scripts(page)"},{"path":"https://peteowen1.github.io/panna/reference/get_understat_scripts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get all script tags from Understat page — get_understat_scripts","text":"page Parsed HTML document","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_scripts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get all script tags from Understat page — get_understat_scripts","text":"Character vector script contents","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_seasons.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available Understat seasons — get_understat_seasons","title":"Get available Understat seasons — get_understat_seasons","text":"Returns vector available seasons Understat data. Understat data 2014 onwards.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_seasons.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available Understat seasons — get_understat_seasons","text":"","code":"get_understat_seasons(start_year = 2014)"},{"path":"https://peteowen1.github.io/panna/reference/get_understat_seasons.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get available Understat seasons — get_understat_seasons","text":"start_year First season year (default 2014)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_seasons.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available Understat seasons — get_understat_seasons","text":"Character vector season years","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_seasons.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available Understat seasons — get_understat_seasons","text":"","code":"get_understat_seasons() #>  [1] \"2014\" \"2015\" \"2016\" \"2017\" \"2018\" \"2019\" \"2020\" \"2021\" \"2022\" \"2023\" #> [11] \"2024\" \"2025\" get_understat_seasons(2020) #> [1] \"2020\" \"2021\" \"2022\" \"2023\" \"2024\" \"2025\""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_session.html","id":null,"dir":"Reference","previous_headings":"","what":"Get or create Understat session — get_understat_session","title":"Get or create Understat session — get_understat_session","text":"Returns persistent httr session handle maintains cookies.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_session.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get or create Understat session — get_understat_session","text":"","code":"get_understat_session(reset = FALSE)"},{"path":"https://peteowen1.github.io/panna/reference/get_understat_session.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get or create Understat session — get_understat_session","text":"reset TRUE, creates new session (default FALSE)","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_session.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get or create Understat session — get_understat_session","text":"httr handle object","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_slug.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Understat URL slug — get_understat_slug","title":"Get Understat URL slug — get_understat_slug","text":"Looks Understat URL slug given league code.","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_slug.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Understat URL slug — get_understat_slug","text":"","code":"get_understat_slug(code)"},{"path":"https://peteowen1.github.io/panna/reference/get_understat_slug.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Understat URL slug — get_understat_slug","text":"code Character, league code (e.g., \"ENG\", \"RUS\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_slug.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Understat URL slug — get_understat_slug","text":"Character, Understat URL slug","code":""},{"path":"https://peteowen1.github.io/panna/reference/get_understat_slug.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Understat URL slug — get_understat_slug","text":"","code":"get_understat_slug(\"ENG\")  # \"EPL\" #> [1] \"EPL\" get_understat_slug(\"RUS\")  # \"RFPL\" #> [1] \"RFPL\""},{"path":"https://peteowen1.github.io/panna/reference/is_match_cached.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if match is cached — is_match_cached","title":"Check if match is cached — is_match_cached","text":"Checks match fully scraped. First checks RDS files, falls back checking parquet files (CI/CD environments parquet available).","code":""},{"path":"https://peteowen1.github.io/panna/reference/is_match_cached.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if match is cached — is_match_cached","text":"","code":"is_match_cached(league, season, fbref_id, table_types = \"metadata\")"},{"path":"https://peteowen1.github.io/panna/reference/is_match_cached.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if match is cached — is_match_cached","text":"league League code season Season string fbref_id FBref match ID table_types Character vector table types (unused, kept compatibility)","code":""},{"path":"https://peteowen1.github.io/panna/reference/is_match_cached.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if match is cached — is_match_cached","text":"Logical - TRUE match fully scraped","code":""},{"path":"https://peteowen1.github.io/panna/reference/is_tournament_competition.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if competition uses tournament (year-only) format — is_tournament_competition","title":"Check if competition uses tournament (year-only) format — is_tournament_competition","text":"Check competition uses tournament (year-) format","code":""},{"path":"https://peteowen1.github.io/panna/reference/is_tournament_competition.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if competition uses tournament (year-only) format — is_tournament_competition","text":"","code":"is_tournament_competition(code)"},{"path":"https://peteowen1.github.io/panna/reference/is_tournament_competition.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if competition uses tournament (year-only) format — is_tournament_competition","text":"code Character, competition code","code":""},{"path":"https://peteowen1.github.io/panna/reference/is_tournament_competition.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if competition uses tournament (year-only) format — is_tournament_competition","text":"Logical, TRUE competition uses year-seasons","code":""},{"path":"https://peteowen1.github.io/panna/reference/is_tournament_competition.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check if competition uses tournament (year-only) format — is_tournament_competition","text":"","code":"is_tournament_competition(\"WC\")    # TRUE #> [1] TRUE is_tournament_competition(\"ENG\")   # FALSE #> [1] FALSE"},{"path":"https://peteowen1.github.io/panna/reference/is_understat_cached.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if Understat match is cached — is_understat_cached","title":"Check if Understat match is cached — is_understat_cached","text":"Check Understat match cached","code":""},{"path":"https://peteowen1.github.io/panna/reference/is_understat_cached.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if Understat match is cached — is_understat_cached","text":"","code":"is_understat_cached(league, season, understat_id)"},{"path":"https://peteowen1.github.io/panna/reference/is_understat_cached.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if Understat match is cached — is_understat_cached","text":"league League code season Season string understat_id Understat match ID","code":""},{"path":"https://peteowen1.github.io/panna/reference/is_understat_cached.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if Understat match is cached — is_understat_cached","text":"Logical - TRUE match scraped","code":""},{"path":"https://peteowen1.github.io/panna/reference/is_understat_league.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if league is available on Understat — is_understat_league","title":"Check if league is available on Understat — is_understat_league","text":"Check league available Understat","code":""},{"path":"https://peteowen1.github.io/panna/reference/is_understat_league.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if league is available on Understat — is_understat_league","text":"","code":"is_understat_league(code)"},{"path":"https://peteowen1.github.io/panna/reference/is_understat_league.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if league is available on Understat — is_understat_league","text":"code Character, league code","code":""},{"path":"https://peteowen1.github.io/panna/reference/is_understat_league.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if league is available on Understat — is_understat_league","text":"Logical, TRUE league available Understat","code":""},{"path":"https://peteowen1.github.io/panna/reference/is_understat_league.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check if league is available on Understat — is_understat_league","text":"","code":"is_understat_league(\"ENG\")  # TRUE #> [1] TRUE is_understat_league(\"POR\") #> [1] FALSE"},{"path":"https://peteowen1.github.io/panna/reference/list_cached_matches.html","id":null,"dir":"Reference","previous_headings":"","what":"List cached matches — list_cached_matches","title":"List cached matches — list_cached_matches","text":"Scans hierarchical directory structure: {table_type}/{league}/{season}/{id}.rds","code":""},{"path":"https://peteowen1.github.io/panna/reference/list_cached_matches.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List cached matches — list_cached_matches","text":"","code":"list_cached_matches(table_type = \"metadata\", league = NULL, season = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/list_cached_matches.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List cached matches — list_cached_matches","text":"table_type Table type check league Optional league filter season Optional season filter","code":""},{"path":"https://peteowen1.github.io/panna/reference/list_cached_matches.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List cached matches — list_cached_matches","text":"Data frame league, season, fbref_id columns","code":""},{"path":"https://peteowen1.github.io/panna/reference/list_competitions.html","id":null,"dir":"Reference","previous_headings":"","what":"List competitions by type — list_competitions","title":"List competitions by type — list_competitions","text":"Returns competition codes filtered type.","code":""},{"path":"https://peteowen1.github.io/panna/reference/list_competitions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List competitions by type — list_competitions","text":"","code":"list_competitions(type = \"all\")"},{"path":"https://peteowen1.github.io/panna/reference/list_competitions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List competitions by type — list_competitions","text":"type Character, one \"league\", \"cup\", \"european\", \"national_team\", \"\"","code":""},{"path":"https://peteowen1.github.io/panna/reference/list_competitions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List competitions by type — list_competitions","text":"Character vector competition codes","code":""},{"path":"https://peteowen1.github.io/panna/reference/list_competitions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List competitions by type — list_competitions","text":"","code":"list_competitions(\"league\") #> [1] \"ENG\" \"ESP\" \"GER\" \"ITA\" \"FRA\" list_competitions(\"national_team\") #> [1] \"WC\"             \"EURO\"           \"COPA_AMERICA\"   \"AFCON\"          #> [5] \"NATIONS_LEAGUE\" \"GOLD_CUP\"       \"ASIAN_CUP\""},{"path":"https://peteowen1.github.io/panna/reference/list_opta_seasons.html","id":null,"dir":"Reference","previous_headings":"","what":"List Available Opta Seasons — list_opta_seasons","title":"List Available Opta Seasons — list_opta_seasons","text":"Returns available seasons given league Opta data.","code":""},{"path":"https://peteowen1.github.io/panna/reference/list_opta_seasons.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List Available Opta Seasons — list_opta_seasons","text":"","code":"list_opta_seasons(league)"},{"path":"https://peteowen1.github.io/panna/reference/list_opta_seasons.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List Available Opta Seasons — list_opta_seasons","text":"league League code (e.g., \"ENG\", \"EPL\", \"ESP\", \"La_Liga\").","code":""},{"path":"https://peteowen1.github.io/panna/reference/list_opta_seasons.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List Available Opta Seasons — list_opta_seasons","text":"Character vector available seasons.","code":""},{"path":"https://peteowen1.github.io/panna/reference/list_opta_seasons.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List Available Opta Seasons — list_opta_seasons","text":"","code":"if (FALSE) { # \\dontrun{ list_opta_seasons(\"ENG\") list_opta_seasons(\"EPL\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/list_understat_competitions.html","id":null,"dir":"Reference","previous_headings":"","what":"List Understat competitions — list_understat_competitions","title":"List Understat competitions — list_understat_competitions","text":"Returns available Understat competition codes.","code":""},{"path":"https://peteowen1.github.io/panna/reference/list_understat_competitions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List Understat competitions — list_understat_competitions","text":"","code":"list_understat_competitions()"},{"path":"https://peteowen1.github.io/panna/reference/list_understat_competitions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List Understat competitions — list_understat_competitions","text":"Character vector competition codes","code":""},{"path":"https://peteowen1.github.io/panna/reference/list_understat_competitions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List Understat competitions — list_understat_competitions","text":"","code":"list_understat_competitions() #> [1] \"ENG\" \"ESP\" \"GER\" \"ITA\" \"FRA\" \"RUS\""},{"path":"https://peteowen1.github.io/panna/reference/load_cached_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Load cached data for a specific type — load_cached_data","title":"Load cached data for a specific type — load_cached_data","text":"Load cached data specific type","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_cached_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load cached data for a specific type — load_cached_data","text":"","code":"load_cached_data(data_type)"},{"path":"https://peteowen1.github.io/panna/reference/load_cached_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load cached data for a specific type — load_cached_data","text":"data_type Type data (e.g., \"lineups\", \"events\", \"shooting\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_cached_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load cached data for a specific type — load_cached_data","text":"Data frame cached data, NULL none exists","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_defense.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Defense Data — load_defense","title":"Load Defense Data — load_defense","text":"Loads defensive statistics pannadata.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_defense.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Defense Data — load_defense","text":"","code":"load_defense(league = NULL, season = NULL, source = c(\"remote\", \"local\"))  load_defense(league = NULL, season = NULL, source = c(\"remote\", \"local\"))"},{"path":"https://peteowen1.github.io/panna/reference/load_defense.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Defense Data — load_defense","text":"league League code (e.g., \"ENG\"). NULL leagues. season Season string (e.g., \"2023-2024\"). NULL seasons. source \"remote\" (default) \"local\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_defense.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Defense Data — load_defense","text":"Data frame defensive statistics. Data frame defensive stats NULL","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_events.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Events Data — load_events","title":"Load Events Data — load_events","text":"Loads match event data (goals, substitutions, cards, etc.) pannadata.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_events.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Events Data — load_events","text":"","code":"load_events(league = NULL, season = NULL, source = c(\"remote\", \"local\"))  load_events(league = NULL, season = NULL, source = c(\"remote\", \"local\"))"},{"path":"https://peteowen1.github.io/panna/reference/load_events.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Events Data — load_events","text":"league League code (e.g., \"ENG\"). NULL leagues. season Season string (e.g., \"2023-2024\"). NULL seasons. source \"remote\" (default) \"local\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_events.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Events Data — load_events","text":"Data frame match events. Data frame match events NULL","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_keeper.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Keeper Data — load_keeper","title":"Load Keeper Data — load_keeper","text":"Loads goalkeeper statistics pannadata.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_keeper.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Keeper Data — load_keeper","text":"","code":"load_keeper(league = NULL, season = NULL, source = c(\"remote\", \"local\"))"},{"path":"https://peteowen1.github.io/panna/reference/load_keeper.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Keeper Data — load_keeper","text":"league League code (e.g., \"ENG\"). NULL leagues. season Season string (e.g., \"2023-2024\"). NULL seasons. source \"remote\" (default) downloads GitHub releases using DuckDB, \"local\" reads local pannadata_dir().","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_keeper.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Keeper Data — load_keeper","text":"Data frame goalkeeper statistics.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_match_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Load match table from cache — load_match_table","title":"Load match table from cache — load_match_table","text":"Loads hierarchical path: {table_type}/{league}/{season}/{id}.rds","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_match_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load match table from cache — load_match_table","text":"","code":"load_match_table(league, season, fbref_id, table_type)"},{"path":"https://peteowen1.github.io/panna/reference/load_match_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load match table from cache — load_match_table","text":"league League code season Season string fbref_id FBref match ID table_type Type table","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_match_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load match table from cache — load_match_table","text":"Data frame NULL cached","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Metadata — load_metadata","title":"Load Metadata — load_metadata","text":"Loads match metadata pannadata.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Metadata — load_metadata","text":"","code":"load_metadata(league = NULL, season = NULL, source = c(\"remote\", \"local\"))  load_metadata(league = NULL, season = NULL, source = c(\"remote\", \"local\"))"},{"path":"https://peteowen1.github.io/panna/reference/load_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Metadata — load_metadata","text":"league League code (e.g., \"ENG\"). NULL leagues. season Season string (e.g., \"2023-2024\"). NULL seasons. source \"remote\" (default) \"local\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Metadata — load_metadata","text":"Data frame match metadata. Data frame match metadata NULL","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_opta_big5.html","id":null,"dir":"Reference","previous_headings":"","what":"Load All Opta Data for Big 5 Leagues — load_opta_big5","title":"Load All Opta Data for Big 5 Leagues — load_opta_big5","text":"Convenience function load Opta stats Big 5 European leagues.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_opta_big5.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load All Opta Data for Big 5 Leagues — load_opta_big5","text":"","code":"load_opta_big5(season = NULL, columns = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/load_opta_big5.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load All Opta Data for Big 5 Leagues — load_opta_big5","text":"season Optional season filter. NULL, loads available seasons. columns Optional character vector columns select.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_opta_big5.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load All Opta Data for Big 5 Leagues — load_opta_big5","text":"Data frame league column added.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_opta_big5.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load All Opta Data for Big 5 Leagues — load_opta_big5","text":"","code":"if (FALSE) { # \\dontrun{ # Load all Big 5 data (warning: large!) big5 <- load_opta_big5()  # Load specific season across all leagues big5_2122 <- load_opta_big5(season = \"2021-2022\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/load_opta_shots.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Opta Shot Data — load_opta_shots","title":"Load Opta Shot Data — load_opta_shots","text":"Loads aggregated shot statistics per player per match Opta data. Includes shot locations, body parts, big chance metrics.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_opta_shots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Opta Shot Data — load_opta_shots","text":"","code":"load_opta_shots(   league,   season = NULL,   columns = NULL,   source = c(\"local\", \"remote\") )"},{"path":"https://peteowen1.github.io/panna/reference/load_opta_shots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Opta Shot Data — load_opta_shots","text":"league League code. Accepts panna format (ENG, ESP, GER, ITA, FRA) Opta format (EPL, La_Liga, Bundesliga, Serie_A, Ligue_1). season Optional season filter (e.g., \"2021-2022\"). NULL, loads seasons. columns Optional character vector columns select. NULL, selects . source Data source: \"local\" (default) load local files, \"remote\" download GitHub releases.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_opta_shots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Opta Shot Data — load_opta_shots","text":"Data frame shot statistics.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_opta_shots.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load Opta Shot Data — load_opta_shots","text":"","code":"if (FALSE) { # \\dontrun{ # Load all EPL shot data epl_shots <- load_opta_shots(\"ENG\")  # Load specific season from remote shots_2122 <- load_opta_shots(\"ENG\", season = \"2021-2022\", source = \"remote\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/load_opta_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Opta Player Stats — load_opta_stats","title":"Load Opta Player Stats — load_opta_stats","text":"Loads player-level match statistics Opta/TheAnalyst data. Contains 271 columns including Opta-exclusive stats like progressiveCarries, possWonDef3rd, touchesInOppBox, bigChanceCreated, etc.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_opta_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Opta Player Stats — load_opta_stats","text":"","code":"load_opta_stats(   league,   season = NULL,   columns = NULL,   source = c(\"local\", \"remote\") )"},{"path":"https://peteowen1.github.io/panna/reference/load_opta_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Opta Player Stats — load_opta_stats","text":"league League code. Accepts panna format (ENG, ESP, GER, ITA, FRA) Opta format (EPL, La_Liga, Bundesliga, Serie_A, Ligue_1). season Optional season filter (e.g., \"2021-2022\"). NULL, loads seasons. columns Optional character vector columns select. NULL, selects . source Data source: \"local\" (default) load local files, \"remote\" download GitHub releases.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_opta_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Opta Player Stats — load_opta_stats","text":"Data frame player statistics.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_opta_stats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load Opta Player Stats — load_opta_stats","text":"","code":"if (FALSE) { # \\dontrun{ # Load all EPL data from local files epl <- load_opta_stats(\"ENG\")  # Load from GitHub releases (downloads opta-parquet.tar.gz) epl_remote <- load_opta_stats(\"ENG\", season = \"2021-2022\", source = \"remote\")  # Load specific columns only epl_basic <- load_opta_stats(\"ENG\", columns = c(   \"match_id\", \"player_name\", \"team_name\", \"minsPlayed\",   \"goals\", \"totalScoringAtt\", \"progressiveCarries\" ))  # Load all Big 5 leagues big5 <- purrr::map_dfr(c(\"ENG\", \"ESP\", \"GER\", \"ITA\", \"FRA\"), load_opta_stats) } # }"},{"path":"https://peteowen1.github.io/panna/reference/load_opta_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal function to load Opta table data — load_opta_table","title":"Internal function to load Opta table data — load_opta_table","text":"Internal function load Opta table data","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_opta_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal function to load Opta table data — load_opta_table","text":"","code":"load_opta_table(table_type, league, season, columns, source = \"local\")"},{"path":"https://peteowen1.github.io/panna/reference/load_opta_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal function to load Opta table data — load_opta_table","text":"table_type \"player_stats\" \"shots\" league League code season Optional season filter columns Optional columns select source \"local\" \"remote\"","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_opta_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal function to load Opta table data — load_opta_table","text":"Data frame","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_passing.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Passing Data — load_passing","title":"Load Passing Data — load_passing","text":"Loads passing statistics pannadata.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_passing.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Passing Data — load_passing","text":"","code":"load_passing(league = NULL, season = NULL, source = c(\"remote\", \"local\"))  load_passing(league = NULL, season = NULL, source = c(\"remote\", \"local\"))"},{"path":"https://peteowen1.github.io/panna/reference/load_passing.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Passing Data — load_passing","text":"league League code (e.g., \"ENG\"). NULL leagues. season Season string (e.g., \"2023-2024\"). NULL seasons. source \"remote\" (default) \"local\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_passing.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Passing Data — load_passing","text":"Data frame passing statistics. Data frame passing stats NULL","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_possession.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Possession Data — load_possession","title":"Load Possession Data — load_possession","text":"Loads possession statistics pannadata.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_possession.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Possession Data — load_possession","text":"","code":"load_possession(league = NULL, season = NULL, source = c(\"remote\", \"local\"))  load_possession(league = NULL, season = NULL, source = c(\"remote\", \"local\"))"},{"path":"https://peteowen1.github.io/panna/reference/load_possession.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Possession Data — load_possession","text":"league League code (e.g., \"ENG\"). NULL leagues. season Season string (e.g., \"2023-2024\"). NULL seasons. source \"remote\" (default) \"local\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_possession.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Possession Data — load_possession","text":"Data frame possession statistics. Data frame possession stats NULL","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_shots.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Shots Data — load_shots","title":"Load Shots Data — load_shots","text":"Loads shot-level data expected goals (xG) pannadata.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_shots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Shots Data — load_shots","text":"","code":"load_shots(league = NULL, season = NULL, source = c(\"remote\", \"local\"))  load_shots(league = NULL, season = NULL, source = c(\"remote\", \"local\"))"},{"path":"https://peteowen1.github.io/panna/reference/load_shots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Shots Data — load_shots","text":"league League code (e.g., \"ENG\"). NULL leagues. season Season string (e.g., \"2023-2024\"). NULL seasons. source \"remote\" (default) \"local\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_shots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Shots Data — load_shots","text":"Data frame shot data. Data frame shots NULL","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Summary Data — load_summary","title":"Load Summary Data — load_summary","text":"Loads player summary statistics pannadata. Uses DuckDB query parquet files - filtering happens query time.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Summary Data — load_summary","text":"","code":"load_summary(league = NULL, season = NULL, source = c(\"remote\", \"local\"))  load_summary(league = NULL, season = NULL, source = c(\"remote\", \"local\"))"},{"path":"https://peteowen1.github.io/panna/reference/load_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Summary Data — load_summary","text":"league League code (e.g., \"ENG\"). NULL leagues. season Season string (e.g., \"2023-2024\"). NULL seasons. source \"remote\" (default) downloads GitHub releases using DuckDB, \"local\" reads local pannadata_dir().","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Summary Data — load_summary","text":"Data frame player summary statistics. Data frame player summary stats NULL","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load Summary Data — load_summary","text":"","code":"if (FALSE) { # \\dontrun{ # Load all summary data from remote all_summary <- load_summary()  # Load England 2023-2024 only (efficient - filters in SQL) eng_2023 <- load_summary(league = \"ENG\", season = \"2023-2024\")  # Load from local files local_data <- load_summary(source = \"local\") } # } if (FALSE) { # \\dontrun{ # Load from GitHub releases (default, efficient with SQL filtering) load_summary(\"ENG\", \"2024-2025\") load_summary(\"ENG\") load_summary(season = \"2024-2025\") load_summary()  # Load from local files load_summary(\"ENG\", \"2024-2025\", source = \"local\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/load_table_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal function to load table data — load_table_data","title":"Internal function to load table data — load_table_data","text":"Common implementation load_* functions. remote loading, first tries individual parquet files (fast). exist (404), falls back ZIP-based loading.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_table_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal function to load table data — load_table_data","text":"","code":"load_table_data(table_type, league, season, source)"},{"path":"https://peteowen1.github.io/panna/reference/load_table_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal function to load table data — load_table_data","text":"table_type type table load (e.g., \"summary\", \"events\") league Optional league filter season Optional season filter source \"remote\" \"local\"","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_table_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal function to load table data — load_table_data","text":"Data frame","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Understat Metadata — load_understat_metadata","title":"Load Understat Metadata — load_understat_metadata","text":"Loads match metadata Understat including teams, scores, xG totals.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Understat Metadata — load_understat_metadata","text":"","code":"load_understat_metadata(   league = NULL,   season = NULL,   source = c(\"remote\", \"local\") )"},{"path":"https://peteowen1.github.io/panna/reference/load_understat_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Understat Metadata — load_understat_metadata","text":"league Optional league filter (e.g., \"ENG\", \"ESP\", \"RUS\"). season Optional season filter (e.g., \"2024\" 2024). Note: Understat uses single year format, YYYY-YYYY. source Data source: \"remote\" (default) downloads GitHub, \"local\" uses local parquet/RDS files.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Understat Metadata — load_understat_metadata","text":"Data frame match metadata Understat.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load Understat Metadata — load_understat_metadata","text":"","code":"if (FALSE) { # \\dontrun{ # Load all Understat metadata from remote all_meta <- load_understat_metadata()  # Load Germany 2024 only ger_2024 <- load_understat_metadata(league = \"GER\", season = \"2024\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/load_understat_roster.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Understat Roster Data — load_understat_roster","title":"Load Understat Roster Data — load_understat_roster","text":"Loads player statistics Understat matches. Includes xG, xA, xG chain, xG buildup, advanced metrics.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_roster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Understat Roster Data — load_understat_roster","text":"","code":"load_understat_roster(   league = NULL,   season = NULL,   source = c(\"remote\", \"local\") )"},{"path":"https://peteowen1.github.io/panna/reference/load_understat_roster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Understat Roster Data — load_understat_roster","text":"league Optional league filter (e.g., \"ENG\", \"ESP\", \"RUS\"). season Optional season filter (e.g., \"2024\" 2024). Note: Understat uses single year format, YYYY-YYYY. source Data source: \"remote\" (default) downloads GitHub, \"local\" uses local parquet/RDS files.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_roster.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Understat Roster Data — load_understat_roster","text":"Data frame player statistics Understat.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_roster.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load Understat Roster Data — load_understat_roster","text":"","code":"if (FALSE) { # \\dontrun{ # Load all Understat roster data from remote all_roster <- load_understat_roster()  # Load England 2024 only eng_2024 <- load_understat_roster(league = \"ENG\", season = \"2024\")  # Load from local files local_data <- load_understat_roster(source = \"local\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/load_understat_shots.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Understat Shots Data — load_understat_shots","title":"Load Understat Shots Data — load_understat_shots","text":"Loads shot-level data xG Understat matches. row represents single shot coordinates, xG, outcome.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_shots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Understat Shots Data — load_understat_shots","text":"","code":"load_understat_shots(   league = NULL,   season = NULL,   source = c(\"remote\", \"local\") )"},{"path":"https://peteowen1.github.io/panna/reference/load_understat_shots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Understat Shots Data — load_understat_shots","text":"league Optional league filter (e.g., \"ENG\", \"ESP\", \"RUS\"). season Optional season filter (e.g., \"2024\" 2024). Note: Understat uses single year format, YYYY-YYYY. source Data source: \"remote\" (default) downloads GitHub, \"local\" uses local parquet/RDS files.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_shots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Understat Shots Data — load_understat_shots","text":"Data frame shot data Understat.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_shots.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load Understat Shots Data — load_understat_shots","text":"","code":"if (FALSE) { # \\dontrun{ # Load all Understat shots from remote all_shots <- load_understat_shots()  # Load Spain 2023 only esp_2023 <- load_understat_shots(league = \"ESP\", season = \"2023\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/load_understat_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Understat data from parquet cache — load_understat_table","title":"Load Understat data from parquet cache — load_understat_table","text":"Load Understat data parquet cache","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Understat data from parquet cache — load_understat_table","text":"","code":"load_understat_table(league, season, understat_id = NULL, table_type)"},{"path":"https://peteowen1.github.io/panna/reference/load_understat_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Understat data from parquet cache — load_understat_table","text":"league League code season Season string understat_id Optional specific match ID load table_type Type table","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Understat data from parquet cache — load_understat_table","text":"Data frame NULL cached","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_table_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal function to load Understat table data — load_understat_table_data","title":"Internal function to load Understat table data — load_understat_table_data","text":"Common implementation load_understat_* functions. Handles remote (GitHub releases) local (parquet/RDS) sources.","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_table_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal function to load Understat table data — load_understat_table_data","text":"","code":"load_understat_table_data(table_type, league, season, source)"},{"path":"https://peteowen1.github.io/panna/reference/load_understat_table_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal function to load Understat table data — load_understat_table_data","text":"table_type type Understat table (roster, shots, metadata) league Optional league filter season Optional season filter (single year format) source \"remote\" \"local\"","code":""},{"path":"https://peteowen1.github.io/panna/reference/load_understat_table_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal function to load Understat table data — load_understat_table_data","text":"Data frame","code":""},{"path":"https://peteowen1.github.io/panna/reference/make_match_filename.html","id":null,"dir":"Reference","previous_headings":"","what":"Create match filename for caching — make_match_filename","title":"Create match filename for caching — make_match_filename","text":"hierarchical structure, filename just fbref_id. League season encoded directory path.","code":""},{"path":"https://peteowen1.github.io/panna/reference/make_match_filename.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create match filename for caching — make_match_filename","text":"","code":"make_match_filename(fbref_id)"},{"path":"https://peteowen1.github.io/panna/reference/make_match_filename.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create match filename for caching — make_match_filename","text":"fbref_id FBref match ID (8-char hex)","code":""},{"path":"https://peteowen1.github.io/panna/reference/make_match_filename.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create match filename for caching — make_match_filename","text":"Filename string (without path)","code":""},{"path":"https://peteowen1.github.io/panna/reference/merge_processed_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge all processed data — merge_processed_data","title":"Merge all processed data — merge_processed_data","text":"Combines processed data sources unified datasets.","code":""},{"path":"https://peteowen1.github.io/panna/reference/merge_processed_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge all processed data — merge_processed_data","text":"","code":"merge_processed_data(processed_data)"},{"path":"https://peteowen1.github.io/panna/reference/merge_processed_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge all processed data — merge_processed_data","text":"processed_data List processed data frames","code":""},{"path":"https://peteowen1.github.io/panna/reference/merge_processed_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge all processed data — merge_processed_data","text":"List merged data frames","code":""},{"path":"https://peteowen1.github.io/panna/reference/migrate_metadata_tables_available.html","id":null,"dir":"Reference","previous_headings":"","what":"Migrate old metadata files to include tables_available field — migrate_metadata_tables_available","title":"Migrate old metadata files to include tables_available field — migrate_metadata_tables_available","text":"Updates metadata files created tables_available field added. Checks table types actually exist cache updates metadata accordingly.","code":""},{"path":"https://peteowen1.github.io/panna/reference/migrate_metadata_tables_available.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Migrate old metadata files to include tables_available field — migrate_metadata_tables_available","text":"","code":"migrate_metadata_tables_available(league = NULL, season = NULL, verbose = TRUE)"},{"path":"https://peteowen1.github.io/panna/reference/migrate_metadata_tables_available.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Migrate old metadata files to include tables_available field — migrate_metadata_tables_available","text":"league Optional league filter season Optional season filter verbose Print progress (default TRUE)","code":""},{"path":"https://peteowen1.github.io/panna/reference/migrate_metadata_tables_available.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Migrate old metadata files to include tables_available field — migrate_metadata_tables_available","text":"Number metadata files updated","code":""},{"path":"https://peteowen1.github.io/panna/reference/migrate_metadata_tables_available.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Migrate old metadata files to include tables_available field — migrate_metadata_tables_available","text":"Uses hierarchical path: {table_type}/{league}/{season}/{id}.rds","code":""},{"path":"https://peteowen1.github.io/panna/reference/migrate_metadata_tables_available.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Migrate old metadata files to include tables_available field — migrate_metadata_tables_available","text":"","code":"if (FALSE) { # \\dontrun{ # Migrate all old metadata migrate_metadata_tables_available()  # Migrate only ENG 2017-2018 migrate_metadata_tables_available(league = \"ENG\", season = \"2017-2018\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/opta_data_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get or Set Opta Data Directory — opta_data_dir","title":"Get or Set Opta Data Directory — opta_data_dir","text":"Returns path Opta data directory within pannadata. Uses pannadata/data/opta/ base path.","code":""},{"path":"https://peteowen1.github.io/panna/reference/opta_data_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get or Set Opta Data Directory — opta_data_dir","text":"","code":"opta_data_dir(path = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/opta_data_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get or Set Opta Data Directory — opta_data_dir","text":"path Optional path set Opta data directory.","code":""},{"path":"https://peteowen1.github.io/panna/reference/opta_data_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get or Set Opta Data Directory — opta_data_dir","text":"Character path Opta data directory.","code":""},{"path":"https://peteowen1.github.io/panna/reference/opta_data_dir.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get or Set Opta Data Directory — opta_data_dir","text":"","code":"if (FALSE) { # \\dontrun{ # Get current path (auto-detected from pannadata) opta_data_dir()  # Set explicit path opta_data_dir(\"C:/path/to/pannadata/data/opta\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/panna-package.html","id":null,"dir":"Reference","previous_headings":"","what":"panna: Player Rating System for Football Using RAPM and SPM Methods — panna-package","title":"panna: Player Rating System for Football Using RAPM and SPM Methods — panna-package","text":"Implements panna player rating methodology football (soccer) players. Combines Regularized Adjusted Plus-Minus (RAPM) Statistical Plus-Minus (SPM) Bayesian prior produce stable player impact ratings. Uses cached FBref data pannadata repository, splint-based analysis (time segments substitutions/goals), offensive/defensive rating separation.","code":""},{"path":[]},{"path":"https://peteowen1.github.io/panna/reference/panna-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"panna: Player Rating System for Football Using RAPM and SPM Methods — panna-package","text":"Maintainer: Pete Owen pete.owen1@hotmail.co.uk","code":""},{"path":"https://peteowen1.github.io/panna/reference/pannadata_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get or set pannadata directory — pannadata_dir","title":"Get or set pannadata directory — pannadata_dir","text":"Gets sets base directory parquet/RDS data storage.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pannadata_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get or set pannadata directory — pannadata_dir","text":"","code":"pannadata_dir(path = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/pannadata_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get or set pannadata directory — pannadata_dir","text":"path Optional new path set. NULL, returns current path.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pannadata_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get or set pannadata directory — pannadata_dir","text":"Current pannadata directory path (invisibly setting)","code":""},{"path":"https://peteowen1.github.io/panna/reference/pannadata_dir.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get or set pannadata directory — pannadata_dir","text":"Resolution order (first match wins): Explicitly set via pannadata_dir(\"path\") PANNADATA_DIR environment variable ../pannadata/data exists (pannaverse developers) R's standard user data directory via tools::R_user_dir(\"panna\", \"data\") default (R_user_dir) gives OS-appropriate persistent storage: Windows: C:/Users//AppData/Local/R/panna/data Mac: ~/Library/Application Support/org.R-project.R/panna/data Linux: ~/.local/share/R/panna/data","code":""},{"path":"https://peteowen1.github.io/panna/reference/pannadata_dir.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get or set pannadata directory — pannadata_dir","text":"","code":"# Get current path pannadata_dir() #> [1] \"C:\\\\Users\\\\peteo\\\\AppData\\\\Roaming/R/data/R/panna\"  # Set custom path pannadata_dir(\"~/my/football/data\")"},{"path":"https://peteowen1.github.io/panna/reference/parse_event_minute.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse event minute from time string — parse_event_minute","title":"Parse event minute from time string — parse_event_minute","text":"Handles formats like \"45+2\" (45 plus 2 minutes stoppage time).","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_event_minute.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse event minute from time string — parse_event_minute","text":"","code":"parse_event_minute(time_str)"},{"path":"https://peteowen1.github.io/panna/reference/parse_event_minute.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse event minute from time string — parse_event_minute","text":"time_str Character vector event times","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_event_minute.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse event minute from time string — parse_event_minute","text":"Numeric vector minutes","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_match_page.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse all tables from FBref match page — parse_match_page","title":"Parse all tables from FBref match page — parse_match_page","text":"Extracts available stat tables match page.","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_match_page.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse all tables from FBref match page — parse_match_page","text":"","code":"parse_match_page(page, match_url)"},{"path":"https://peteowen1.github.io/panna/reference/parse_match_page.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse all tables from FBref match page — parse_match_page","text":"page Parsed HTML document match_url Original match URL","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_match_page.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse all tables from FBref match page — parse_match_page","text":"List containing metadata parsed tables","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_shot_minute.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse shot minute strings — parse_shot_minute","title":"Parse shot minute strings — parse_shot_minute","text":"Converts shot minute strings like \"90+4\" minute added_time components.","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_shot_minute.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse shot minute strings — parse_shot_minute","text":"","code":"parse_shot_minute(minute_str)"},{"path":"https://peteowen1.github.io/panna/reference/parse_shot_minute.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse shot minute strings — parse_shot_minute","text":"minute_str Character vector minute strings (e.g., \"45\", \"90+4\", \"45+1\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_shot_minute.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse shot minute strings — parse_shot_minute","text":"Data frame columns: minute (numeric), added_time (numeric)","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_stats_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse FBref stats table with multi-row headers — parse_stats_table","title":"Parse FBref stats table with multi-row headers — parse_stats_table","text":"Handles complex header structure FBref stats tables. Uses multiple parsing strategies handle different table structures (lower-league cup matches different HTML structure).","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_stats_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse FBref stats table with multi-row headers — parse_stats_table","text":"","code":"parse_stats_table(page, table_id)"},{"path":"https://peteowen1.github.io/panna/reference/parse_stats_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse FBref stats table with multi-row headers — parse_stats_table","text":"page Parsed HTML document table_id ID table parse","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_stats_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse FBref stats table with multi-row headers — parse_stats_table","text":"Data frame parsed stats, NULL table found","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_understat_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse and clean Understat JSON string — parse_understat_json","title":"Parse and clean Understat JSON string — parse_understat_json","text":"Unescapes hex unicode characters fixes JSON formatting issues. Understat uses \\xNN hex escapes need converted unicode.","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_understat_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse and clean Understat JSON string — parse_understat_json","text":"","code":"parse_understat_json(json_str)"},{"path":"https://peteowen1.github.io/panna/reference/parse_understat_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse and clean Understat JSON string — parse_understat_json","text":"json_str Raw JSON string Understat","code":""},{"path":"https://peteowen1.github.io/panna/reference/parse_understat_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse and clean Understat JSON string — parse_understat_json","text":"Cleaned JSON string","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download data from GitHub Releases — pb_download_data","title":"Download data from GitHub Releases — pb_download_data","text":"Downloads pannadata.zip file GitHub Release extracts local pannadata directory.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download data from GitHub Releases — pb_download_data","text":"","code":"pb_download_data(   repo = \"peteowen1/pannadata\",   tag = \"latest\",   dest = NULL,   overwrite = TRUE,   show_progress = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/pb_download_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download data from GitHub Releases — pb_download_data","text":"repo GitHub repository \"owner/repo\" format (default: \"peteowen1/pannadata\") tag Release tag download (default: \"latest\") dest Destination directory (default: pannadata_dir()) overwrite Overwrite existing files (default: TRUE) show_progress Show download progress (default: TRUE)","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download data from GitHub Releases — pb_download_data","text":"Invisible path destination directory","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_data.html","id":"deprecation-notice","dir":"Reference","previous_headings":"","what":"Deprecation Notice","title":"Download data from GitHub Releases — pb_download_data","text":"loading data, prefer new DuckDB-based functions efficient: load_summary(), load_events(), load_shots(), etc. download needed filter via SQL function still useful downloading complete dataset local development.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download data from GitHub Releases — pb_download_data","text":"","code":"if (FALSE) { # \\dontrun{ # Download all data pb_download_data()  # Download to custom location pb_download_data(dest = \"my/data/path\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/pb_download_opta.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Opta Data to Local Directory — pb_download_opta","title":"Download Opta Data to Local Directory — pb_download_opta","text":"Downloads consolidated Opta parquet files GitHub releases local pannadata/data/opta/ directory. Downloads two files: opta_player_stats.parquet (~50MB, 1M+ rows) opta_shots.parquet (~4MB, 270K rows)","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_opta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Opta Data to Local Directory — pb_download_opta","text":"","code":"pb_download_opta(   repo = \"peteowen1/pannadata\",   tag = \"opta-latest\",   dest = NULL )"},{"path":"https://peteowen1.github.io/panna/reference/pb_download_opta.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Opta Data to Local Directory — pb_download_opta","text":"repo GitHub repository \"owner/repo\" format. tag Release tag (default: \"opta-latest\"). dest Destination directory. NULL, uses pannadata_dir()/opta.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_opta.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Opta Data to Local Directory — pb_download_opta","text":"Invisibly returns path installed data.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_opta.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Opta Data to Local Directory — pb_download_opta","text":"","code":"if (FALSE) { # \\dontrun{ # Download latest Opta data to pannadata/data/opta/ pb_download_opta()  # Then load with: load_opta_stats(\"ENG\", season = \"2024-2025\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/pb_download_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Download parquet files from GitHub Releases — pb_download_parquet","title":"Download parquet files from GitHub Releases — pb_download_parquet","text":"Downloads parquet zip file GitHub Release extracts .","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download parquet files from GitHub Releases — pb_download_parquet","text":"","code":"pb_download_parquet(   repo = \"peteowen1/pannadata\",   tag = \"latest\",   dest = NULL,   verbose = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/pb_download_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download parquet files from GitHub Releases — pb_download_parquet","text":"repo GitHub repository \"owner/repo\" format tag Release tag (default: \"latest\") dest Destination directory (default: pannadata_dir()) verbose Print progress messages","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download parquet files from GitHub Releases — pb_download_parquet","text":"Invisible path destination directory","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_source.html","id":null,"dir":"Reference","previous_headings":"","what":"Download parquet files by source type — pb_download_source","title":"Download parquet files by source type — pb_download_source","text":"Downloads parquet files source-specific GitHub releases.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_source.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download parquet files by source type — pb_download_source","text":"","code":"pb_download_source(   source_type = c(\"fbref\", \"understat\", \"opta\", \"all\"),   repo = \"peteowen1/pannadata\",   dest = NULL,   verbose = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/pb_download_source.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download parquet files by source type — pb_download_source","text":"source_type Data source: \"fbref\", \"understat\", \"\" repo GitHub repository \"owner/repo\" format dest Destination directory (default: pannadata_dir()) verbose Print progress messages","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_source.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download parquet files by source type — pb_download_source","text":"Invisible path destination directory","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_download_source.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download parquet files by source type — pb_download_source","text":"","code":"if (FALSE) { # \\dontrun{ # Download FBref data only pb_download_source(\"fbref\")  # Download Understat data only pb_download_source(\"understat\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/pb_list_data.html","id":null,"dir":"Reference","previous_headings":"","what":"List files in GitHub Release — pb_list_data","title":"List files in GitHub Release — pb_list_data","text":"Shows files available GitHub Release.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_list_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List files in GitHub Release — pb_list_data","text":"","code":"pb_list_data(repo = \"peteowen1/pannadata\", tag = \"latest\")"},{"path":"https://peteowen1.github.io/panna/reference/pb_list_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List files in GitHub Release — pb_list_data","text":"repo GitHub repository \"owner/repo\" format tag Release tag (default: \"latest\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_list_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List files in GitHub Release — pb_list_data","text":"Data frame file information","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_list_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List files in GitHub Release — pb_list_data","text":"","code":"if (FALSE) { # \\dontrun{ pb_list_data() } # }"},{"path":"https://peteowen1.github.io/panna/reference/pb_list_sources.html","id":null,"dir":"Reference","previous_headings":"","what":"List releases by source type — pb_list_sources","title":"List releases by source type — pb_list_sources","text":"Shows available releases different data sources.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_list_sources.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List releases by source type — pb_list_sources","text":"","code":"pb_list_sources(repo = \"peteowen1/pannadata\")"},{"path":"https://peteowen1.github.io/panna/reference/pb_list_sources.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List releases by source type — pb_list_sources","text":"repo GitHub repository \"owner/repo\" format","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_list_sources.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List releases by source type — pb_list_sources","text":"Data frame release information source","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if local data is in sync with GitHub Releases — pb_status","title":"Check if local data is in sync with GitHub Releases — pb_status","text":"Compares local data count release.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if local data is in sync with GitHub Releases — pb_status","text":"","code":"pb_status(repo = \"peteowen1/pannadata\", tag = \"latest\", source = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/pb_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if local data is in sync with GitHub Releases — pb_status","text":"repo GitHub repository \"owner/repo\" format tag Release tag (default: \"latest\") source Source directory (default: pannadata_dir())","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if local data is in sync with GitHub Releases — pb_status","text":"List sync status information","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_sync_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Sync local data with GitHub Releases — pb_sync_data","title":"Sync local data with GitHub Releases — pb_sync_data","text":"Convenience function uploads local data GitHub Releases. replaces existing data release.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_sync_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sync local data with GitHub Releases — pb_sync_data","text":"","code":"pb_sync_data(repo = \"peteowen1/pannadata\", tag = \"latest\", source = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/pb_sync_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sync local data with GitHub Releases — pb_sync_data","text":"repo GitHub repository \"owner/repo\" format tag Release tag (default: \"latest\") source Source directory (default: pannadata_dir())","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_sync_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sync local data with GitHub Releases — pb_sync_data","text":"Invisible NULL","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_consolidated.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload Consolidated Parquet Files to GitHub Releases — pb_upload_consolidated","title":"Upload Consolidated Parquet Files to GitHub Releases — pb_upload_consolidated","text":"Uploads individual consolidated parquet files GitHub release. enables fast remote queries via query_remote_parquet().","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_consolidated.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload Consolidated Parquet Files to GitHub Releases — pb_upload_consolidated","text":"","code":"pb_upload_consolidated(   source_dir = NULL,   repo = \"peteowen1/pannadata\",   tag = \"fbref-latest\",   verbose = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_consolidated.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload Consolidated Parquet Files to GitHub Releases — pb_upload_consolidated","text":"source_dir Directory containing consolidated parquet files. Defaults pannadata_dir()/consolidated. repo GitHub repository \"owner/repo\" format. tag Release tag upload . verbose Print progress messages.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_consolidated.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upload Consolidated Parquet Files to GitHub Releases — pb_upload_consolidated","text":"Invisible data frame upload results.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_consolidated.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Upload Consolidated Parquet Files to GitHub Releases — pb_upload_consolidated","text":"","code":"if (FALSE) { # \\dontrun{ # Build and upload consolidated parquets build_consolidated_parquet() pb_upload_consolidated() } # }"},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload data to GitHub Releases — pb_upload_data","title":"Upload data to GitHub Releases — pb_upload_data","text":"Zips local data directory uploads GitHub Release. Creates release exist.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload data to GitHub Releases — pb_upload_data","text":"","code":"pb_upload_data(repo = \"peteowen1/pannadata\", tag = \"latest\", source = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload data to GitHub Releases — pb_upload_data","text":"repo GitHub repository \"owner/repo\" format (default: \"peteowen1/pannadata\") tag Release tag upload (default: \"latest\") source Source directory containing 'data' folder (default: pannadata_dir())","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upload data to GitHub Releases — pb_upload_data","text":"Invisible path uploaded zip file","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Upload data to GitHub Releases — pb_upload_data","text":"","code":"if (FALSE) { # \\dontrun{ # Upload all data pb_upload_data() } # }"},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload parquet files to GitHub Releases — pb_upload_parquet","title":"Upload parquet files to GitHub Releases — pb_upload_parquet","text":"Uploads parquet files (RDS) GitHub Release. preferred upload method efficient storage.","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload parquet files to GitHub Releases — pb_upload_parquet","text":"","code":"pb_upload_parquet(   repo = \"peteowen1/pannadata\",   tag = \"latest\",   source = NULL,   verbose = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload parquet files to GitHub Releases — pb_upload_parquet","text":"repo GitHub repository \"owner/repo\" format tag Release tag (default: \"latest\") source Source directory containing data folder (default: pannadata_dir()) verbose Print progress messages","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upload parquet files to GitHub Releases — pb_upload_parquet","text":"Invisible data frame uploaded file info","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_source.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload parquet files by source type — pb_upload_source","title":"Upload parquet files by source type — pb_upload_source","text":"Uploads parquet files source-specific GitHub releases. \"fbref\": FBref data fbref-latest tag \"understat\": Understat data understat-latest tag \"\": data latest tag (legacy behavior)","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_source.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload parquet files by source type — pb_upload_source","text":"","code":"pb_upload_source(   source_type = c(\"fbref\", \"understat\", \"opta\", \"all\"),   repo = \"peteowen1/pannadata\",   source = NULL,   verbose = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_source.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload parquet files by source type — pb_upload_source","text":"source_type Data source: \"fbref\", \"understat\", \"\" repo GitHub repository \"owner/repo\" format source Source directory containing data folder (default: pannadata_dir()) verbose Print progress messages","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_source.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upload parquet files by source type — pb_upload_source","text":"Invisible data frame uploaded file info","code":""},{"path":"https://peteowen1.github.io/panna/reference/pb_upload_source.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Upload parquet files by source type — pb_upload_source","text":"","code":"if (FALSE) { # \\dontrun{ # Upload FBref data only pb_upload_source(\"fbref\")  # Upload Understat data only pb_upload_source(\"understat\")  # Upload all data (legacy) pb_upload_source(\"all\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/per_90.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate minutes per 90 — per_90","title":"Calculate minutes per 90 — per_90","text":"Calculate minutes per 90","code":""},{"path":"https://peteowen1.github.io/panna/reference/per_90.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate minutes per 90 — per_90","text":"","code":"per_90(stat, minutes)"},{"path":"https://peteowen1.github.io/panna/reference/per_90.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate minutes per 90 — per_90","text":"stat Statistic value (counting stat) minutes Minutes played","code":""},{"path":"https://peteowen1.github.io/panna/reference/per_90.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate minutes per 90 — per_90","text":"Statistic per 90 minutes","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_defense.html","id":null,"dir":"Reference","previous_headings":"","what":"FBref Player Defense Statistics — player_fbref_defense","title":"FBref Player Defense Statistics — player_fbref_defense","text":"Aggregate defensive statistics FBref data. Returns totals per-90 rates.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_defense.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"FBref Player Defense Statistics — player_fbref_defense","text":"","code":"player_fbref_defense(   player = NULL,   league = NULL,   season = NULL,   min_minutes = 450,   by_team = FALSE,   source = c(\"remote\", \"local\") )"},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_defense.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"FBref Player Defense Statistics — player_fbref_defense","text":"player Character. Player name filter (case-insensitive partial match). NULL returns players. league Character. Filter league code (ENG, ESP, GER, ITA, FRA). season Character. Filter season (e.g., \"2024-2025\"). min_minutes Integer. Minimum minutes inclusion (default 450). by_team Logical. TRUE, aggregate player team separately. FALSE (default), aggregate across teams show common team. source Character. \"remote\" (default) \"local\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_defense.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"FBref Player Defense Statistics — player_fbref_defense","text":"Data frame columns: player, team, matches, minutes, tackles, tackles_won, interceptions, blocks, clearances, errors, tackles_per90, interceptions_per90, blocks_per90, tackle_win_pct","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_defense.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"FBref Player Defense Statistics — player_fbref_defense","text":"","code":"if (FALSE) { # \\dontrun{ player_fbref_defense(league = \"ENG\", season = \"2024-2025\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_keeper.html","id":null,"dir":"Reference","previous_headings":"","what":"FBref Player Keeper Statistics — player_fbref_keeper","title":"FBref Player Keeper Statistics — player_fbref_keeper","text":"Aggregate goalkeeper statistics FBref data. Returns totals rates.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_keeper.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"FBref Player Keeper Statistics — player_fbref_keeper","text":"","code":"player_fbref_keeper(   player = NULL,   league = NULL,   season = NULL,   min_minutes = 450,   by_team = FALSE,   source = c(\"remote\", \"local\") )"},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_keeper.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"FBref Player Keeper Statistics — player_fbref_keeper","text":"player Character. Player name filter (case-insensitive partial match). NULL returns players. league Character. Filter league code (ENG, ESP, GER, ITA, FRA). season Character. Filter season (e.g., \"2024-2025\"). min_minutes Integer. Minimum minutes inclusion (default 450). by_team Logical. TRUE, aggregate player team separately. FALSE (default), aggregate across teams show common team. source Character. \"remote\" (default) \"local\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_keeper.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"FBref Player Keeper Statistics — player_fbref_keeper","text":"Data frame columns: player, team, matches, minutes, shots_on_target_against, saves, goals_against, clean_sheets, save_pct, goals_against_per90, clean_sheet_pct","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_keeper.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"FBref Player Keeper Statistics — player_fbref_keeper","text":"","code":"if (FALSE) { # \\dontrun{ player_fbref_keeper(league = \"ENG\", season = \"2024-2025\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_passing.html","id":null,"dir":"Reference","previous_headings":"","what":"FBref Player Passing Statistics — player_fbref_passing","title":"FBref Player Passing Statistics — player_fbref_passing","text":"Aggregate passing statistics FBref data. Returns totals per-90 rates.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_passing.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"FBref Player Passing Statistics — player_fbref_passing","text":"","code":"player_fbref_passing(   player = NULL,   league = NULL,   season = NULL,   min_minutes = 450,   by_team = FALSE,   source = c(\"remote\", \"local\") )"},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_passing.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"FBref Player Passing Statistics — player_fbref_passing","text":"player Character. Player name filter (case-insensitive partial match). NULL returns players. league Character. Filter league code (ENG, ESP, GER, ITA, FRA). season Character. Filter season (e.g., \"2024-2025\"). min_minutes Integer. Minimum minutes inclusion (default 450). by_team Logical. TRUE, aggregate player team separately. FALSE (default), aggregate across teams show common team. source Character. \"remote\" (default) \"local\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_passing.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"FBref Player Passing Statistics — player_fbref_passing","text":"Data frame columns: player, team, matches, minutes, passes_completed, passes_attempted, pass_pct, progressive_passes, key_passes, passes_into_final_third, passes_into_penalty_area, crosses, passes_per90, progressive_passes_per90, key_passes_per90","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_passing.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"FBref Player Passing Statistics — player_fbref_passing","text":"","code":"if (FALSE) { # \\dontrun{ player_fbref_passing(league = \"ENG\", season = \"2024-2025\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"FBref Player Summary Statistics — player_fbref_summary","title":"FBref Player Summary Statistics — player_fbref_summary","text":"Aggregate offensive statistics FBref data. Returns totals per-90 rates. Includes xG metrics StatsBomb.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"FBref Player Summary Statistics — player_fbref_summary","text":"","code":"player_fbref_summary(   player = NULL,   league = NULL,   season = NULL,   min_minutes = 450,   by_team = FALSE,   source = c(\"remote\", \"local\") )"},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"FBref Player Summary Statistics — player_fbref_summary","text":"player Character. Player name filter (case-insensitive partial match). NULL returns players. league Character. Filter league code (ENG, ESP, GER, ITA, FRA). season Character. Filter season (e.g., \"2024-2025\"). min_minutes Integer. Minimum minutes inclusion (default 450). by_team Logical. TRUE, aggregate player team separately. FALSE (default), aggregate across teams show common team. source Character. \"remote\" (default) \"local\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"FBref Player Summary Statistics — player_fbref_summary","text":"Data frame columns: player, team, matches, minutes, goals, assists, shots, shots_on_target, xg, npxg, xag, sca, gca, goals_minus_xg, goals_per90, xg_per90, npxg_per90, xag_per90","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_fbref_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"FBref Player Summary Statistics — player_fbref_summary","text":"","code":"if (FALSE) { # \\dontrun{ # Get all players with 450+ minutes player_fbref_summary(league = \"ENG\", season = \"2024-2025\")  # Get specific player player_fbref_summary(player = \"Salah\", league = \"ENG\")  # Group by team (useful for players who transferred) player_fbref_summary(league = \"ENG\", season = \"2024-2025\", by_team = TRUE) } # }"},{"path":"https://peteowen1.github.io/panna/reference/player_opta_defense.html","id":null,"dir":"Reference","previous_headings":"","what":"Opta Player Defense Statistics — player_opta_defense","title":"Opta Player Defense Statistics — player_opta_defense","text":"Aggregate defensive statistics Opta data.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_defense.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Opta Player Defense Statistics — player_opta_defense","text":"","code":"player_opta_defense(   player = NULL,   league = NULL,   season = NULL,   min_minutes = 450,   by_team = FALSE,   source = c(\"local\", \"remote\") )"},{"path":"https://peteowen1.github.io/panna/reference/player_opta_defense.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Opta Player Defense Statistics — player_opta_defense","text":"player Character. Player name filter (case-insensitive partial match). league Character. League code (ENG, ESP, GER, ITA, FRA). season Character. Season (e.g., \"2024-2025\"). min_minutes Integer. Minimum minutes inclusion (default 450). by_team Logical. TRUE, aggregate player team separately. source Character. \"local\" (default) \"remote\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_defense.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Opta Player Defense Statistics — player_opta_defense","text":"Data frame player defensive statistics.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_keeper.html","id":null,"dir":"Reference","previous_headings":"","what":"Opta Player Keeper Statistics — player_opta_keeper","title":"Opta Player Keeper Statistics — player_opta_keeper","text":"Aggregate goalkeeper statistics Opta data.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_keeper.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Opta Player Keeper Statistics — player_opta_keeper","text":"","code":"player_opta_keeper(   player = NULL,   league = NULL,   season = NULL,   min_minutes = 450,   by_team = FALSE,   source = c(\"local\", \"remote\") )"},{"path":"https://peteowen1.github.io/panna/reference/player_opta_keeper.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Opta Player Keeper Statistics — player_opta_keeper","text":"player Character. Player name filter (case-insensitive partial match). league Character. League code (ENG, ESP, GER, ITA, FRA). season Character. Season (e.g., \"2024-2025\"). min_minutes Integer. Minimum minutes inclusion (default 450). by_team Logical. TRUE, aggregate player team separately. source Character. \"local\" (default) \"remote\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_keeper.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Opta Player Keeper Statistics — player_opta_keeper","text":"Data frame columns: player, team, matches, minutes, saves, saves_ibox, saves_obox, goals_conceded, goals_conceded_ibox, shots_conceded_ibox, shots_conceded_obox, clean_sheets, diving_saves, high_claims, punches, big_chance_saves, shots_conceded, save_pct, goals_against_per90, shots_conceded_per90, clean_sheet_pct","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_passing.html","id":null,"dir":"Reference","previous_headings":"","what":"Opta Player Passing Statistics — player_opta_passing","title":"Opta Player Passing Statistics — player_opta_passing","text":"Aggregate passing statistics Opta data.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_passing.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Opta Player Passing Statistics — player_opta_passing","text":"","code":"player_opta_passing(   player = NULL,   league = NULL,   season = NULL,   min_minutes = 450,   by_team = FALSE,   source = c(\"local\", \"remote\") )"},{"path":"https://peteowen1.github.io/panna/reference/player_opta_passing.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Opta Player Passing Statistics — player_opta_passing","text":"player Character. Player name filter (case-insensitive partial match). league Character. League code (ENG, ESP, GER, ITA, FRA). season Character. Season (e.g., \"2024-2025\"). min_minutes Integer. Minimum minutes inclusion (default 450). by_team Logical. TRUE, aggregate player team separately. source Character. \"local\" (default) \"remote\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_passing.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Opta Player Passing Statistics — player_opta_passing","text":"Data frame player passing statistics.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_possession.html","id":null,"dir":"Reference","previous_headings":"","what":"Opta Player Possession Statistics — player_opta_possession","title":"Opta Player Possession Statistics — player_opta_possession","text":"Aggregate possession carrying statistics Opta data.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_possession.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Opta Player Possession Statistics — player_opta_possession","text":"","code":"player_opta_possession(   player = NULL,   league = NULL,   season = NULL,   min_minutes = 450,   by_team = FALSE,   source = c(\"local\", \"remote\") )"},{"path":"https://peteowen1.github.io/panna/reference/player_opta_possession.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Opta Player Possession Statistics — player_opta_possession","text":"player Character. Player name filter (case-insensitive partial match). league Character. League code (ENG, ESP, GER, ITA, FRA). season Character. Season (e.g., \"2024-2025\"). min_minutes Integer. Minimum minutes inclusion (default 450). by_team Logical. TRUE, aggregate player team separately. source Character. \"local\" (default) \"remote\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_possession.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Opta Player Possession Statistics — player_opta_possession","text":"Data frame player possession statistics.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_setpiece.html","id":null,"dir":"Reference","previous_headings":"","what":"Opta Player Set Piece Statistics — player_opta_setpiece","title":"Opta Player Set Piece Statistics — player_opta_setpiece","text":"Aggregate set piece statistics Opta data. Includes corners, free kicks, penalties, set piece involvement.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_setpiece.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Opta Player Set Piece Statistics — player_opta_setpiece","text":"","code":"player_opta_setpiece(   player = NULL,   league = NULL,   season = NULL,   min_minutes = 450,   by_team = FALSE,   source = c(\"remote\", \"local\") )"},{"path":"https://peteowen1.github.io/panna/reference/player_opta_setpiece.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Opta Player Set Piece Statistics — player_opta_setpiece","text":"player Character. Player name filter (case-insensitive partial match). league Character. League code (ENG, ESP, GER, ITA, FRA). season Character. Season string (e.g., \"2024-2025\"). min_minutes Integer. Minimum minutes inclusion. by_team Logical. TRUE, aggregate player team. source Character. \"remote\" (default) \"local\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_setpiece.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Opta Player Set Piece Statistics — player_opta_setpiece","text":"Data frame set piece statistics.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_shots.html","id":null,"dir":"Reference","previous_headings":"","what":"Opta Player Shooting Statistics — player_opta_shots","title":"Opta Player Shooting Statistics — player_opta_shots","text":"Aggregate shooting statistics Opta data. Includes shot volume, shot locations, finishing body part, big chances.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_shots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Opta Player Shooting Statistics — player_opta_shots","text":"","code":"player_opta_shots(   player = NULL,   league = NULL,   season = NULL,   min_minutes = 450,   by_team = FALSE,   source = c(\"remote\", \"local\") )"},{"path":"https://peteowen1.github.io/panna/reference/player_opta_shots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Opta Player Shooting Statistics — player_opta_shots","text":"player Character. Player name filter (case-insensitive partial match). league Character. League code (ENG, ESP, GER, ITA, FRA). season Character. Season string (e.g., \"2024-2025\"). min_minutes Integer. Minimum minutes inclusion. by_team Logical. TRUE, aggregate player team. source Character. \"remote\" (default) \"local\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_shots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Opta Player Shooting Statistics — player_opta_shots","text":"Data frame shooting statistics.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Opta Player Summary Statistics — player_opta_summary","title":"Opta Player Summary Statistics — player_opta_summary","text":"Aggregate basic statistics Opta data. Returns totals per-90 rates. Note: Opta xG data.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Opta Player Summary Statistics — player_opta_summary","text":"","code":"player_opta_summary(   player = NULL,   league = NULL,   season = NULL,   min_minutes = 450,   by_team = FALSE,   source = c(\"local\", \"remote\") )"},{"path":"https://peteowen1.github.io/panna/reference/player_opta_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Opta Player Summary Statistics — player_opta_summary","text":"player Character. Player name filter (case-insensitive partial match). league Character. League code (ENG, ESP, GER, ITA, FRA). season Character. Season (e.g., \"2024-2025\"). min_minutes Integer. Minimum minutes inclusion (default 450). by_team Logical. TRUE, aggregate player team separately. source Character. \"local\" (default) \"remote\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Opta Player Summary Statistics — player_opta_summary","text":"Data frame player summary statistics.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_opta_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Opta Player Summary Statistics — player_opta_summary","text":"","code":"if (FALSE) { # \\dontrun{ player_opta_summary(league = \"ENG\", season = \"2024-2025\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/player_understat_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Understat Player Summary Statistics — player_understat_summary","title":"Understat Player Summary Statistics — player_understat_summary","text":"Aggregate statistics Understat data. Includes Understat's xG model.","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_understat_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Understat Player Summary Statistics — player_understat_summary","text":"","code":"player_understat_summary(   player = NULL,   league = NULL,   season = NULL,   min_minutes = 450,   by_team = FALSE,   source = c(\"remote\", \"local\") )"},{"path":"https://peteowen1.github.io/panna/reference/player_understat_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Understat Player Summary Statistics — player_understat_summary","text":"player Character. Player name filter. league Character. League code (ENG, ESP, GER, ITA, FRA, RUS). season Character. Season Understat format (e.g., \"2024\"). min_minutes Integer. Minimum minutes inclusion. by_team Logical. TRUE, aggregate player team. source Character. \"remote\" (default) \"local\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/player_understat_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Understat Player Summary Statistics — player_understat_summary","text":"Data frame player statistics including xG, xA, xGChain, xGBuildup.","code":""},{"path":"https://peteowen1.github.io/panna/reference/prepare_od_scatter_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Create O/D scatter plot data — prepare_od_scatter_data","title":"Create O/D scatter plot data — prepare_od_scatter_data","text":"Prepares data visualizing offensive vs defensive ratings.","code":""},{"path":"https://peteowen1.github.io/panna/reference/prepare_od_scatter_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create O/D scatter plot data — prepare_od_scatter_data","text":"","code":"prepare_od_scatter_data(ratings)"},{"path":"https://peteowen1.github.io/panna/reference/prepare_od_scatter_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create O/D scatter plot data — prepare_od_scatter_data","text":"ratings O/D ratings data frame","code":""},{"path":"https://peteowen1.github.io/panna/reference/prepare_od_scatter_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create O/D scatter plot data — prepare_od_scatter_data","text":"Data frame ready ggplot2","code":""},{"path":"https://peteowen1.github.io/panna/reference/prepare_rapm_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare RAPM data for model fitting — prepare_rapm_data","title":"Prepare RAPM data for model fitting — prepare_rapm_data","text":"Creates design matrix covariates ridge regression. primary RAPM data preparation function.","code":""},{"path":"https://peteowen1.github.io/panna/reference/prepare_rapm_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare RAPM data for model fitting — prepare_rapm_data","text":"","code":"prepare_rapm_data(   splint_data,   min_minutes = 90,   target_type = c(\"xg\", \"goals\"),   include_covariates = TRUE,   include_league = NULL,   include_season = NULL )"},{"path":"https://peteowen1.github.io/panna/reference/prepare_rapm_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare RAPM data for model fitting — prepare_rapm_data","text":"splint_data Combined splint data create_all_splints min_minutes Minimum minutes player inclusion target_type Type target variable: \"xg\" non-penalty xG (default), \"goals\" actual goals scored. Use \"goals\" shots data unavailable. include_covariates Whether include game state covariates include_league Whether include league dummies (multi-league) include_season Whether include season dummies","code":""},{"path":"https://peteowen1.github.io/panna/reference/prepare_rapm_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare RAPM data for model fitting — prepare_rapm_data","text":"List model inputs","code":""},{"path":"https://peteowen1.github.io/panna/reference/prepare_spm_regression_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare SPM regression data — prepare_spm_regression_data","title":"Prepare SPM regression data — prepare_spm_regression_data","text":"Joins player features RAPM ratings SPM model fitting.","code":""},{"path":"https://peteowen1.github.io/panna/reference/prepare_spm_regression_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare SPM regression data — prepare_spm_regression_data","text":"","code":"prepare_spm_regression_data(player_features, rapm_ratings)"},{"path":"https://peteowen1.github.io/panna/reference/prepare_spm_regression_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare SPM regression data — prepare_spm_regression_data","text":"player_features Data frame create_player_feature_matrix rapm_ratings Data frame extract_rapm_coefficients","code":""},{"path":"https://peteowen1.github.io/panna/reference/prepare_spm_regression_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare SPM regression data — prepare_spm_regression_data","text":"Data frame ready SPM regression","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_advanced_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Process advanced match stats — process_advanced_stats","title":"Process advanced match stats — process_advanced_stats","text":"Cleans advanced player stats data. Uses data.table speed large datasets.","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_advanced_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process advanced match stats — process_advanced_stats","text":"","code":"process_advanced_stats(stats, results, stat_type = \"summary\")"},{"path":"https://peteowen1.github.io/panna/reference/process_advanced_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process advanced match stats — process_advanced_stats","text":"stats Data frame advanced match stats results Processed match results match IDs stat_type type stats processed","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_advanced_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process advanced match stats — process_advanced_stats","text":"Cleaned data frame advanced stats","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_all_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process all raw data — process_all_data","title":"Process all raw data — process_all_data","text":"Master function process collected data. Supports per-component caching avoid reprocessing crashes.","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_all_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process all raw data — process_all_data","text":"","code":"process_all_data(   raw_data,   show_progress = TRUE,   cache_dir = NULL,   raw_data_mtime = NULL )"},{"path":"https://peteowen1.github.io/panna/reference/process_all_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process all raw data — process_all_data","text":"raw_data List raw data pannadata show_progress Logical, whether show progress bar (default TRUE) cache_dir Optional directory per-component caching. provided, component cached separately reprocessed raw data changed. raw_data_mtime Optional modification time raw data file cache invalidation. provided cache_dir set, components reprocessed.","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_all_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process all raw data — process_all_data","text":"List processed data frames","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_match_events.html","id":null,"dir":"Reference","previous_headings":"","what":"Process match events — process_match_events","title":"Process match events — process_match_events","text":"Cleans event data (goals, substitutions) timing.","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_match_events.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process match events — process_match_events","text":"","code":"process_match_events(events, results)"},{"path":"https://peteowen1.github.io/panna/reference/process_match_events.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process match events — process_match_events","text":"events Data frame match events results Processed match results match IDs","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_match_events.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process match events — process_match_events","text":"Cleaned data frame match events","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_match_lineups.html","id":null,"dir":"Reference","previous_headings":"","what":"Process match lineups — process_match_lineups","title":"Process match lineups — process_match_lineups","text":"Cleans lineup data extracts player information. Uses data.table speed large datasets.","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_match_lineups.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process match lineups — process_match_lineups","text":"","code":"process_match_lineups(lineups, results)"},{"path":"https://peteowen1.github.io/panna/reference/process_match_lineups.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process match lineups — process_match_lineups","text":"lineups Data frame match lineups results Processed match results match IDs","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_match_lineups.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process match lineups — process_match_lineups","text":"Cleaned data frame player lineup info","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_match_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Process and clean match results — process_match_results","title":"Process and clean match results — process_match_results","text":"Cleans match results data adds derived columns.","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_match_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process and clean match results — process_match_results","text":"","code":"process_match_results(results)"},{"path":"https://peteowen1.github.io/panna/reference/process_match_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process and clean match results — process_match_results","text":"results Data frame match results","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_match_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process and clean match results — process_match_results","text":"Cleaned data frame standardized columns","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_shooting_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process shooting data — process_shooting_data","title":"Process shooting data — process_shooting_data","text":"Cleans shot-level data xG values.","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_shooting_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process shooting data — process_shooting_data","text":"","code":"process_shooting_data(shooting, results)"},{"path":"https://peteowen1.github.io/panna/reference/process_shooting_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process shooting data — process_shooting_data","text":"shooting Data frame shot data results Processed match results match IDs","code":""},{"path":"https://peteowen1.github.io/panna/reference/process_shooting_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process shooting data — process_shooting_data","text":"Cleaned data frame shot data","code":""},{"path":"https://peteowen1.github.io/panna/reference/progress_msg.html","id":null,"dir":"Reference","previous_headings":"","what":"Print progress message — progress_msg","title":"Print progress message — progress_msg","text":"Print progress message","code":""},{"path":"https://peteowen1.github.io/panna/reference/progress_msg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print progress message — progress_msg","text":"","code":"progress_msg(message, verbose = TRUE)"},{"path":"https://peteowen1.github.io/panna/reference/progress_msg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print progress message — progress_msg","text":"message Message print verbose Whether print","code":""},{"path":"https://peteowen1.github.io/panna/reference/progress_msg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print progress message — progress_msg","text":"NULL (invisibly)","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_local_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Query Local Parquet with SQL — query_local_parquet","title":"Query Local Parquet with SQL — query_local_parquet","text":"Queries local parquet files using DuckDB SQL. enables efficient filtering without loading entire datasets R memory.","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_local_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query Local Parquet with SQL — query_local_parquet","text":"","code":"query_local_parquet(table_type, sql_template, league = NULL, season = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/query_local_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query Local Parquet with SQL — query_local_parquet","text":"table_type Table type (e.g., \"summary\", \"events\", \"shots\") sql_template SQL query template {table} placeholder. placeholder replaced appropriate file pattern. league Optional league filter narrow parquet files searched. season Optional season filter narrow parquet files searched.","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_local_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query Local Parquet with SQL — query_local_parquet","text":"Data frame query results.","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_local_parquet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query Local Parquet with SQL — query_local_parquet","text":"","code":"if (FALSE) { # \\dontrun{ # Query summary data for England sql <- \"SELECT * FROM {table} WHERE league = 'ENG'\" eng_data <- query_local_parquet(\"summary\", sql, league = \"ENG\") } # }"},{"path":"https://peteowen1.github.io/panna/reference/query_local_understat_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Query Local Understat Parquet — query_local_understat_parquet","title":"Query Local Understat Parquet — query_local_understat_parquet","text":"Queries local Understat parquet files using DuckDB SQL.","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_local_understat_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query Local Understat Parquet — query_local_understat_parquet","text":"","code":"query_local_understat_parquet(   table_type,   sql_template,   league = NULL,   season = NULL )"},{"path":"https://peteowen1.github.io/panna/reference/query_local_understat_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query Local Understat Parquet — query_local_understat_parquet","text":"table_type Table type (metadata, roster, shots, events) sql_template SQL query template {table} placeholder league Optional league filter season Optional season filter","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_local_understat_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query Local Understat Parquet — query_local_understat_parquet","text":"Data frame query results","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_remote_opta_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Query remote Opta parquet data — query_remote_opta_parquet","title":"Query remote Opta parquet data — query_remote_opta_parquet","text":"Downloads Opta data GitHub releases queries using DuckDB. Data cached session avoid repeated downloads.","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_remote_opta_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query remote Opta parquet data — query_remote_opta_parquet","text":"","code":"query_remote_opta_parquet(   table_type,   opta_league,   season = NULL,   columns = NULL,   repo = \"peteowen1/pannadata\",   tag = \"opta-latest\" )"},{"path":"https://peteowen1.github.io/panna/reference/query_remote_opta_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query remote Opta parquet data — query_remote_opta_parquet","text":"table_type \"player_stats\" \"shots\" opta_league League code Opta format (EPL, La_Liga, etc.) season Optional season filter (e.g., \"2021-2022\") columns Optional columns select repo GitHub repository (default: \"peteowen1/pannadata\") tag Release tag (default: \"opta-latest\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_remote_opta_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query remote Opta parquet data — query_remote_opta_parquet","text":"Data frame query results","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_remote_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Query Remote Parquet with SQL (Primary Method) — query_remote_parquet","title":"Query Remote Parquet with SQL (Primary Method) — query_remote_parquet","text":"Downloads parquet file GitHub releases temp file, runs SQL query using DuckDB. much faster downloading entire ZIP files : Download done optimized HTTP DuckDB queries local file (network latency per query) filtered/aggregated results come R memory","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_remote_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query Remote Parquet with SQL (Primary Method) — query_remote_parquet","text":"","code":"query_remote_parquet(   table_name,   sql_template,   release = NULL,   tag = \"fbref-latest\" )"},{"path":"https://peteowen1.github.io/panna/reference/query_remote_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query Remote Parquet with SQL (Primary Method) — query_remote_parquet","text":"table_name Character. Name parquet file (without .parquet). sql_template Character. SQL query template {table} placeholder. release Optional. Release info get_latest_release(). tag Character. GitHub release tag download . Defaults \"fbref-latest\".","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_remote_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query Remote Parquet with SQL (Primary Method) — query_remote_parquet","text":"Data frame query results.","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_remote_parquet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query Remote Parquet with SQL (Primary Method) — query_remote_parquet","text":"","code":"if (FALSE) { # \\dontrun{ # Load all summary data sql <- \"SELECT * FROM {table}\" result <- query_remote_parquet(\"summary\", sql)  # Load filtered data (filtering happens in SQL, not R!) sql <- \"SELECT * FROM {table} WHERE league = 'ENG' AND season = '2023-2024'\" eng_2023 <- query_remote_parquet(\"summary\", sql) } # }"},{"path":"https://peteowen1.github.io/panna/reference/query_remote_understat_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Query Remote Understat Parquet — query_remote_understat_parquet","title":"Query Remote Understat Parquet — query_remote_understat_parquet","text":"Downloads Understat parquet file GitHub releases queries .","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_remote_understat_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query Remote Understat Parquet — query_remote_understat_parquet","text":"","code":"query_remote_understat_parquet(table_name, sql_template)"},{"path":"https://peteowen1.github.io/panna/reference/query_remote_understat_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query Remote Understat Parquet — query_remote_understat_parquet","text":"table_name Full table name including understat_ prefix sql_template SQL query template {table} placeholder","code":""},{"path":"https://peteowen1.github.io/panna/reference/query_remote_understat_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query Remote Understat Parquet — query_remote_understat_parquet","text":"Data frame query results","code":""},{"path":"https://peteowen1.github.io/panna/reference/rank_players_panna.html","id":null,"dir":"Reference","previous_headings":"","what":"Rank players by panna rating — rank_players_panna","title":"Rank players by panna rating — rank_players_panna","text":"Returns ranked list players.","code":""},{"path":"https://peteowen1.github.io/panna/reference/rank_players_panna.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rank players by panna rating — rank_players_panna","text":"","code":"rank_players_panna(ratings, top_n = NULL, position = NULL)"},{"path":"https://peteowen1.github.io/panna/reference/rank_players_panna.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rank players by panna rating — rank_players_panna","text":"ratings Data frame panna ratings top_n Number top players show position Optional position filter","code":""},{"path":"https://peteowen1.github.io/panna/reference/rank_players_panna.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rank players by panna rating — rank_players_panna","text":"Data frame ranked players","code":""},{"path":"https://peteowen1.github.io/panna/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. magrittr %>%","code":""},{"path":"https://peteowen1.github.io/panna/reference/report_season_ranges.html","id":null,"dir":"Reference","previous_headings":"","what":"Report season ranges for all data types — report_season_ranges","title":"Report season ranges for all data types — report_season_ranges","text":"Prints summary table showing min/max seasons data component.","code":""},{"path":"https://peteowen1.github.io/panna/reference/report_season_ranges.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Report season ranges for all data types — report_season_ranges","text":"","code":"report_season_ranges(data)"},{"path":"https://peteowen1.github.io/panna/reference/report_season_ranges.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Report season ranges for all data types — report_season_ranges","text":"data List data frames pannadata","code":""},{"path":"https://peteowen1.github.io/panna/reference/report_season_ranges.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Report season ranges for all data types — report_season_ranges","text":"Invisible data frame season range info","code":""},{"path":"https://peteowen1.github.io/panna/reference/reset_fbref_session.html","id":null,"dir":"Reference","previous_headings":"","what":"Reset FBref session — reset_fbref_session","title":"Reset FBref session — reset_fbref_session","text":"Clears cookies creates fresh session. Use changing VPN/IP.","code":""},{"path":"https://peteowen1.github.io/panna/reference/reset_fbref_session.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reset FBref session — reset_fbref_session","text":"","code":"reset_fbref_session()"},{"path":"https://peteowen1.github.io/panna/reference/reset_understat_session.html","id":null,"dir":"Reference","previous_headings":"","what":"Reset Understat session — reset_understat_session","title":"Reset Understat session — reset_understat_session","text":"Clears cookies creates fresh session.","code":""},{"path":"https://peteowen1.github.io/panna/reference/reset_understat_session.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reset Understat session — reset_understat_session","text":"","code":"reset_understat_session()"},{"path":"https://peteowen1.github.io/panna/reference/safe_divide.html","id":null,"dir":"Reference","previous_headings":"","what":"Safe division handling division by zero — safe_divide","title":"Safe division handling division by zero — safe_divide","text":"Safe division handling division zero","code":""},{"path":"https://peteowen1.github.io/panna/reference/safe_divide.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Safe division handling division by zero — safe_divide","text":"","code":"safe_divide(x, y, default = 0)"},{"path":"https://peteowen1.github.io/panna/reference/safe_divide.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Safe division handling division by zero — safe_divide","text":"x Numerator y Denominator default Value return denominator zero (default: 0)","code":""},{"path":"https://peteowen1.github.io/panna/reference/safe_divide.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Safe division handling division by zero — safe_divide","text":"x / y, default y zero","code":""},{"path":"https://peteowen1.github.io/panna/reference/safe_divide.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Safe division handling division by zero — safe_divide","text":"","code":"safe_divide(10, 2) #> [1] 5 safe_divide(10, 0) #> [1] 0 safe_divide(10, 0, default = NA) #> [1] NA"},{"path":"https://peteowen1.github.io/panna/reference/save_cached_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Save data to cache — save_cached_data","title":"Save data to cache — save_cached_data","text":"Save data cache","code":""},{"path":"https://peteowen1.github.io/panna/reference/save_cached_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save data to cache — save_cached_data","text":"","code":"save_cached_data(data, data_type)"},{"path":"https://peteowen1.github.io/panna/reference/save_cached_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save data to cache — save_cached_data","text":"data Data frame cache data_type Type data","code":""},{"path":"https://peteowen1.github.io/panna/reference/save_match_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Save match table to cache — save_match_table","title":"Save match table to cache — save_match_table","text":"Saves hierarchical path: {table_type}/{league}/{season}/{id}.rds","code":""},{"path":"https://peteowen1.github.io/panna/reference/save_match_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save match table to cache — save_match_table","text":"","code":"save_match_table(data, league, season, fbref_id, table_type)"},{"path":"https://peteowen1.github.io/panna/reference/save_match_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save match table to cache — save_match_table","text":"data Data frame save league League code season Season string fbref_id FBref match ID table_type Type table","code":""},{"path":"https://peteowen1.github.io/panna/reference/save_match_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save match table to cache — save_match_table","text":"Invisible path saved file","code":""},{"path":"https://peteowen1.github.io/panna/reference/save_understat_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Save Understat match table to parquet cache — save_understat_table","title":"Save Understat match table to parquet cache — save_understat_table","text":"Appends match data existing parquet file creates new one. Matches identified understat_id avoid duplicates. Uses temp file + rename avoid Windows file locking issues.","code":""},{"path":"https://peteowen1.github.io/panna/reference/save_understat_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save Understat match table to parquet cache — save_understat_table","text":"","code":"save_understat_table(data, league, season, table_type)"},{"path":"https://peteowen1.github.io/panna/reference/save_understat_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save Understat match table to parquet cache — save_understat_table","text":"data Data frame save (single match) league League code season Season string table_type Type table (metadata, roster, shots)","code":""},{"path":"https://peteowen1.github.io/panna/reference/save_understat_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save Understat match table to parquet cache — save_understat_table","text":"Invisible path saved file","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_comp_season.html","id":null,"dir":"Reference","previous_headings":"","what":"Scrape a competition-season — scrape_comp_season","title":"Scrape a competition-season — scrape_comp_season","text":"Scrapes matches competition-season, either cache FBref. Handles fixture fetching, caching logic, progress reporting.","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_comp_season.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scrape a competition-season — scrape_comp_season","text":"","code":"scrape_comp_season(   comp,   season,   table_types,   delay,   force_rescrape,   max_matches = Inf )"},{"path":"https://peteowen1.github.io/panna/reference/scrape_comp_season.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scrape a competition-season — scrape_comp_season","text":"comp Competition code (e.g., \"ENG\", \"UCL\") season Season string (e.g., \"2023-2024\") table_types Character vector table types scrape delay Seconds requests force_rescrape TRUE, ignore cache rescrape max_matches Maximum matches scrape (default Inf)","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_comp_season.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scrape a competition-season — scrape_comp_season","text":"Number matches scraped (tracking session totals)","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_comp_season.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Scrape a competition-season — scrape_comp_season","text":"","code":"if (FALSE) { # \\dontrun{ n <- scrape_comp_season(\"ENG\", \"2023-2024\",                         table_types = c(\"summary\", \"events\"),                         delay = 5, force_rescrape = FALSE) } # }"},{"path":"https://peteowen1.github.io/panna/reference/scrape_fbref_matches.html","id":null,"dir":"Reference","previous_headings":"","what":"Scrape FBref match data directly — scrape_fbref_matches","title":"Scrape FBref match data directly — scrape_fbref_matches","text":"Master function scraping match-level data FBref. Uses direct HTTP requests browser headers bypass Cloudflare. Implements polite scraping rate limiting incremental caching.","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_fbref_matches.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scrape FBref match data directly — scrape_fbref_matches","text":"","code":"scrape_fbref_matches(   match_urls,   league,   season,   table_types = c(\"summary\", \"passing\", \"passing_types\", \"defense\", \"possession\", \"misc\",     \"keeper\", \"shots\", \"events\", \"metadata\"),   delay = 5,   use_cache = TRUE,   verbose = TRUE,   max_matches = Inf )"},{"path":"https://peteowen1.github.io/panna/reference/scrape_fbref_matches.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scrape FBref match data directly — scrape_fbref_matches","text":"match_urls Character vector FBref match URLs league League code file naming (e.g., \"ENG\", \"ESP\", \"GER\", \"ITA\", \"FRA\") season Season string file naming (e.g., \"2024-2025\") table_types Character vector table types scrape. Options: \"summary\", \"passing\", \"passing_types\", \"defense\", \"possession\", \"misc\", \"keeper\", \"shots\", \"metadata\" Default: delay Seconds requests (default 5, minimum 3) use_cache Whether use/update cache (default TRUE) verbose Print progress messages (default TRUE) max_matches Maximum number matches scrape (default Inf )","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_fbref_matches.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scrape FBref match data directly — scrape_fbref_matches","text":"List containing data frames table type: metadata Match metadata (teams, scores, IDs, manager, captain, venue, etc.) summary Player summary stats passing Passing stats defense Defensive stats possession Possession stats shots Shot data events Match events timeline (goals, cards, substitutions)","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_fbref_matches.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Scrape FBref match data directly — scrape_fbref_matches","text":"","code":"if (FALSE) { # \\dontrun{ urls <- c(   \"https://fbref.com/en/matches/12c8079e/Girona-Rayo-Vallecano-August-15-2025-La-Liga\" ) data <- scrape_fbref_matches(urls, league = \"ESP\", season = \"2025-2026\") data$summary  # Player stats data$shots    # Shot-level data data$events   # Match timeline } # }"},{"path":"https://peteowen1.github.io/panna/reference/scrape_fixtures.html","id":null,"dir":"Reference","previous_headings":"","what":"Scrape match URLs from fixtures page — scrape_fixtures","title":"Scrape match URLs from fixtures page — scrape_fixtures","text":"Fetches league's fixtures page extracts match URLs.","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_fixtures.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scrape match URLs from fixtures page — scrape_fixtures","text":"","code":"scrape_fixtures(league, season, completed_only = TRUE)"},{"path":"https://peteowen1.github.io/panna/reference/scrape_fixtures.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scrape match URLs from fixtures page — scrape_fixtures","text":"league League code (e.g., \"ENG\", \"ESP\") season Season string (e.g., \"2024-2025\") completed_only TRUE, return matches scores (default TRUE)","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_fixtures.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scrape match URLs from fixtures page — scrape_fixtures","text":"Data frame match_url, home_team, away_team, date columns","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_match_events.html","id":null,"dir":"Reference","previous_headings":"","what":"Scrape match events timeline from FBref page — scrape_match_events","title":"Scrape match events timeline from FBref page — scrape_match_events","text":"Parses events wrap section extract goals, cards, substitutions precise minute information.","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_match_events.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scrape match events timeline from FBref page — scrape_match_events","text":"","code":"scrape_match_events(page, match_url)"},{"path":"https://peteowen1.github.io/panna/reference/scrape_match_events.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scrape match events timeline from FBref page — scrape_match_events","text":"page Parsed HTML document match_url Original match URL ID extraction","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_match_events.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scrape match events timeline from FBref page — scrape_match_events","text":"Data frame event timeline, NULL events found","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_fixtures.html","id":null,"dir":"Reference","previous_headings":"","what":"Scrape fixtures from Understat league page — scrape_understat_fixtures","title":"Scrape fixtures from Understat league page — scrape_understat_fixtures","text":"Gets list matches Understat IDs league season.","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_fixtures.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scrape fixtures from Understat league page — scrape_understat_fixtures","text":"","code":"scrape_understat_fixtures(league, season, completed_only = TRUE)"},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_fixtures.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scrape fixtures from Understat league page — scrape_understat_fixtures","text":"league League code (e.g., \"ENG\", \"ESP\") season Season year (e.g., 2024 \"2024\") completed_only TRUE, return completed matches (default TRUE)","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_fixtures.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scrape fixtures from Understat league page — scrape_understat_fixtures","text":"Data frame match info including understat_id, NULL data extracted (expected current Understat site structure)","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_fixtures.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Scrape fixtures from Understat league page — scrape_understat_fixtures","text":"2024, Understat loads fixture data via JavaScript. function return NULL data initial HTML response. Use scrape_understat_match_range() alternative scrape matches ID range, use RSelenium/chromote JS-rendered content.","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_fixtures.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Scrape fixtures from Understat league page — scrape_understat_fixtures","text":"","code":"if (FALSE) { # \\dontrun{ # This will likely return NULL due to JS-loaded content fixtures <- scrape_understat_fixtures(\"ENG\", 2024)  # Alternative: use match ID range results <- scrape_understat_match_range(28900, 28910, \"ENG\", 2024) } # }"},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_match.html","id":null,"dir":"Reference","previous_headings":"","what":"Scrape single Understat match — scrape_understat_match","title":"Scrape single Understat match — scrape_understat_match","text":"Fetches parses match data Understat. Uses HTML page metadata events, API endpoint roster shots data.","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_match.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scrape single Understat match — scrape_understat_match","text":"","code":"scrape_understat_match(understat_id, league, season, save_cache = TRUE)"},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_match.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scrape single Understat match — scrape_understat_match","text":"understat_id Understat match ID league League code (caching) season Season (caching) save_cache Whether save cache (default TRUE)","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_match.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scrape single Understat match — scrape_understat_match","text":"List metadata, events, roster, shots data frames","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_match.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Scrape single Understat match — scrape_understat_match","text":"","code":"if (FALSE) { # \\dontrun{ match_data <- scrape_understat_match(28988, \"ENG\", 2024) print(match_data$metadata)   # Match info, xG totals print(match_data$events)     # Goals, subs, cards timeline print(match_data$roster)     # Player stats (xG, xA, etc.) print(match_data$shots)      # Shot-level xG } # }"},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_matches.html","id":null,"dir":"Reference","previous_headings":"","what":"Scrape multiple Understat matches — scrape_understat_matches","title":"Scrape multiple Understat matches — scrape_understat_matches","text":"Scrapes multiple matches rate limiting caching.","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_matches.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scrape multiple Understat matches — scrape_understat_matches","text":"","code":"scrape_understat_matches(   understat_ids,   league,   season,   delay_seconds = 3,   skip_cached = TRUE,   max_matches = NULL )"},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_matches.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scrape multiple Understat matches — scrape_understat_matches","text":"understat_ids Vector Understat match IDs league League code season Season delay_seconds Delay requests (default 3) skip_cached Skip already cached matches (default TRUE) max_matches Maximum matches scrape (default NULL = )","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_matches.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scrape multiple Understat matches — scrape_understat_matches","text":"List counts scraped, cached, failed matches","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_match_range.html","id":null,"dir":"Reference","previous_headings":"","what":"Scrape matches by Understat ID range — scrape_understat_match_range","title":"Scrape matches by Understat ID range — scrape_understat_match_range","text":"Iteratively scrapes matches within given ID range. useful fixture lists obtained directly (since Understat loads via JS).","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_match_range.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scrape matches by Understat ID range — scrape_understat_match_range","text":"","code":"scrape_understat_match_range(   start_id,   end_id,   league,   season,   delay = 3,   skip_invalid = TRUE )"},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_match_range.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scrape matches by Understat ID range — scrape_understat_match_range","text":"start_id Starting match ID end_id Ending match ID (inclusive) league League code caching (e.g., \"ENG\") season Season caching (e.g., 2024) delay Seconds requests (default 3) skip_invalid TRUE (default), silently skip invalid match IDs","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_match_range.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scrape matches by Understat ID range — scrape_understat_match_range","text":"List match results (metadata , roster/shots require JS)","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_match_range.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Scrape matches by Understat ID range — scrape_understat_match_range","text":"Understat match IDs sequential integers. Recent seasons tend higher IDs. example, 2024-25 Premier League matches ~28000 range.","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_match_range.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Scrape matches by Understat ID range — scrape_understat_match_range","text":"","code":"if (FALSE) { # \\dontrun{ # Scrape 10 matches starting from ID 28900 results <- scrape_understat_match_range(28900, 28909, \"ENG\", 2024)  # Extract just the metadata metadata <- dplyr::bind_rows(lapply(results, function(x) x$metadata)) } # }"},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_season.html","id":null,"dir":"Reference","previous_headings":"","what":"Scrape full Understat season — scrape_understat_season","title":"Scrape full Understat season — scrape_understat_season","text":"Scrapes matches league-season, first fetching fixtures.","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_season.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scrape full Understat season — scrape_understat_season","text":"","code":"scrape_understat_season(   league,   season,   delay_seconds = 3,   skip_cached = TRUE,   max_matches = NULL )"},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_season.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scrape full Understat season — scrape_understat_season","text":"league League code (e.g., \"ENG\") season Season year (e.g., 2024) delay_seconds Delay requests (default 3) skip_cached Skip already cached matches (default TRUE) max_matches Maximum matches scrape (default NULL = )","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_season.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scrape full Understat season — scrape_understat_season","text":"List counts scraped, cached, failed matches","code":""},{"path":"https://peteowen1.github.io/panna/reference/scrape_understat_season.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Scrape full Understat season — scrape_understat_season","text":"","code":"if (FALSE) { # \\dontrun{ # Scrape all 2024 Premier League matches from Understat scrape_understat_season(\"ENG\", 2024)  # Scrape with limit for testing scrape_understat_season(\"ENG\", 2024, max_matches = 5) } # }"},{"path":"https://peteowen1.github.io/panna/reference/split_od_contributions.html","id":null,"dir":"Reference","previous_headings":"","what":"Split O/D contributions from existing ratings — split_od_contributions","title":"Split O/D contributions from existing ratings — split_od_contributions","text":"Approximates O/D split overall panna feature data.","code":""},{"path":"https://peteowen1.github.io/panna/reference/split_od_contributions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split O/D contributions from existing ratings — split_od_contributions","text":"","code":"split_od_contributions(panna_ratings, player_features)"},{"path":"https://peteowen1.github.io/panna/reference/split_od_contributions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split O/D contributions from existing ratings — split_od_contributions","text":"panna_ratings Overall panna ratings player_features Player features offensive/defensive stats","code":""},{"path":"https://peteowen1.github.io/panna/reference/split_od_contributions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split O/D contributions from existing ratings — split_od_contributions","text":"Data frame estimated O-panna D-panna","code":""},{"path":"https://peteowen1.github.io/panna/reference/standardize_player_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize player names — standardize_player_names","title":"Standardize player names — standardize_player_names","text":"Cleans standardizes player names consistent matching across datasets. Uses memoization cache unique names O(1) lookup repeated values.","code":""},{"path":"https://peteowen1.github.io/panna/reference/standardize_player_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize player names — standardize_player_names","text":"","code":"standardize_player_names(names)"},{"path":"https://peteowen1.github.io/panna/reference/standardize_player_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardize player names — standardize_player_names","text":"names Character vector player names","code":""},{"path":"https://peteowen1.github.io/panna/reference/standardize_player_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardize player names — standardize_player_names","text":"Character vector standardized names","code":""},{"path":"https://peteowen1.github.io/panna/reference/standardize_player_names.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standardize player names — standardize_player_names","text":"","code":"standardize_player_names(c(\"Mohamed Salah\", \"M. Salah\", \"SALAH\")) #> [1] \"Mohamed Salah\" \"M. Salah\"      \"Salah\""},{"path":"https://peteowen1.github.io/panna/reference/standardize_team_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize team names — standardize_team_names","title":"Standardize team names — standardize_team_names","text":"Cleans standardizes team names consistent matching. Uses vectorized lookup speed large datasets.","code":""},{"path":"https://peteowen1.github.io/panna/reference/standardize_team_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize team names — standardize_team_names","text":"","code":"standardize_team_names(names)"},{"path":"https://peteowen1.github.io/panna/reference/standardize_team_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardize team names — standardize_team_names","text":"names Character vector team names","code":""},{"path":"https://peteowen1.github.io/panna/reference/standardize_team_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardize team names — standardize_team_names","text":"Character vector standardized names","code":""},{"path":"https://peteowen1.github.io/panna/reference/standardize_team_names.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standardize team names — standardize_team_names","text":"","code":"standardize_team_names(c(\"Manchester Utd\", \"Man United\", \"Manchester United\")) #> [1] \"Manchester United\" \"Manchester United\" \"Manchester United\""},{"path":"https://peteowen1.github.io/panna/reference/to_opta_league.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert League Code to Opta Format — to_opta_league","title":"Convert League Code to Opta Format — to_opta_league","text":"Converts panna league codes (ENG, ESP, etc.) Opta format (EPL, La_Liga, etc.).","code":""},{"path":"https://peteowen1.github.io/panna/reference/to_opta_league.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert League Code to Opta Format — to_opta_league","text":"","code":"to_opta_league(league)"},{"path":"https://peteowen1.github.io/panna/reference/to_opta_league.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert League Code to Opta Format — to_opta_league","text":"league Panna league code Opta league code.","code":""},{"path":"https://peteowen1.github.io/panna/reference/to_opta_league.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert League Code to Opta Format — to_opta_league","text":"Opta league code.","code":""},{"path":"https://peteowen1.github.io/panna/reference/understat_competitions.html","id":null,"dir":"Reference","previous_headings":"","what":"Understat competition metadata — understat_competitions","title":"Understat competition metadata — understat_competitions","text":"data frame containing Understat competition slugs metadata supported competitions. Understat covers Big 5 European leagues plus Russia.","code":""},{"path":"https://peteowen1.github.io/panna/reference/understat_competitions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Understat competition metadata — understat_competitions","text":"","code":"understat_competitions"},{"path":"https://peteowen1.github.io/panna/reference/understat_competitions.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Understat competition metadata — understat_competitions","text":"data frame columns: code Short code used file paths (e.g., \"ENG\", \"RUS\") name Full competition name understat_slug URL slug Understat URLs (e.g., \"EPL\", \"La_liga\") season_format seasons formatted: \"YYYY\" (Understat uses single year)","code":""},{"path":"https://peteowen1.github.io/panna/reference/understat_competitions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Understat competition metadata — understat_competitions","text":"","code":"understat_competitions #>   code                   name understat_slug season_format #> 1  ENG         Premier League            EPL          YYYY #> 2  ESP                La Liga        La_liga          YYYY #> 3  GER             Bundesliga     Bundesliga          YYYY #> 4  ITA                Serie A        Serie_A          YYYY #> 5  FRA                Ligue 1        Ligue_1          YYYY #> 6  RUS Russian Premier League           RFPL          YYYY understat_competitions[understat_competitions$code == \"ENG\", ] #>   code           name understat_slug season_format #> 1  ENG Premier League            EPL          YYYY get_understat_slug(\"ENG\") #> [1] \"EPL\""},{"path":"https://peteowen1.github.io/panna/reference/understat_league_to_code.html","id":null,"dir":"Reference","previous_headings":"","what":"Map Understat league name to our code — understat_league_to_code","title":"Map Understat league name to our code — understat_league_to_code","text":"Converts Understat's league name (e.g., \"EPL\", \"La liga\") standardized code (e.g., \"ENG\", \"ESP\").","code":""},{"path":"https://peteowen1.github.io/panna/reference/understat_league_to_code.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map Understat league name to our code — understat_league_to_code","text":"","code":"understat_league_to_code(understat_league)"},{"path":"https://peteowen1.github.io/panna/reference/understat_league_to_code.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Map Understat league name to our code — understat_league_to_code","text":"understat_league Character, league name Understat metadata","code":""},{"path":"https://peteowen1.github.io/panna/reference/understat_league_to_code.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Map Understat league name to our code — understat_league_to_code","text":"Character, league code, NA found","code":""},{"path":"https://peteowen1.github.io/panna/reference/understat_league_to_code.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Map Understat league name to our code — understat_league_to_code","text":"","code":"understat_league_to_code(\"EPL\")      # \"ENG\" #> [1] \"ENG\" understat_league_to_code(\"La liga\")  # \"ESP\" #> [1] \"ESP\" understat_league_to_code(\"Serie A\")  # \"ITA\" #> [1] \"ITA\""},{"path":"https://peteowen1.github.io/panna/reference/understat_to_fbref_season.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Understat season to FBref season — understat_to_fbref_season","title":"Convert Understat season to FBref season — understat_to_fbref_season","text":"Converts Understat's YYYY format FBref's YYYY-YYYY format.","code":""},{"path":"https://peteowen1.github.io/panna/reference/understat_to_fbref_season.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Understat season to FBref season — understat_to_fbref_season","text":"","code":"understat_to_fbref_season(understat_season)"},{"path":"https://peteowen1.github.io/panna/reference/understat_to_fbref_season.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Understat season to FBref season — understat_to_fbref_season","text":"understat_season Character numeric, season Understat format (e.g., \"2023\" 2023)","code":""},{"path":"https://peteowen1.github.io/panna/reference/understat_to_fbref_season.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Understat season to FBref season — understat_to_fbref_season","text":"Character, season FBref format (e.g., \"2023-2024\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/understat_to_fbref_season.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert Understat season to FBref season — understat_to_fbref_season","text":"","code":"understat_to_fbref_season(2023)    # \"2023-2024\" #> [1] \"2023-2024\" understat_to_fbref_season(\"2024\")  # \"2024-2025\" #> [1] \"2024-2025\""},{"path":"https://peteowen1.github.io/panna/reference/validate_data_completeness.html","id":null,"dir":"Reference","previous_headings":"","what":"Check and report data completeness — validate_data_completeness","title":"Check and report data completeness — validate_data_completeness","text":"Validates data quality reports missing values.","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_data_completeness.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check and report data completeness — validate_data_completeness","text":"","code":"validate_data_completeness(data, required_cols = NULL, warn = TRUE)"},{"path":"https://peteowen1.github.io/panna/reference/validate_data_completeness.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check and report data completeness — validate_data_completeness","text":"data Data frame validate required_cols Character vector required column names warn Logical, whether print warnings missing data","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_data_completeness.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check and report data completeness — validate_data_completeness","text":"List validation results","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_panna_ratings.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate panna ratings — validate_panna_ratings","title":"Validate panna ratings — validate_panna_ratings","text":"Calculates validation metrics panna ratings.","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_panna_ratings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate panna ratings — validate_panna_ratings","text":"","code":"validate_panna_ratings(panna_ratings, rapm_ratings, spm_ratings)"},{"path":"https://peteowen1.github.io/panna/reference/validate_panna_ratings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate panna ratings — validate_panna_ratings","text":"panna_ratings Panna ratings rapm_ratings RAPM ratings spm_ratings SPM ratings","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_panna_ratings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate panna ratings — validate_panna_ratings","text":"List validation metrics","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_predictive_power.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate predictive power — validate_predictive_power","title":"Validate predictive power — validate_predictive_power","text":"Tests panna ratings next season performance.","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_predictive_power.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate predictive power — validate_predictive_power","text":"","code":"validate_predictive_power(panna_ratings, next_season_rapm)"},{"path":"https://peteowen1.github.io/panna/reference/validate_predictive_power.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate predictive power — validate_predictive_power","text":"panna_ratings Panna ratings season N next_season_rapm RAPM season N+1","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_predictive_power.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate predictive power — validate_predictive_power","text":"Validation metrics","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_seasons.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate season input — validate_seasons","title":"Validate season input — validate_seasons","text":"Checks seasons valid Premier League FBref data. FBref detailed data starting 2017-18 season.","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_seasons.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate season input — validate_seasons","text":"","code":"validate_seasons(seasons)"},{"path":"https://peteowen1.github.io/panna/reference/validate_seasons.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate season input — validate_seasons","text":"seasons Character vector seasons format \"YYYY-YYYY\" (e.g., \"2023-2024\")","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_seasons.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate season input — validate_seasons","text":"TRUE valid, otherwise throws error","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_seasons.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate season input — validate_seasons","text":"","code":"validate_seasons(\"2023-2024\") #> [1] TRUE validate_seasons(c(\"2022-2023\", \"2023-2024\")) #> [1] TRUE"},{"path":"https://peteowen1.github.io/panna/reference/validate_spm_prediction.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate SPM prediction accuracy — validate_spm_prediction","title":"Validate SPM prediction accuracy — validate_spm_prediction","text":"Assesses well SPM predicts RAPM. Supports weighted metrics match weighted model fitting - care accuracy high-minute players whose RAPM estimates reliable.","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_spm_prediction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate SPM prediction accuracy — validate_spm_prediction","text":"","code":"validate_spm_prediction(   spm_ratings,   rapm_ratings,   weight_by_minutes = TRUE,   weight_transform = \"sqrt\" )"},{"path":"https://peteowen1.github.io/panna/reference/validate_spm_prediction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate SPM prediction accuracy — validate_spm_prediction","text":"spm_ratings Data frame SPM predictions (must include total_minutes weighting) rapm_ratings Data frame actual RAPM weight_by_minutes Whether weight metrics minutes (default TRUE) weight_transform Transform weights: \"sqrt\" (default), \"linear\", \"log\"","code":""},{"path":"https://peteowen1.github.io/panna/reference/validate_spm_prediction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate SPM prediction accuracy — validate_spm_prediction","text":"List validation metrics (weighted unweighted)","code":""},{"path":"https://peteowen1.github.io/panna/reference/visualize_od_scatter.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize O/D scatter — visualize_od_scatter","title":"Visualize O/D scatter — visualize_od_scatter","text":"Creates scatter plot offensive vs defensive ratings. Requires ggplot2.","code":""},{"path":"https://peteowen1.github.io/panna/reference/visualize_od_scatter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize O/D scatter — visualize_od_scatter","text":"","code":"visualize_od_scatter(ratings, highlight_top = 10)"},{"path":"https://peteowen1.github.io/panna/reference/visualize_od_scatter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize O/D scatter — visualize_od_scatter","text":"ratings O/D ratings data frame highlight_top Number top players label","code":""},{"path":"https://peteowen1.github.io/panna/reference/visualize_od_scatter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize O/D scatter — visualize_od_scatter","text":"ggplot object","code":""},{"path":"https://peteowen1.github.io/panna/news/index.html","id":"panna-010","dir":"Changelog","previous_headings":"","what":"panna 0.1.0","title":"panna 0.1.0","text":"Initial release panna player rating system.","code":""},{"path":"https://peteowen1.github.io/panna/news/index.html","id":"rating-system-0-1-0","dir":"Changelog","previous_headings":"","what":"Rating System","title":"panna 0.1.0","text":"RAPM (Regularized Adjusted Plus-Minus) implementation using splint-based analysis SPM (Statistical Plus-Minus) box score prediction RAPM Combined Panna ratings SPM Bayesian prior Offensive defensive rating decomposition","code":""},{"path":"https://peteowen1.github.io/panna/news/index.html","id":"data-sources-0-1-0","dir":"Changelog","previous_headings":"","what":"Data Sources","title":"panna 0.1.0","text":"FBref support StatsBomb xG (Big 5 leagues, cups, international) Opta support 271 columns per player (Big 5 leagues, 2010+) Understat support xGChain xGBuildup (Big 5 + Russia)","code":""},{"path":"https://peteowen1.github.io/panna/news/index.html","id":"data-loading-0-1-0","dir":"Changelog","previous_headings":"","what":"Data Loading","title":"panna 0.1.0","text":"DuckDB-based efficient parquet loading load_summary(), load_passing(), load_defense(), load_possession(), load_shots(), load_metadata() FBref load_opta_stats(), load_opta_shots(), load_opta_big5() Opta load_understat_roster(), load_understat_shots() Understat","code":""},{"path":"https://peteowen1.github.io/panna/news/index.html","id":"player-statistics-0-1-0","dir":"Changelog","previous_headings":"","what":"Player Statistics","title":"panna 0.1.0","text":"Aggregated player statistics player_fbref_*(), player_opta_*(), player_understat_*() functions Filtering minimum minutes, leagues, seasons","code":""},{"path":"https://peteowen1.github.io/panna/news/index.html","id":"data-distribution-0-1-0","dir":"Changelog","previous_headings":"","what":"Data Distribution","title":"panna 0.1.0","text":"GitHub Releases integration via piggyback pb_download_source() data download pb_upload_parquet() data upload","code":""}]
